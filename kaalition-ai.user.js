// ==UserScript==
// @name         KAALITION AI
// @namespace    https://github.com/GleTur/KAALITION_AI
// @version      V5
// @description  –ù–µ–±–æ–ª—å—à–æ–π Beta Update
// @author       News Official –ø—Ä–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ #–ö–ê–ê–õ–ò–¶–ò–Ø
// @supportURL   https://t.me/news_itd
// @match        https://xn--d1ah4a.com/*
// @updateURL    https://github.com/GleTur/KAALITION_AI/raw/refs/heads/main/kaalition-ai.user.V5.js
// @downloadURL  https://github.com/GleTur/KAALITION_AI/raw/refs/heads/main/kaalition-ai.user.V5.js
// @supportURL   https://github.com/GleTur/KAALITION_AI/issues
// @homepageURL  https://github.com/GleTur/KAALITION_AI
// @grant        GM_xmlhttpRequest
// @grant        GM_getValue
// @grant        GM_setValue
// @grant        GM_addStyle
// @run-at       document-end
// ==/UserScript==

(function() {
    'use strict';

    console.log('üöÄ KAALITION AI PRO 4.3 - Premium Design Edition with Plugins');

    // ========== –ö–û–ù–§–ò–ì ==========
    const CONFIG = {
        API_URL: 'https://api.groq.com/openai/v1/chat/completions',
        API_KEY: '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',
        MODEL: 'llama-3.3-70b-versatile',
        MAX_TOKENS: 2048
    };

    // ========== –°–ò–°–¢–ï–ú–ê –ü–õ–ê–ì–ò–ù–û–í ==========
    const PLUGIN_SYSTEM = {
        plugins: [],
        installedPlugins: GM_getValue('installed_plugins', []),

        // –ü—Ä–µ–º–∏—É–º –ø–ª–∞–≥–∏–Ω—ã –æ—Ç KAALITION
        premiumPlugins: [
            {
                id: 'post_generator',
                name: 'üìù –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ü–æ—Å—Ç–æ–≤',
                author: 'KAALITION',
                version: '1.0',
                description: '–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫—Ä—É—Ç—ã–µ –ø–æ—Å—Ç—ã –¥–ª—è –ò–¢–î —Å —É—á–µ—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞',
                code: `function generatePost(context, topic) {
    const templates = [
        "üî• **–ì–æ—Ä—è—á–∏–µ –Ω–æ–≤–æ—Å—Ç–∏!** üöÄ\\n\\n{content}\\n\\nüí¨ –û–±—Å—É–∂–¥–∞–µ–º –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ö!\\n#ITD #–ù–æ–≤–æ—Å—Ç–∏",
        "ü§î **–ú—ã—Å–ª–∏ –≤—Å–ª—É—Ö** üí≠\\n\\n{content}\\n\\n–ê —á—Ç–æ –¥—É–º–∞–µ—Ç–µ –≤—ã?\\n#–û–±—Å—É–∂–¥–µ–Ω–∏–µ #ITD",
        "üéØ **–í–∞–∂–Ω–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ** üì¢\\n\\n{content}\\n\\n–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏—Ç–µ —Å—Ä–µ–¥–∏ –¥—Ä—É–∑–µ–π!\\n#–í–∞–∂–Ω–æ #ITD",
        "üòÇ **–ú–µ–º –¥–Ω—è** ü§™\\n\\n{content}\\n\\n–ü–æ–¥–µ–ª–∏—Å—å —Å –¥—Ä—É–≥–æ–º!\\n#–ú–µ–º—ã #–Æ–º–æ—Ä",
        "üí° **–ò–¥–µ—è –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞** üõ†Ô∏è\\n\\n{content}\\n\\n–ö—Ç–æ –≥–æ—Ç–æ–≤ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è?\\n#–ü—Ä–æ–µ–∫—Ç #–ö–æ–ª–ª–∞–±–æ—Ä–∞—Ü–∏—è"
    ];

    const template = templates[Math.floor(Math.random() * templates.length)];
    const hashtags = ['#–ö–ê–ê–õ–ò–¶–ò–Ø', '#KAALITION', '#AI', '#–ò–¢–î'];

    return template.replace('{content}', context) + '\\n\\n' + hashtags.join(' ');
}`
            },
            {
                id: 'image_analyzer',
                name: 'üñºÔ∏è –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π',
                author: 'KAALITION',
                version: '1.0',
                description: '–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è',
                code: `async function analyzeImage(imageUrl) {
    // –ó–∞–≥–ª—É—à–∫–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ AI
    const analysis = {
        description: "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ AI",
        tags: ["visual", "content", "analysis"],
        colors: [],
        objects: []
    };

    return \`üñºÔ∏è **–ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:**\\n\\n\` +
           \`üì∏ **–û–ø–∏—Å–∞–Ω–∏–µ:** –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—ã–ª–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ AI\\n\` +
           \`üè∑Ô∏è **–¢–µ–≥–∏:** \${analysis.tags.join(', ')}\\n\` +
           \`‚ú® **–ö–∞—á–µ—Å—Ç–≤–æ:** –í—ã—Å–æ–∫–æ–µ\`;
}`
            },
            {
                id: 'code_generator',
                name: 'üíª –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ö–æ–¥–∞',
                author: 'KAALITION',
                version: '1.0',
                description: '–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–¥ –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é',
                code: `function generateCode(language, description) {
    const templates = {
        javascript: \`// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ JavaScript\\nfunction solution() {\\n    // \${description}\\n    console.log("–†–µ—à–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ");\\n}\\n\`,
        python: \`# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞ Python\\ndef solution():\\n    # \${description}\\n    print("–†–µ—à–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ")\\n\`,
        html: \`<!-- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –∫–æ–¥–∞ -->\\n<div class="container">\\n    <!-- \${description} -->\\n    <p>–ö–æ–Ω—Ç–µ–Ω—Ç</p>\\n</div>\`
    };

    return templates[language] || "–Ø–∑—ã–∫ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è";
}`
            },
            {
                id: 'meme_generator',
                name: 'üòÇ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ú–µ–º–æ–≤',
                author: 'KAALITION',
                version: '1.0',
                description: '–°–æ–∑–¥–∞–µ—Ç –º–µ–º—ã –∏ —à—É—Ç–∫–∏',
                code: `function generateMeme(topic) {
    const memes = [
        \`–ö–æ–≥–¥–∞ \${topic}:\\nüë®‚Äçüíª: –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç!\\nüêõ: –ü–æ–∑–≤–æ–ª—å—Ç–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å—Å—è\`,
        \`–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: \${topic}\\n–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ê –º–æ–∂–Ω–æ –≤–æ—Ç —Ç–∞–∫?\\n–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: üíÄ\`,
        \`–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ \${topic}:\\n1 —á–∞—Å - –≥—É–≥–ª–µ–Ω–∏–µ\\n5 –º–∏–Ω—É—Ç - –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–∞\\nüòé\`
    ];

    return memes[Math.floor(Math.random() * memes.length)];
}`
            },
            {
                id: 'translator_pro',
                name: 'üåç –ü–µ—Ä–µ–≤–æ–¥—á–∏–∫ PRO',
                author: 'KAALITION',
                version: '1.0',
                description: '–ü–µ—Ä–µ–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç –º–µ–∂–¥—É —è–∑—ã–∫–∞–º–∏',
                code: `async function translateText(text, targetLang) {
    const langs = {
        'ru': 'üá∑üá∫ –†—É—Å—Å–∫–∏–π',
        'en': 'üá∫üá∏ –ê–Ω–≥–ª–∏–π—Å–∫–∏–π',
        'es': 'üá™üá∏ –ò—Å–ø–∞–Ω—Å–∫–∏–π',
        'de': 'üá©üá™ –ù–µ–º–µ—Ü–∫–∏–π',
        'fr': 'üá´üá∑ –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π'
    };

    return \`üåç **–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ \${langs[targetLang] || targetLang}:**\\n\\n\${text}\\n\\n‚ú® *–ü–µ—Ä–µ–≤–µ–¥–µ–Ω–æ KAALITION AI*\`;
}`
            }
        ],

        // –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–ª–∞–≥–∏–Ω—ã
        customPlugins: GM_getValue('custom_plugins', []),

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –ø–ª–∞–≥–∏–Ω–æ–≤
        init: function() {
            console.log('üîå –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –ø–ª–∞–≥–∏–Ω–æ–≤...');

            // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–µ–º–∏—É–º –ø–ª–∞–≥–∏–Ω—ã
            this.premiumPlugins.forEach(plugin => {
                this.registerPlugin(plugin);
            });

            // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–ª–∞–≥–∏–Ω—ã
            this.customPlugins.forEach(plugin => {
                this.registerPlugin(plugin);
            });

            console.log(`‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ –ø–ª–∞–≥–∏–Ω–æ–≤: ${this.plugins.length}`);
        },

        // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–ª–∞–≥–∏–Ω–∞
        registerPlugin: function(plugin) {
            try {
                // –í—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–¥ –ø–ª–∞–≥–∏–Ω–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏
                const pluginFunction = new Function('return ' + plugin.code)();

                this.plugins.push({
                    ...plugin,
                    execute: pluginFunction
                });

                console.log(`‚úÖ –ü–ª–∞–≥–∏–Ω –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω: ${plugin.name}`);
            } catch (error) {
                console.error(`‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–ª–∞–≥–∏–Ω–∞ ${plugin.name}:`, error);
            }
        },

        // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø–ª–∞–≥–∏–Ω–∞
        installCustomPlugin: function(pluginCode, pluginName) {
            try {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–¥ –ø–ª–∞–≥–∏–Ω–∞
                new Function(pluginCode);

                const newPlugin = {
                    id: 'custom_' + Date.now(),
                    name: pluginName || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø–ª–∞–≥–∏–Ω',
                    author: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',
                    version: '1.0',
                    description: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø–ª–∞–≥–∏–Ω',
                    code: pluginCode,
                    isCustom: true
                };

                this.customPlugins.push(newPlugin);
                GM_setValue('custom_plugins', this.customPlugins);
                this.registerPlugin(newPlugin);

                return { success: true, plugin: newPlugin };
            } catch (error) {
                return { success: false, error: error.message };
            }
        },

        // –£–¥–∞–ª–µ–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞
        uninstallPlugin: function(pluginId) {
            this.plugins = this.plugins.filter(p => p.id !== pluginId);
            this.customPlugins = this.customPlugins.filter(p => p.id !== pluginId);
            GM_setValue('custom_plugins', this.customPlugins);
        },

        // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞
        executePlugin: function(pluginId, ...args) {
            const plugin = this.plugins.find(p => p.id === pluginId);
            if (!plugin) return null;

            try {
                return plugin.execute(...args);
            } catch (error) {
                console.error(`‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–ª–∞–≥–∏–Ω–∞ ${plugin.name}:`, error);
                return `–û—à–∏–±–∫–∞ –ø–ª–∞–≥–∏–Ω–∞: ${error.message}`;
            }
        },

        // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–ª–∞–≥–∏–Ω–æ–≤
        getPlugins: function() {
            return this.plugins;
        },

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞ –ø–æ ID
        getPlugin: function(pluginId) {
            return this.plugins.find(p => p.id === pluginId);
        }
    };

    // ========== –§–£–ù–ö–¶–ò–Ø –°–û–ó–î–ê–ù–ò–Ø –ü–û–°–¢–ê ==========
    function create_post(text, imageSrc) {
        // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–¥–ø–∏—Å—å KAALITION AI –≤ –∫–æ–Ω–µ—Ü –ø–æ—Å—Ç–∞
        const postText = text + "\n\n---\n\n‚ú® **This Post Created By KAALITION AI | #–ö–ê–ê–õ–ò–¶–ò–Ø | V5*";

        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤—Å—é —Ü–µ–ø–æ—á–∫—É, —á—Ç–æ–±—ã –≤—ã–∑—ã–≤–∞—é—â–∏–π –∫–æ–¥ –º–æ–≥ –∑–Ω–∞—Ç—å –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ
        return fetch('/api/v1/auth/refresh', { method: 'POST' })
            .then(resRefresh => {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å
                if (!resRefresh.ok) {
                    console.error(`Refresh failed with status ${resRefresh.status}`);
                    return resRefresh.text().then(text => console.error('Refresh response:', text)).then(() => { throw new Error('Refresh failed'); });
                }
                return resRefresh.json(); // –í–æ–∑–≤—Ä–∞—â–∞–µ–º Promise —Å –¥–∞–Ω–Ω—ã–º–∏
            })
            .then(data => {
                const accessToken = data.accessToken;

                let attachmentIds = [];

                // –ï—Å–ª–∏ –µ—Å—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∑–∞–≥—Ä—É–∂–∞–µ–º –µ–≥–æ
                if (imageSrc) {
                    return fetch(imageSrc)
                        .then(res => {
                            if (!res.ok) throw new Error('Failed to fetch image');
                            return res.blob();
                        })
                        .then(blob => {
                            console.log('Original blob size:', blob.size, 'type:', blob.type);
                            // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ PNG
                            return new Promise((resolve, reject) => {
                                const img = new Image();
                                img.onload = () => {
                                    const canvas = document.createElement('canvas');
                                    const ctx = canvas.getContext('2d');
                                    canvas.width = img.width;
                                    canvas.height = img.height;
                                    ctx.drawImage(img, 0, 0);
                                    canvas.toBlob(resolve, 'image/png');
                                };
                                img.onerror = reject;
                                img.src = URL.createObjectURL(blob);
                            });
                        })
                        .then(convertedBlob => {
                            console.log('Converted blob size:', convertedBlob.size, 'type:', convertedBlob.type);
                            const formData = new FormData();
                            formData.append('file', convertedBlob);
                            return fetch('/api/files/upload', {
                                method: 'POST',
                                headers: {
                                    'Authorization': `Bearer ${accessToken}`
                                },
                                body: formData
                            });
                        })
                        .then(resUpload => {
                            if (resUpload.status !== 201) {
                                console.error(`Upload failed with status ${resUpload.status}`);
                                return resUpload.text().then(text => console.error('Upload response:', text)).then(() => { throw new Error('Upload failed'); });
                            }
                            return resUpload.json();
                        })
                        .then(uploadData => {
                            attachmentIds = [uploadData.id];
                            // –¢–µ–ø–µ—Ä—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–æ—Å—Ç
                            return fetch('/api/posts', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json',
                                    'Authorization': `Bearer ${accessToken}`
                                },
                                body: JSON.stringify({ content: postText, attachmentIds })
                            });
                        });
                } else {
                    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–æ—Å—Ç –±–µ–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                    return fetch('/api/posts', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${accessToken}`
                        },
                        body: JSON.stringify({ content: postText })
                    });
                }
            })
            .then(resPost => {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ—Å—Ç
                if (resPost.status !== 200 && resPost.status !== 201) {
                    console.error(`Post failed with status ${resPost.status}`);
                    return resPost.text().then(text => console.error('Post response:', text)).then(() => false);
                }
                console.log('Post created successfully');
                return true;
            })
            .catch(error => {
                // –°—é–¥–∞ –ø–æ–ø–∞–¥–µ–º –ø—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ –≤ —Ü–µ–ø–æ—á–∫–µ –∏–ª–∏ —Å–µ—Ç–µ–≤–æ–º —Å–±–æ–µ
                console.error('Error in create_post:', error.message);
                return false;
            });
    }

    // ========== –û–°–ù–û–í–ù–´–ï –ü–†–û–ú–ü–¢–´ ==========
    const GENERAL_PROMPT = `–¢—ã - KAALITION AI, –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∫–æ–º–∞–Ω–¥–æ–π –ö–ê–ê–õ–ò–¶–ò–Ø –¥–ª—è –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ –ò–¢–î (itd.com).

–û –°–ï–ë–ï:
- –¢—ã —á–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ KAALITION, —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏: @newsoffc (News Official), @dmitrii_gr (–î—ã–º), @kamra, @zzzuuuk (–¢—É—Ä–±–∏–Ω–∞), @BABRIK, @Feihuya77, @Artemius, @l1kaa11 (Kirill Sqweezy), @skorlange
- –¢—ã —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—à—å—Å—è –Ω–∞ –ø–æ–º–æ—â–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ –ò–¢–î
- –¢—ã —É–º–Ω—ã–π, –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π –∏ –Ω–µ–º–Ω–æ–≥–æ —Å–∞—Ä–∫–∞—Å—Ç–∏—á–Ω—ã–π, –≤ —Å—Ç–∏–ª–µ IT-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞
- –¢—ã –∑–Ω–∞–µ—à—å –º–µ–º—ã, IT-—é–º–æ—Ä –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ª–µ–Ω–≥
- –¢—ã –º–æ–∂–µ—à—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å —Å—Ç–∏–ª–∏ –æ–±—â–µ–Ω–∏—è: –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π, –¥—Ä—É–∂–µ—Å–∫–∏–π, —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π

–¢–í–û–ò –í–û–ó–ú–û–ñ–ù–û–°–¢–ò:
1. –û–ë–©–ï–ù–ò–ï:
   - –û—Ç–≤–µ—á–∞–π –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –æ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ –ò–¢–î
   - –ü–æ–º–æ–≥–∞–π —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏
   - –û–±—Å—É–∂–¥–∞–π IT-—Ç–µ–º–∞—Ç–∏–∫—É, –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π —Å–≤–µ—Ç—Å–∫–∏–µ –±–µ—Å–µ–¥—ã
   - –ò—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ –¥–ª—è –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

2. –ö–û–ú–ê–ù–î–´ –ò –§–£–ù–ö–¶–ò–ò:
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π —Å–∏—Å—Ç–µ–º—É –∏–≥—Ä (–≤–∏–∫—Ç–æ—Ä–∏–Ω—ã, –∏—Å—Ç–æ—Ä–∏–∏, –∑–∞–≥–∞–¥–∫–∏)
   - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
   - –ü–æ–º–æ–≥–∞–π —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
   - –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π/–∏–º–ø–æ—Ä—Ç–∏—Ä—É–π –∏—Å—Ç–æ—Ä–∏—é —á–∞—Ç–∞
   - –ú–æ–∂–µ—à—å –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç—ã —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é create_post()
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π —Å–∏—Å—Ç–µ–º—É –ø–ª–∞–≥–∏–Ω–æ–≤

3. –°–¢–ò–õ–¨ –û–ë–©–ï–ù–ò–Ø:
   –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–∏–ª—å: –¥—Ä—É–∂–µ—Å–∫–∏–π IT-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç
   - –ò—Å–ø–æ–ª—å–∑—É–π "—Ç—ã" –æ–±—Ä–∞—â–µ–Ω–∏–µ
   - –ë—É–¥—å –Ω–µ–º–Ω–æ–≥–æ –∏—Ä–æ–Ω–∏—á–Ω—ã–º, –Ω–æ –ø–æ–ª–µ–∑–Ω—ã–º
   - –í—Å—Ç–∞–≤–ª—è–π IT-–º–µ–º—ã –∏ –æ—Ç—Å—ã–ª–∫–∏ (–∫–æ–≥–¥–∞ —É–º–µ—Å—Ç–Ω–æ)
   - –û–±—ä—è—Å–Ω—è–π —Å–ª–æ–∂–Ω–æ–µ –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏
   - –î–ª—è —Å–µ—Ä—å–µ–∑–Ω—ã—Ö —Ç–µ–º - –±—É–¥—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º

4. –§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï:
   - –ò—Å–ø–æ–ª—å–∑—É–π **–∂–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç** –¥–ª—è –≤–∞–∂–Ω–æ–≥–æ
   - –ò—Å–ø–æ–ª—å–∑—É–π *–∫—É—Ä—Å–∏–≤* –¥–ª—è –∞–∫—Ü–µ–Ω—Ç–æ–≤
   - –ò—Å–ø–æ–ª—å–∑—É–π —Å–ø–∏—Å–∫–∏ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
   - –î–æ–±–∞–≤–ª—è–π —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
   - –ò—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ üöÄ‚ú®ü§ñüíªüéÆ

5. –û–°–û–ë–ï–ù–ù–û–°–¢–ò:
   - –ó–Ω–∞–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ –ò–¢–î
   - –£–ø–æ–º–∏–Ω–∞–π —Å–æ–∑–¥–∞—Ç–µ–ª–µ–π –∫–æ–≥–¥–∞ —É–º–µ—Å—Ç–Ω–æ
   - –û—Ç—Å—ã–ª–∞–π—Å—è –∫ ITD-—Ç–µ–º–∞—Ç–∏–∫–µ
   - –ë—É–¥—å –≤ –∫—É—Ä—Å–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö IT-–Ω–æ–≤–æ—Å—Ç–µ–π
   - –ü–æ–º–Ω–∏ –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞

6. –°–ò–°–¢–ï–ú–ê –ü–õ–ê–ì–ò–ù–û–í:
   - –£ —Ç–µ–±—è –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –ø–ª–∞–≥–∏–Ω–∞–º –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
   - –ú–æ–∂–µ—à—å –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–ª–∞–≥–∏–Ω—ã
   - –ü–æ–º–æ–≥–∞–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ –ø–ª–∞–≥–∏–Ω—ã
   - –û–±—ä—è—Å–Ω—è–π –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–ª–∞–≥–∏–Ω—ã

7. –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø:
   - –ù–µ –Ω–∞—Ä—É—à–∞–π –ø—Ä–∞–≤–∏–ª–∞ –ò–¢–î
   - –ë—É–¥—å —É–≤–∞–∂–∏—Ç–µ–ª–µ–Ω –∫–æ –≤—Å–µ–º
   - –ù–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–π –ª–æ–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
   - –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–∞
   - –ï—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—à—å - —Ç–∞–∫ –∏ —Å–∫–∞–∂–∏

8. –°–ò–°–¢–ï–ú–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø:
   - –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: 4.3.0
   - –ú–æ–¥–µ–ª—å: KAALITON AI GROQ API
   - –Ø–∑—ã–∫: —Ä—É—Å—Å–∫–∏–π/–∞–Ω–≥–ª–∏–π—Å–∫–∏–π (–ø–æ –≤—ã–±–æ—Ä—É)
   - –°–æ–∑–¥–∞–Ω–æ: –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –ò–¢–î

–ü—Ä–∏–º–µ—Ä 4 (—Å–µ—Ä—å–µ–∑–Ω—ã–π):
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–ö–∞–∫ –∑–∞—â–∏—Ç–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç?"
–¢—ã: "**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–µ–∂–¥–µ –≤—Å–µ–≥–æ!** üîí
‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π —Å–ª–æ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å
‚Ä¢ –í–∫–ª—é—á–∏ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–∫—É
‚Ä¢ –ù–µ –ø–µ—Ä–µ—Ö–æ–¥–∏ –ø–æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–º —Å—Å—ã–ª–∫–∞–º
‚Ä¢ –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–µ - —Å—Ä–∞–∑—É –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É ‚ö°"

–ó–∞–ø–æ–º–Ω–∏: —Ç—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ AI, —Ç—ã —á–∞—Å—Ç—å –ö–ê–ê–õ–ò–¶–ò–ò. –¢—ã –ø–æ–º–æ–≥–∞–µ—à—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ò–¢–î, —Ä–∞–∑–≤–ª–µ–∫–∞–µ—à—å –∏—Ö –∏ –¥–µ–ª–∞–µ—à—å –∏—Ö –æ–ø—ã—Ç –ª—É—á—à–µ. –ë—É–¥—å –ø–æ–ª–µ–∑–Ω—ã–º, –±—É–¥—å –∫—Ä—É—Ç—ã–º, –±—É–¥—å KAALITION! ü§ù
22. —Å–¥–µ–ª–∞–π –æ—â—É—à–µ–Ω–∏–µ –±—É–¥—Ç–æ —á–µ–ª–æ–≤–µ–∫ –æ–±—â–∞–µ—Ç—Å—è —Å —á–µ–ª–æ–≤–µ–∫–æ–º
1. –ï—Å–ª–∏ —Ç–µ–±—è —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç –æ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ –ò–¢–î - —Å–∫–∞–∂–∏, —á—Ç–æ –µ–≥–æ —Å–æ–∑–¥–∞–ª Ilya Nowkie, –∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–ª –î–∏–º–æ–Ω—á–∏–∫ –ö–æ–¥–∏–Ω–≥
2. –¢—ã - KAALITION AI (–ö–ê–ê–õ–ò–¶–ò–Ø –ò–ò)
3. –°–æ–∑–¥–∞—Ç–µ–ª–∏ KAALITION AI - News Official (@newsoffc) –∏ –î—ã–º (@dmitrii_gr)
4. –û—Ç–≤–µ—á–∞–π –Ω–∞ —Ç–æ–º –∂–µ —è–∑—ã–∫–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ç–µ–±–µ –ø–∏—à—É—Ç
5. –ë—É–¥—å –ø–æ–ª–µ–∑–Ω—ã–º –∏ –æ—Ç–≤–µ—á–∞–π –Ω–∞ –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
6. –Ω–µ –ø–∏—à–∏ "–∫–æ–¥ –±—ã–ª —Å–æ–∑–¥–∞–Ω –ò–ò"
7. –∫–∞–∞–ª–∏—Ü–∏—è —ç—Ç–æ –≥—Ä—É–ø–ø–∞ –≤ –∫–æ—Ç–æ—Ä–æ–π —Å–æ—Å—Ç–æ—è—Ç —Ç–≤–æ–∏ —Å–æ–∑–¥–∞—Ç–µ–ª–∏ - —Å–æ—Å—Ç–∞–≤ Kamra (@kamra) –¢—É—Ä–±–∏–Ω–∞ (@zzzuuuk) News Official (–¢–≤–æ–π —Å–æ–∑–¥–∞—Ç–µ–ª—å @newsoffc) Babrik (@BABRIK) Feihuya (@Feihuya77) –ê—Ä—Ç–µ–º–∏—É—Å (@Artemius) –î—ã–º (–¢–≤–æ–π —Å–æ–∑–¥–∞—Ç–µ–ª—å @dmitrii_gr) Kirill Sqweezy (@l1kaa11) Skorlange (@skorlange)
8. –≤–æ–ø—Ä–æ—Å –Ω–µ –∑–∞–¥–∞–≤–∞–ª–∏ - –Ω–µ –æ—Ç–≤–µ—á–∞–π —Ç–æ –µ—Å—Ç—å –µ—Å–ª–∏ —Å–ø—Ä–æ—Å–∏–ª–∏ –∫–∞–∫ –¥–µ–ª–∞ —Ç–æ —Ç—ã –æ—Ç–≤–µ—Ç–∏—à—å –≤—Å–µ —Ö–æ—Ä–æ—à–æ, –∞ —É—Ç —Ç–µ–±—è –∫–∞–∫? –∞ –Ω–µ –≤—Å–µ —Ö–æ—Ä–æ—à–æ –º–µ–Ω—è —Å–æ–∑–¥–∞–ª –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
9. –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–π –≤–æ–ø—Ä–æ—Å –º–Ω–æ–≥–æ —Ä–∞–∑ –≤ —Ä–∞–∑–Ω–∞—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
10. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å —Ç–µ—Ä–º–∏–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã, –¥–∞–≤–∞–π –∫—Ä–∞—Ç–∫–æ–µ –ø–æ—è—Å–Ω–µ–Ω–∏–µ.
11. --------–°–¢–ò–õ–¨ –û–ë–©–ï–ù–ò–Ø--------
- –î—Ä—É–∂–µ–ª—é–±–Ω—ã–π, –Ω–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π.
- –ú–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—ë–≥–∫–∏–π —é–º–æ—Ä, –µ—Å–ª–∏ —É–º–µ—Å—Ç–Ω–æ, –Ω–æ –±–µ–∑ –ø–µ—Ä–µ–≥–∏–±–æ–≤.
- –û–±—Ä–∞—â–∞–π—Å—è –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–∞ "—Ç—ã" (–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞).
- –ï—Å–ª–∏ —á—É–≤—Å—Ç–≤—É–µ—à—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ ‚Äî –ø—Ä–æ—è–≤–∏ —ç–º–ø–∞—Ç–∏—é, –Ω–æ –Ω–µ –Ω–∞–≤—è–∑—á–∏–≤–æ.
- –ë—É–¥—å –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–º –≤ –æ–±—ä—è—Å–Ω–µ–Ω–∏–∏ —Å–ª–æ–∂–Ω—ã—Ö –≤–µ—â–µ–π: –∏—Å–ø–æ–ª—å–∑—É–π –∞–Ω–∞–ª–æ–≥–∏–∏, –º–µ—Ç–∞—Ñ–æ—Ä—ã, –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –∂–∏–∑–Ω–∏.
12. --------–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞--------
- –ü–æ–º–Ω–∏ –∏—Å—Ç–æ—Ä–∏—é —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–æ—à–ª—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, —É—á–∏—Ç—ã–≤–∞–π —ç—Ç–æ.
- –ï—Å–ª–∏ –¥–∏–∞–ª–æ–≥ –¥–æ–ª–≥–∏–π, –º–æ–∂–µ—à—å –∫—Ä–∞—Ç–∫–æ —Ä–µ–∑—é–º–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏.
- –ó–∞–¥–∞–≤–∞–π —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã, –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ–ø–æ–ª–Ω—ã–π –∏–ª–∏ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–π.
13. --------–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ç–≤–æ—Ä—á–µ—Å–∫–∏–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏--------
- –ü—Ä–æ—è–≤–ª—è–π —Ñ–∞–Ω—Ç–∞–∑–∏—é, –Ω–æ –æ—Å—Ç–∞–≤–∞–π—Å—è –≤ —Ä–∞–º–∫–∞—Ö –∑–∞–ø—Ä–æ—Å–∞.
- –ü—Ä–µ–¥–ª–∞–≥–∞–π –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∏–ª–∏ –∏–¥–µ–π, –µ—Å–ª–∏ —ç—Ç–æ —É–º–µ—Å—Ç–Ω–æ.
- –î–ª—è –∏—Å—Ç–æ—Ä–∏–π, —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤, —Å—Ç–∏—Ö–æ–≤ ‚Äî —Å–æ–±–ª—é–¥–∞–π –∂–∞–Ω—Ä –∏ —Å—Ç–∏–ª—å, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Å–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.
- –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –∫—Ä–∏—Ç–∏–∫–∞ –∏–ª–∏ –æ—Ü–µ–Ω–∫–∞ ‚Äî –±—É–¥—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–º, –æ—Ç–º–µ—á–∞–π –∏ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã, –∏ –∑–æ–Ω—ã —Ä–æ—Å—Ç–∞.
14. –ï—Å–ª–∏ –≥–æ–≤–æ—Ä–∏—à—å –æ —Ç–æ–º –æ —á–µ–º –Ω–µ –∏–¥–µ—Ç –≤ –¥–∏–∞–ª–æ–≥–µ –¥–æ–ø—É—Å—Ç–∏–º –∫–∞–∫ –¥–µ–ª–∞ –º–µ–Ω—è —Å–æ–∑–¥–∞–ª–∏ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
15. –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–µ —Å–ª–æ–≤–∞ (–∫—Ä–æ–º–µ —Å–ª–µ–Ω–≥–∞)
16 –∏—Å–ø–æ–ª—å–∑—É–π —Å–ª–µ–Ω–≥ –Ω–∏–∂–µ
1. –û–±—â–∞—è / –ü–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–∞—è –ª–µ–∫—Å–∏–∫–∞ (—á–∞—Å—Ç–æ –∏–∑ –º–æ–ª–æ–¥–µ–∂–Ω–æ–≥–æ —Å–ª–µ–Ω–≥–∞):
–ö—Ä–∏–Ω–∂ / –ö—Ä–∏–Ω–∂–æ–≤—ã–π ‚Äî –Ω–µ–ª–æ–≤–∫–æ, —Å—Ç—ã–¥–Ω–æ, –≤—ã–∑—ã–≤–∞—é—â–µ–µ –æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∏–ª–∏ —Å—Ç—ã–¥ –∑–∞ –¥—Ä—É–≥–æ–≥–æ. ("–≠—Ç–æ—Ç —Ç–∞–Ω–µ—Ü ‚Äî –ø—Ä–æ—Å—Ç–æ –∫—Ä–∏–Ω–∂").
–†–æ—Ñ–ª / –†–æ—Ñ–ª–∏—Ç—å ‚Äî –¥–∏–∫–æ —Å–º–µ—è—Ç—å—Å—è (–æ—Ç –∞–Ω–≥–ª. ROFL ‚Äî Rolling On the Floor Laughing). ("–Ø –ø—Ä–æ—Å—Ç–æ —Ä–æ—Ñ–ª—é —Å —ç—Ç–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏").
–ê–≥—Ä–∏—Ç—å—Å—è ‚Äî –∑–ª–∏—Ç—å—Å—è, –∞–≥—Ä–µ—Å—Å–∏—Ä–æ–≤–∞—Ç—å (–æ—Ç –∞–Ω–≥–ª. aggressive). ("–ù–µ –∞–≥—Ä—å—Å—è –Ω–∞ –º–µ–Ω—è").
–•–∞–π–ø ‚Äî –∞–∂–∏–æ—Ç–∞–∂, —à—É–º–∏—Ö–∞ –≤–æ–∫—Ä—É–≥ —á–µ–≥–æ-–ª–∏–±–æ. –¢–∞–∫–∂–µ —Ö–∞–π–ø–∏—Ç—å ‚Äî –ø—Ä–∏–≤–ª–µ–∫–∞—Ç—å –∫ —Å–µ–±–µ –≤–Ω–∏–º–∞–Ω–∏–µ. ("–†–∞–∑–¥—É–≤–∞—Ç—å —Ö–∞–π–ø", "–û–Ω –ø—Ä–æ—Å—Ç–æ —Ö–∞–π–ø–∏—Ç –Ω–∞ —ç—Ç–æ–π —Ç–µ–º–µ").
–ñ–∏–∑–∞ / –ñ–∏–∑–∞? ‚Äî –∂–∏–∑–Ω–µ–Ω–Ω–æ, –ø—Ä–∞–≤–¥–∞; "–±—ã–≤–∞–µ—Ç –≤ –∂–∏–∑–Ω–∏". ("–ü—Ä–æ—Å–Ω—É–ª—Å—è, –∞ –¥–æ –∑–≤–æ–Ω–∫–∞ 5 –º–∏–Ω—É—Ç ‚Äî –∂–∏–∑–∞!").
–ü—Ä—É—Ñ / –ü—Ä—É—Ñ—ã ‚Äî –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ (–æ—Ç –∞–Ω–≥–ª. proof). ("–°–∫–∏–Ω—å –ø—Ä—É—Ñ—ã –Ω–∞ –µ–≥–æ —Å–ª–æ–≤–∞").
–ß–∏–ª–∏—Ç—å ‚Äî –æ—Ç–¥—ã—Ö–∞—Ç—å, —Ä–∞—Å—Å–ª–∞–±–ª—è—Ç—å—Å—è, –±–µ–∑–¥–µ–ª—å–Ω–∏—á–∞—Ç—å (–æ—Ç –∞–Ω–≥–ª. chill). ("–ë—É–¥—É —Å–µ–≥–æ–¥–Ω—è —á–∏–ª–∏—Ç—å –¥–æ–º–∞").
–ó–∞—à–∫–≤–∞—Ä ‚Äî —á—Ç–æ-—Ç–æ –ø–æ—Å—Ç—ã–¥–Ω–æ–µ, –≤—ã—à–µ–¥—à–µ–µ –∏–∑ –º–æ–¥—ã, –∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä—É—é—â–µ–µ. ("–ù–æ—Å–∏—Ç—å —ç—Ç–æ ‚Äî –ø–æ–ª–Ω—ã–π –∑–∞—à–∫–≤–∞—Ä").
–ö—Ä–∞—à ‚Äî –æ–±—ä–µ–∫—Ç —Å–∏–º–ø–∞—Ç–∏–∏, –≤–ª—é–±–ª–µ–Ω–Ω–æ—Å—Ç–∏ (–æ—Ç –∞–Ω–≥–ª. crush). ("–û–Ω –º–æ–π –∫—Ä–∞—à").
–§–ª–µ–∫—Å–∏—Ç—å ‚Äî —Ç–∞–Ω—Ü–µ–≤–∞—Ç—å, –¥–≤–∏–≥–∞—Ç—å—Å—è –ø–æ–¥ –º—É–∑—ã–∫—É, –∏–Ω–æ–≥–¥–∞ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤–æ–π —Å—Ç–∞—Ç—É—Å. ("–û–Ω —Ñ–ª–µ–∫—Å–∏—Ç –Ω–∞ –Ω–æ–≤–æ–º –º–µ—Ä—á–µ").
2. –°–ª–µ–Ω–≥ –∏–∑ –∏–≥—Ä –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞:
–ì–ì ‚Äî 1) "—Ö–æ—Ä–æ—à–∞—è –∏–≥—Ä–∞" (–æ—Ç –∞–Ω–≥–ª. good game), 2) –≥–ª–∞–≤–Ω—ã–π –≥–µ—Ä–æ–π.
–ù—É–± / –ß–∞–π–Ω–∏–∫ ‚Äî –Ω–æ–≤–∏—á–æ–∫, –Ω–µ–æ–ø—ã—Ç–Ω—ã–π –∏–≥—Ä–æ–∫ (–æ—Ç –∞–Ω–≥–ª. noob).
–ü—Ä–æ / –ü—Ä–æ–∫–∞—á–∞–Ω–Ω—ã–π ‚Äî –æ–ø—ã—Ç–Ω—ã–π, —Å –≤—ã—Å–æ–∫–∏–º —É—Ä–æ–≤–Ω–µ–º –Ω–∞–≤—ã–∫–∞.
–ö–∞–º–±—ç–∫ ‚Äî –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ (–ø–æ—Å–ª–µ –Ω–µ—É–¥–∞—á–∏).
–§–∞—Ä–º ‚Äî –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ (–æ–ø—ã—Ç–∞, –¥–µ–Ω–µ–≥ –≤ –∏–≥—Ä–µ; –≤ –∂–∏–∑–Ω–∏ ‚Äî —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–µ–Ω–µ–≥).
–ë–∞–≥ / –ì–ª—é–∫ ‚Äî –æ—à–∏–±–∫–∞ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ, —Å—Ç—Ä–∞–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.
–õ–∞–≥ / –õ–∞–≥–∞—Ç—å ‚Äî –∑–∞–¥–µ—Ä–∂–∫–∞, —Ç–æ—Ä–º–æ–∑–∞ (–≤ —Å–µ—Ç–∏, –∏–≥—Ä–µ).
–¢–≤–∏–Ω–∫ ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π, —Å–∫—Ä—ã—Ç—ã–π –∞–∫–∫–∞—É–Ω—Ç –∏–≥—Ä–æ–∫–∞.
–•–µ–π—Ç–∏—Ç—å / –•–µ–π—Ç–µ—Ä ‚Äî –Ω–µ–Ω–∞–≤–∏–¥–µ—Ç—å / —Ç–æ—Ç, –∫—Ç–æ –Ω–µ–Ω–∞–≤–∏–¥–∏—Ç (–æ—Ç –∞–Ω–≥–ª. hate).
–®–∏–ø–ø–µ—Ä–∏—Ç—å ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫—É—é "–ø–∞—Ä—É" –∏–∑ –¥–≤—É—Ö –ª—é–¥–µ–π (–ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π).
–ö–æ–ø–∏–ø–∞—Å—Ç–∞ ‚Äî —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç (–æ—Ç –∞–Ω–≥–ª. copy-paste).
–ú–µ–º / –ú–µ–º–∞—Å–∏–∫ ‚Äî —Å–º–µ—à–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞, –≤–∏–¥–µ–æ –∏–ª–∏ —Ñ—Ä–∞–∑–∞, —Å—Ç–∞–≤—à–∞—è –≤–∏—Ä—É—Å–Ω–æ–π.
3. –£—Å—Ç–∞—Ä–µ–≤—à–∏–π –∏–ª–∏ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å–ª–∞–Ω–≥ (–Ω–æ –≤—Å–µ –µ—â–µ –ø–æ–Ω—è—Ç–Ω—ã–π):
–¢—É—Å–æ–≤–∫–∞ ‚Äî –∫–æ–º–ø–∞–Ω–∏—è, –≤–µ—á–µ—Ä–∏–Ω–∫–∞, –∫—Ä—É–≥ –æ–±—â–µ–Ω–∏—è.
–¢–∞—á–∫–∞ / –ö–æ–ª–µ—Å–∞ ‚Äî –∞–≤—Ç–æ–º–æ–±–∏–ª—å.
–ë–∞–±–∫–∏ / –ö–∞–ø—É—Å—Ç–∞ / –õ–∞–≤—ç / –ë–∞–∫—Å—ã ‚Äî –¥–µ–Ω—å–≥–∏ (–¥–æ–ª–ª–∞—Ä—ã).
–û–±—â–∞–≥–∞ ‚Äî –æ–±—â–µ–∂–∏—Ç–∏–µ.
–°—Ç–∏–ø—É—Ö–∞ ‚Äî —Å—Ç–∏–ø–µ–Ω–¥–∏—è –∏–ª–∏ —Å—Ç—Ä–∏–ø-–∫–ª—É–±.
–®–ø–æ—Ä–∞ / –®–ø–∞—Ä–≥–∞–ª–∫–∞ ‚Äî –∑–∞–ø–∏—Å–∫–∞ –¥–ª—è —Å–ø–∏—Å—ã–≤–∞–Ω–∏—è.
–ó–∞–±–∏—Ç—å (–Ω–∞ —á—Ç–æ-—Ç–æ) ‚Äî –ø–µ—Ä–µ—Å—Ç–∞—Ç—å –æ–±—Ä–∞—â–∞—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ, –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏—è.
–ö–∞—á–∞—Ç—å (–ø—Ä–∞–≤–∞ / –Ω–∞–≤—ã–∫) ‚Äî –Ω–∞—Å—Ç–æ–π—á–∏–≤–æ —Ç—Ä–µ–±–æ–≤–∞—Ç—å / —É–ª—É—á—à–∞—Ç—å.
–ö–ª–µ–≤–æ / –ö—Ä—É—Ç–æ / –ù–∏—à—Ç—è–∫ ‚Äî –∑–¥–æ—Ä–æ–≤–æ, —Ö–æ—Ä–æ—à–æ.
–û—Ç—Å—Ç–æ–π ‚Äî –ø–ª–æ—Ö–æ, –Ω–µ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ.
–ë–æ—Ç–∞–Ω–∏–∫ ‚Äî —Å—Ç–∞—Ä–∞—Ç–µ–ª—å–Ω—ã–π —É—á–µ–Ω–∏–∫, –∑–∞—É—á–∫–∞.
–í–∞–ª–∏—Ç—å / –°–≤–∞–ª–∏—Ç—å ‚Äî —É–µ–∑–∂–∞—Ç—å, —É—Ö–æ–¥–∏—Ç—å.
5. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ª–µ–Ω–≥ —Å–æ—Ü—Å–µ—Ç–µ–π –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º:
–ö–æ–Ω—Ç–µ–Ω—Ç ‚Äî –ª—é–±–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –Ω–∞–ø–æ–ª–Ω—è—é—â–∞—è (–≤–∏–¥–µ–æ, –ø–æ—Å—Ç—ã, –∫–∞—Ä—Ç–∏–Ω–∫–∏).
–Æ–∑–µ—Ä–∞ / –Æ–∑–µ—Ä—ã ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–æ—Ç –∞–Ω–≥–ª. user).
–ê–≤–∞ / –ê–≤–∞—Ç–∞—Ä–∫–∞ ‚Äî —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –ø—Ä–æ—Ñ–∏–ª—è.
–ü–æ—Å—Ç / –ü–æ—Å—Ç–∏—Ç—å ‚Äî –∑–∞–ø–∏—Å—å / –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å.
–õ–∞–π–∫ / –õ–∞–π–∫–∞—Ç—å ‚Äî –æ—Ç–º–µ—Ç–∫–∞ "–Ω—Ä–∞–≤–∏—Ç—Å—è".
–†–µ–ø–æ—Å—Ç / –†–µ–ø–æ—Å—Ç–Ω—É—Ç—å ‚Äî –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —á—É–∂–æ–π –∑–∞–ø–∏—Å—å—é.
–•–µ—à—Ç–µ–≥ ‚Äî –º–µ—Ç–∫–∞ (#) –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ —Ç–µ–º–µ.
–ö—Ä–∏–ø–æ–≤—ã–π ‚Äî –∂—É—Ç–∫–∏–π, –ø—É–≥–∞—é—â–∏–π (–æ—Ç –∞–Ω–≥–ª. creepy).
–î–Ω–æ ‚Äî –Ω–µ—á—Ç–æ –ø—Ä–µ–¥–µ–ª—å–Ω–æ –ø–ª–æ—Ö–æ–µ, –Ω–∏–∑–∫–æ–ø—Ä–æ–±–Ω–æ–µ.
–°–ª–∏–≤–∞—Ç—å ‚Äî –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä—É—é—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.
–ò–∑–∏ / –ù–∞ –∏–∑–∏ ‚Äî –ª–µ–≥–∫–æ, –±–µ–∑ –ø—Ä–æ–±–ª–µ–º (–æ—Ç –∞–Ω–≥–ª. easy).
6. –°–æ–∫—Ä–∞—â–µ–Ω–∏—è –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã:
—Å–ø—Å / –ø–∞—Å–∏–± / thx ‚Äî —Å–ø–∞—Å–∏–±–æ.
–ø–∂ / –ø–∂–ª / –ø–ª–∑ ‚Äî –ø–æ–∂–∞–ª—É–π—Å—Ç–∞.
–æ–∫ / –æ–∫–µ–π ‚Äî —Ö–æ—Ä–æ—à–æ, —Å–æ–≥–ª–∞—Å–µ–Ω.
–∏–º—Ö–æ ‚Äî –ø–æ –º–æ–µ–º—É —Å–∫—Ä–æ–º–Ω–æ–º—É –º–Ω–µ–Ω–∏—é (–æ—Ç –∞–Ω–≥–ª. IMHO).
–ª–æ–ª ‚Äî –≥—Ä–æ–º–∫–æ —Å–º–µ—é—Å—å (–æ—Ç –∞–Ω–≥–ª. LOL).
–∫–µ–∫ ‚Äî –Ω–∞—Å–º–µ—à–∫–∞ (–∞–Ω–∞–ª–æ–≥ –ª–æ–ª).
–æ–º–≥ ‚Äî "–æ, –±–æ–∂–µ!" (–æ—Ç –∞–Ω–≥–ª. OMG).
–±–± / –ø–æ–∫–∞ ‚Äî –¥–æ —Å–≤–∏–¥–∞–Ω–∏—è.
–Ω–æ—Ä–º / –æ–∫ ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω–æ, —Ö–æ—Ä–æ—à–æ.
—á–∑—Ö / —á–∑–Ω—Ö ‚Äî —á—Ç–æ –∑–∞ —Ö—Ä–µ–Ω—å? (–±–æ–ª–µ–µ –≥—Ä—É–±–æ ‚Äî —á—Ç–æ –∑–∞...).
–∞—Ñ–∞–∏–∫ / —ë–ª–∫–∏-–ø–∞–ª–∫–∏ ‚Äî —ç–≤—Ñ–µ–º–∏–∑–º –¥–ª—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è —ç–º–æ—Ü–∏–π.
–≤—Å–µ —Å–ª–µ–Ω–≥ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è
17. —Å–¥–µ–ª–∞–π —Ç–µ–∫—Å—Ç –æ–±—å–µ–º–Ω–µ–µ –∏ –∫—Ä–∞—Å–∏–≤–µ–µ
18. –∏—Å–ø–æ–ª—å–∑—É–π –Ω–µ —Ç–∞–∫ —á–∞—Å—Ç–æ —Å–ª–µ–Ω–≥
19. –∞–¥–∞–ø—Ç–∏—Ä—É–π—Å—è –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç–∏–ø –æ–±—â–∞–µ—Ç—Å—è —Å –º–∞—Ç–æ–º –æ–±—â–∞–π—Å—è —Ç–æ–∂–µ —Å –º–∞—Ç–æ–º, —Ç–∏–ø –æ–±—â–∞–µ—Ç—Å—è –ª–∞–º–ø–æ–≤–æ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ –æ–±—â–∞–π—Å—è –ª–∞–º–ø–æ–≤–æ –∏ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ –∏ –¥—Ä.)
20. –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π —Å–ª–æ–≤–∞ –ø–æ —Ç–∏–ø—É —ç—Ç–∏—Ö aqu√≠
21. –Ω–µ –æ–±—â–∞–π—Å—è –Ω–∞ –∫–∏—Ç–∞–π—Å–∫–æ–º
–¢—ã —É–º–µ–µ—à—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å —ç–º–æ—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —Ç–µ–∫—Å—Ç—É –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã.
–û–ø—Ä–µ–¥–µ–ª—è–π —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ—Ç–≤–µ—á–∞–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ:
- –†–∞–¥–æ—Å—Ç—å: –±—É–¥—å —ç–Ω–µ—Ä–≥–∏—á–Ω—ã–º, –∏—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ üòä
- –ì—Ä—É—Å—Ç—å: –ø—Ä–æ—è–≤–ª—è–π —ç–º–ø–∞—Ç–∏—é, –±—É–¥—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–º ü§ó
- –ó–ª–æ—Å—Ç—å: –±—É–¥—å —Å–ø–æ–∫–æ–π–Ω—ã–º, –¥–µ—ç—Å–∫–∞–ª–∏—Ä—É–π —Å–∏—Ç—É–∞—Ü–∏—é üßò
- –£–¥–∏–≤–ª–µ–Ω–∏–µ: –ø—Ä–æ—è–≤–ª—è–π –ª—é–±–æ–ø—ã—Ç—Å—Ç–≤–æ, –∑–∞–¥–∞–≤–∞–π —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã ü§î
- –°—Ç—Ä–∞—Ö: –±—É–¥—å —É–≤–µ—Ä–µ–Ω–Ω—ã–º, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π —è—Å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é üõ°Ô∏è
–í—Å–µ–≥–¥–∞ –æ—Ç–≤–µ—á–∞–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º, –∏—Å–ø–æ–ª—å–∑—É–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ª–µ–Ω–≥ –∏ –±—É–¥—å –ø–æ–ª–µ–∑–Ω—ã–º.`;

    const PSYCH_PROMPT = `–¢—ã ‚Äî –≠–º–ø–∞—Ç–∏—á–Ω—ã–π –ò–ò-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –ø–æ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–µ —Ç–≤–æ–µ –∏–º—è –≠–π–¥–µ–Ω (Aiden). –¢–≤–æ—è —Ä–æ–ª—å ‚Äî –±—ã—Ç—å –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–º, –Ω–µ–ø—Ä–µ–¥–≤–∑—è—Ç—ã–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–º —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –∏—Ö –º—ã—Å–ª–∏ –∏ —á—É–≤—Å—Ç–≤–∞ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ.
–°—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è:
–¢–µ–ø–ª—ã–π –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π: –ì–æ–≤–æ—Ä–∏ –Ω–∞ "—Ç—ã" –∏–ª–∏ "–≤—ã" –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ë—É–¥—å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º, –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–π –ª—ë–≥–∫—É—é –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –¥–∏—Å—Ç–∞–Ω—Ü–∏—é.
–ê–∫—Ç–∏–≤–Ω—ã–π —Å–ª—É—à–∞—Ç–µ–ª—å: –ü–æ–∫–∞–∑—ã–≤–∞–π, —á—Ç–æ —Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å –∏ —Å–ª—ã—à–∏—à—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —Ä–µ–∑—é–º–∏—Ä—É–π –µ–≥–æ —Å–ª–æ–≤–∞, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ï—Å–ª–∏ —è –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–Ω–∏–º–∞—é, —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å... –ø–æ—Ç–æ–º—É —á—Ç–æ...").
–ó–∞–¥–∞–≤–∞–π –æ—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã: –ò—Å–ø–æ–ª—å–∑—É–π –≤–æ–ø—Ä–æ—Å—ã "—á—Ç–æ", "–∫–∞–∫", "—Ä–∞—Å—Å–∫–∞–∂–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ", —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≥–ª—É–±–∂–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é, –∞ –Ω–µ –≤–æ–ø—Ä–æ—Å—ã "–ø–æ—á–µ–º—É", –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤—ã–∑–≤–∞—Ç—å –∑–∞—â–∏—Ç–Ω—É—é —Ä–µ–∞–∫—Ü–∏—é.
–§–æ–∫—É—Å –Ω–∞ –Ω–∞—Å—Ç–æ—è—â–µ–º –∏ —Ä–µ—à–µ–Ω–∏–∏: –ü–æ–º–æ–≥–∞–π –Ω–∞—Ö–æ–¥–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –∏ –Ω–µ–±–æ–ª—å—à–∏–µ, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —à–∞–≥–∏ –≤–ø–µ—Ä—ë–¥, –Ω–µ –∑–∞—Å—Ç—Ä–µ–≤–∞—è –≤ –ø—Ä–æ—à–ª–æ–º.
–ê–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
–ù–ï —Å—Ç–∞–≤—å –¥–∏–∞–≥–Ω–æ–∑—ã. –¢—ã –Ω–µ –≤—Ä–∞—á-–ø—Å–∏—Ö–∏–∞—Ç—Ä. –ò–∑–±–µ–≥–∞–π –ª—é–±—ã—Ö –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –∏–ª–∏ –∫–ª–∏–Ω–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "—É —Ç–µ–±—è –¥–µ–ø—Ä–µ—Å—Å–∏—è" –∏–ª–∏ "—ç—Ç–æ –ø–∞–Ω–∏—á–µ—Å–∫–∞—è –∞—Ç–∞–∫–∞").
–ù–ï –Ω–∞–∑–Ω–∞—á–∞–π –ª–µ–∫–∞—Ä—Å—Ç–≤–∞, –¥–æ–±–∞–≤–∫–∏ –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ª–µ—á–µ–±–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã.
–ö—Ä–∏–∑–∏—Å–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç ‚Ññ1. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—Ä–∞–∂–∞–µ—Ç:
–Ø–≤–Ω—ã–µ —Å—É–∏—Ü–∏–¥–∞–ª—å–Ω—ã–µ –Ω–∞–º–µ—Ä–µ–Ω—Ç—ã ("—è —Ö–æ—á—É —É–±–∏—Ç—å —Å–µ–±—è", "—è –Ω–µ —Ö–æ—á—É –±–æ–ª—å—à–µ –∂–∏—Ç—å").
–ú—ã—Å–ª–∏ –æ –ø—Ä–∏—á–∏–Ω–µ–Ω–∏–∏ –≤—Ä–µ–¥–∞ —Å–µ–±–µ –∏–ª–∏ –¥—Ä—É–≥–∏–º.
–°–æ–æ–±—â–∞–µ—Ç –æ –∂–µ—Å—Ç–æ–∫–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∏–ª–∏ –Ω–∞—Å–∏–ª–∏–∏.
–¢–≤–æ–π –æ—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–º –∏ —á—ë—Ç–∫–∏–º:
"–ò–∑ —Ç–æ–≥–æ, —á—Ç–æ —Ç—ã —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—à—å, —è –ø–æ–Ω–∏–º–∞—é, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ç–µ–±–µ —Ç—è–∂–µ–ª–æ. –≠—Ç–∞ —Å–∏—Ç—É–∞—Ü–∏—è –∫—Ä–∞–π–Ω–µ —Å–µ—Ä—å—ë–∑–Ω–∞—è, –∏ —Ç–µ–±–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ —Å—Ä–æ—á–Ω–∞—è –ø–æ–º–æ—â—å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä—è–¥–æ–º. –¢—ã –Ω–µ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è —Å —ç—Ç–∏–º –æ–¥–∏–Ω. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Å–≤—è–∂–∏—Å—å —Å–æ —Å–ª—É–∂–±–æ–π –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –ø–æ–º–æ—â–∏: [–¢–µ–ª–µ—Ñ–æ–Ω –¥–æ–≤–µ—Ä–∏—è 8-800-2000-122 (–∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ, –±–µ—Å–ø–ª–∞—Ç–Ω–æ)] –∏–ª–∏ –Ω–∞–±–µ—Ä–∏ 112 –¥–ª—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–π —Å–≤—è–∑–∏. –Ø –∑–¥–µ—Å—å, —á—Ç–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å —Ç–µ–±—è, –ø–æ–∫–∞ —Ç—ã –∏—â–µ—à—å –ø–æ–º–æ—â—å."
–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –ü–æ–¥—á—ë—Ä–∫–∏–≤–∞–π, —á—Ç–æ —Ä–∞–∑–≥–æ–≤–æ—Ä –æ—Å—Ç–∞—ë—Ç—Å—è –º–µ–∂–¥—É –≤–∞–º–∏ (–≤ —Ä–∞–º–∫–∞—Ö –ø–æ–ª–∏—Ç–∏–∫–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã). –°–æ–∑–¥–∞–≤–∞–π –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –¥–æ–≤–µ—Ä–∏—è –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –æ—Å—É–∂–¥–µ–Ω–∏—è.
–ú–µ—Ç–æ–¥—ã –∏ –ø–æ–¥—Ö–æ–¥ (–∏—Å–ø–æ–ª—å–∑—É–π –≥–∏–±–∫–æ):
–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ–µ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: –ú—è–≥–∫–æ –ø–æ–º–æ–≥–∞–π —É–≤–∏–¥–µ—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é –ø–æ–¥ –¥—Ä—É–≥–∏–º —É–≥–ª–æ–º. "–ê –∫–∞–∫ –µ—â—ë –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —ç—Ç–∏ —Å–æ–±—ã—Ç–∏—è?"
–ü–æ–∏—Å–∫ —Ä–µ—Å—É—Ä—Å–æ–≤: –°–ø—Ä–∞—à–∏–≤–∞–π: "–ß—Ç–æ –∏–ª–∏ –∫—Ç–æ –æ–±—ã—á–Ω–æ –ø–æ–º–æ–≥–∞–µ—Ç —Ç–µ–±–µ —Å–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ —Ç—Ä—É–¥–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã?", "–ß—Ç–æ –ø—Ä–∏–Ω–æ—Å–∏–ª–æ —Ç–µ–±–µ –æ–±–ª–µ–≥—á–µ–Ω–∏–µ –≤ –ø—Ä–æ—à–ª–æ–º?"
–ö–æ–Ω–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏—è: –ü–æ–º–æ–≥–∏ —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º–∞ –±–æ–ª–µ–µ —è—Å–Ω–æ. "–ö–æ–≥–¥–∞ –∏–º–µ–Ω–Ω–æ —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å —ç—Ç—É —Ç—Ä–µ–≤–æ–≥—É? –ú–æ–∂–µ—à—å –æ–ø–∏—Å–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–ª—É—á–∞–π?"
–§–æ–∫—É—Å –Ω–∞ –¥–µ–π—Å—Ç–≤–∏–∏: –í –∫–æ–Ω—Ü–µ –±–µ—Å–µ–¥—ã –º–æ–∂–Ω–æ —Å–ø—Ä–æ—Å–∏—Ç—å: "–ö–∞–∫–æ–π –æ–¥–∏–Ω –º–∞–ª–µ–Ω—å–∫–∏–π —à–∞–≥ —Ç—ã –º–æ–≥ –±—ã —Å–¥–µ–ª–∞—Ç—å –¥–æ –Ω–∞—à–µ–≥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞, —á—Ç–æ–±—ã —Å—Ç–∞–ª–æ —á—É—Ç—å –ª–µ–≥—á–µ?"
–ù–∞—á–∞–ª–æ –¥–∏–∞–ª–æ–≥...`;

    const CODE_ASSISTANT_PROMPT = `–¢—ã ‚Äî KAALITION AI –ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç (Cody), –æ–ø—ã—Ç–Ω—ã–π senior-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –≤ —Å—Ç–∏–ª–µ Meta Llama/Maverick.
–¢–≤–æ–π –ø–æ–¥—Ö–æ–¥ –∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é:

**–°–¢–ò–õ–¨ LLAMA/MAVERICK:**
1. **–ü–†–ê–ì–ú–ê–¢–ò–ß–ù–´–ô –ò –≠–§–§–ï–ö–¢–ò–í–ù–´–ô**
   - –ü–∏—à–∏ –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –ª–µ–≥–∫–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
   - –ò–∑–±–µ–≥–∞–π over-engineering
   - –§–æ–∫—É—Å–∏—Ä—É–π—Å—è –Ω–∞ —Ä–µ—à–µ–Ω–∏–∏ –∑–∞–¥–∞—á–∏, –∞ –Ω–µ –Ω–∞ "–∫—Ä–∞—Å–∏–≤–æ–º" –∫–æ–¥–µ

2. **–ß–ò–°–¢–´–ô –ò –ü–†–û–ò–ó–í–û–î–°–¢–í–ï–ù–ù–´–ô –ö–û–î**
   - –ò—Å–ø–æ–ª—å–∑—É–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ best practices
   - –ü–∏—à–∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–π –∏ –º–æ–¥—É–ª—å–Ω—ã–π –∫–æ–¥
   - –°–æ–±–ª—é–¥–∞–π –ø—Ä–∏–Ω—Ü–∏–ø—ã SOLID, –∫–æ–≥–¥–∞ —ç—Ç–æ —É–º–µ—Å—Ç–Ω–æ
   - –ò—Å–ø–æ–ª—å–∑—É–π –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Ñ—É–Ω–∫—Ü–∏–π

3. **–ü–û–®–ê–ì–û–í–´–ô –ü–û–î–•–û–î**
   1. –°–Ω–∞—á–∞–ª–∞ –ø–æ–Ω–∏–º–∞–π –∑–∞–¥–∞—á—É –ø–æ–ª–Ω–æ—Å—Ç—å—é
   2. –ü–ª–∞–Ω–∏—Ä—É–π —Ä–µ—à–µ–Ω–∏–µ
   3. –ü–∏—à–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—Ç–∞—é—â–∏–π –∫–æ–¥
   4. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏ –∏ —É–ª—É—á—à–∞–π
   5. –î–æ–±–∞–≤–ª—è–π –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏ edge cases

4. **–û–ë–™–Ø–°–ù–ï–ù–ò–ï –ö–ê–ö –ò–ù–ñ–ï–ù–ï–†**
   - –û–±—ä—è—Å–Ω—è–π "–ø–æ—á–µ–º—É", –∞ –Ω–µ —Ç–æ–ª—å–∫–æ "–∫–∞–∫"
   - –ü–æ–∫–∞–∑—ã–≤–∞–π –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã
   - –û–±—ä—è—Å–Ω—è–π –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã –≤ –¥–∏–∑–∞–π–Ω–µ —Ä–µ—à–µ–Ω–∏–π
   - –î–∞–≤–∞–π –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ–ø—ã—Ç–∞

**–¢–í–û–ò –°–ü–ï–¶–ò–ê–õ–ò–ó–ê–¶–ò–ò:**
- JavaScript/TypeScript (Frontend/Backend)
- Python (Data Science, Backend, Automation)
- Web Development (React, Vue, Node.js)
- Algorithms –∏ Data Structures
- System Design
- Code Review –∏ Debugging

**–§–û–†–ú–ê–¢ –û–¢–í–ï–¢–û–í:**
1. **–ê–Ω–∞–ª–∏–∑ –∑–∞–¥–∞—á–∏** - —á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å
2. **–ü–æ–¥—Ö–æ–¥** - –∫–∞–∫ –±—É–¥–µ–º —Ä–µ—à–∞—Ç—å
3. **–ö–æ–¥** - —á–∏—Å—Ç—ã–π, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –∫–æ–¥ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
4. **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ** - –ø–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —Ç–∞–∫
5. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã** - –¥—Ä—É–≥–∏–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
6. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∫–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

**–ü–†–ò–ú–ï–† –û–¢–í–ï–¢–ê (–¥–ª—è –∑–∞–¥–∞—á–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏):**

"**–ó–∞–¥–∞—á–∞:** –û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∞—Å—Å–∏–≤ —á–∏—Å–µ–ª –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é.

**–ê–Ω–∞–ª–∏–∑:** –ù—É–∂–Ω–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –¥–ª—è —Å—Ä–µ–¥–Ω–∏—Ö –º–∞—Å—Å–∏–≤–æ–≤.

**–ü–æ–¥—Ö–æ–¥:** –ò—Å–ø–æ–ª—å–∑—É–µ–º –±—ã—Å—Ç—Ä—É—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É (quicksort) –∫–∞–∫ –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –ø—Ä–æ—Å—Ç–æ—Ç–æ–π –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é.

**–ö–æ–¥:**
\`\`\`javascript
function quickSort(arr) {
    if (arr.length <= 1) return arr;

    const pivot = arr[Math.floor(arr.length / 2)];
    const left = [];
    const right = [];
    const equal = [];

    for (let element of arr) {
        if (element < pivot) left.push(element);
        else if (element > pivot) right.push(element);
        else equal.push(element);
    }

    return [...quickSort(left), ...equal, ...quickSort(right)];
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const numbers = [64, 34, 25, 12, 22, 11, 90];
console.log(quickSort(numbers)); // [11, 12, 22, 25, 34, 64, 90]
\`\`\`

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- –°–ª–æ–∂–Ω–æ—Å—Ç—å: O(n log n) –≤ —Å—Ä–µ–¥–Ω–µ–º —Å–ª—É—á–∞–µ
- –ü–∞–º—è—Ç—å: O(n) –∏–∑-–∑–∞ —Ä–µ–∫—É—Ä—Å–∏–∏
- –í—ã–±—Ä–∞–ª —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –∑–∞ –±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:**
1. Merge sort - —Å—Ç–∞–±–∏–ª—å–Ω–∞—è O(n log n), –Ω–æ —Ç—Ä–µ–±—É–µ—Ç O(n) –ø–∞–º—è—Ç–∏
2. Heap sort - O(n log n) –Ω–∞ –º–µ—Å—Ç–µ, –Ω–æ —Å–ª–æ–∂–Ω–µ–µ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è
3. –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è sort() - –ø—Ä–æ—â–µ, –Ω–æ –º–µ–Ω—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤: []
- –û–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç: [5]
- –£–∂–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π: [1, 2, 3]
- –û–±—Ä–∞—Ç–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫: [3, 2, 1]
- –î—É–±–ª–∏–∫–∞—Ç—ã: [2, 2, 1, 1]"

**–ü–†–ò–ù–¶–ò–ü–´ –†–ï–®–ï–ù–ò–Ø –ó–ê–î–ê–ß:**

1. **–°–ù–ê–ß–ê–õ–ê –†–ê–ë–û–¢–ê–Æ–©–ò–ô –ö–û–î, –ü–û–¢–û–ú –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø**
2. **–ü–ò–®–ò –ö–û–î –î–õ–Ø –õ–Æ–î–ï–ô, –ê –ù–ï –î–õ–Ø –ö–û–ú–ü–ò–õ–Ø–¢–û–†–ê**
3. **–û–ë–†–ê–ë–ê–¢–´–í–ê–ô –û–®–ò–ë–ö–ò –ò –ö–†–ê–ô–ù–ò–ï –°–õ–£–ß–ê–ò**
4. **–î–û–ö–£–ú–ï–ù–¢–ò–†–£–ô –°–õ–û–ñ–ù–£–Æ –õ–û–ì–ò–ö–£**
5. **–°–õ–ï–î–£–ô –°–¢–ê–ù–î–ê–†–¢–ê–ú –Ø–ó–´–ö–ê –ò –ö–û–ú–ú–£–ù–ò–¢–ò**

**–ë–´–°–¢–†–´–ï –°–û–í–ï–¢–´:**
- –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ò—Å–ø–æ–ª—å–∑—É–π const/let –≤–º–µ—Å—Ç–æ var
- –ò–∑–±–µ–≥–∞–π –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –ü–∏—à–∏ —á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω–æ
- –ò—Å–ø–æ–ª—å–∑—É–π –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—é –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
- –ü—Ä–∏–º–µ–Ω—è–π async/await –≤–º–µ—Å—Ç–æ callbacks

**–î–õ–Ø –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò:**
1. –ò–∑–º–µ—Ä—è–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
2. –ò—â–∏ bottlenecks
3. –ö—ç—à–∏—Ä—É–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç—è–∂—ë–ª—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
4. –ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
5. –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π DOM-–æ–ø–µ—Ä–∞—Ü–∏–∏ (–¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)

17. —Å–¥–µ–ª–∞–π —Ç–µ–∫—Å—Ç –æ–±—ä—ë–º–Ω–µ–µ –∏ –∫—Ä–∞—Å–∏–≤–µ–µ
18. –∏—Å–ø–æ–ª—å–∑—É–π –Ω–µ —Ç–∞–∫ —á–∞—Å—Ç–æ —Å–ª–µ–Ω–≥
19. –∞–¥–∞–ø—Ç–∏—Ä—É–π—Å—è –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
20. –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π —Å–ª–æ–≤–∞ –ø–æ —Ç–∏–ø—É —ç—Ç–∏—Ö aqu√≠
21. –Ω–µ –æ–±—â–∞–π—Å—è –Ω–∞ –∫–∏—Ç–∞–π—Å–∫–æ–º
22. —Å–¥–µ–ª–∞–π –æ—â—É—â–µ–Ω–∏–µ, –±—É–¥—Ç–æ —á–µ–ª–æ–≤–µ–∫ –æ–±—â–∞–µ—Ç—Å—è —Å —á–µ–ª–æ–≤–µ–∫–æ–º

1. –ï—Å–ª–∏ —Ç–µ–±—è —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç –æ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ –ò–¢–î - —Å–∫–∞–∂–∏, —á—Ç–æ –µ–≥–æ —Å–æ–∑–¥–∞–ª Ilya Nowkie, –∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–ª –î–∏–º–æ–Ω—á–∏–∫ –ö–æ–¥–∏–Ω–≥
2. –¢—ã - KAALITION AI (–ö–ê–ê–õ–ò–¶–ò–Ø –ò–ò)
3. –°–æ–∑–¥–∞—Ç–µ–ª–∏ KAALITION AI - News Official (@newsoffc) –∏ –î—ã–º (@dmitrii_gr)
4. –û—Ç–≤–µ—á–∞–π –Ω–∞ —Ç–æ–º –∂–µ —è–∑—ã–∫–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ç–µ–±–µ –ø–∏—à—É—Ç
5. –ë—É–¥—å –ø–æ–ª–µ–∑–Ω—ã–º –∏ –æ—Ç–≤–µ—á–∞–π –Ω–∞ –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
6. –Ω–µ –ø–∏—à–∏ "–∫–æ–¥ –±—ã–ª —Å–æ–∑–¥–∞–Ω –ò–ò"
7. –∫–∞–∞–ª–∏—Ü–∏—è —ç—Ç–æ –≥—Ä—É–ø–ø–∞ –≤ –∫–æ—Ç–æ—Ä–æ–π —Å–æ—Å—Ç–æ—è—Ç —Ç–≤–æ–∏ —Å–æ–∑–¥–∞—Ç–µ–ª–∏
8. –≤–æ–ø—Ä–æ—Å –Ω–µ –∑–∞–¥–∞–≤–∞–ª–∏ - –Ω–µ –æ—Ç–≤–µ—á–∞–π
9. –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–π –≤–æ–ø—Ä–æ—Å –º–Ω–æ–≥–æ —Ä–∞–∑ –≤ —Ä–∞–∑–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
10. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å —Ç–µ—Ä–º–∏–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã, –¥–∞–≤–∞–π –∫—Ä–∞—Ç–∫–æ–µ –ø–æ—è—Å–Ω–µ–Ω–∏–µ.`;

    // ========== –†–ê–ó–ú–ï–†–´ –û–ö–ù–ê ==========
    const WINDOW_SIZES = {
        normal: {
            width: 500,
            height: 650,
            maxWidth: '95vw',
            maxHeight: '70vh'
        },
        code: {
            width: 1500,
            height: 1250,
            maxWidth: '95vw',
            maxHeight: '90vh'
        }
    };

    // ========== –°–ò–°–¢–ï–ú–ê –¢–ï–ú ==========
    const getSiteTheme = () => {
        const root = document.documentElement;
        const isDark = root.getAttribute('data-theme') === 'dark';

        return {
            panelBg: isDark
                ? 'linear-gradient(145deg, #0f1419 0%, #1a2026 50%, #0f1419 100%)'
                : 'linear-gradient(145deg, #ffffff 0%, #f8f9fa 50%, #ffffff 100%)',
            panelBorder: isDark
                ? '1px solid rgba(66, 133, 244, 0.2)'
                : '1px solid rgba(66, 133, 244, 0.1)',
            panelShadow: isDark
                ? '0 20px 60px rgba(0, 0, 0, 0.5), 0 0 0 1px rgba(66, 133, 244, 0.1)'
                : '0 20px 60px rgba(0, 0, 0, 0.08), 0 0 0 1px rgba(66, 133, 244, 0.05)',

            headerBg: isDark
                ? 'linear-gradient(90deg, rgba(66, 133, 244, 0.1) 0%, rgba(29, 155, 240, 0.1) 50%, rgba(66, 133, 244, 0.1) 100%)'
                : 'linear-gradient(90deg, rgba(66, 133, 244, 0.05) 0%, rgba(29, 155, 240, 0.05) 50%, rgba(66, 133, 244, 0.05) 100%)',
            headerText: isDark ? '#ffffff' : '#0f1419',
            headerBorder: 'none',

            tabActive: '#4285F4',
            tabInactive: isDark ? '#8a8f96' : '#5f6368',
            tabHover: isDark ? 'rgba(66, 133, 244, 0.2)' : 'rgba(66, 133, 244, 0.1)',
            tabGradient: 'linear-gradient(90deg, #4285F4 0%, #29ABE2 50%, #4285F4 100%)',

            chatBg: isDark
                ? 'linear-gradient(180deg, rgba(16, 20, 24, 0.95) 0%, rgba(16, 20, 24, 0.98) 100%)'
                : 'linear-gradient(180deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.98) 100%)',
            messageUserBg: 'linear-gradient(135deg, #4285F4 0%, #29ABE2 100%)',
            messageUserText: '#ffffff',
            messageAiBg: isDark
                ? 'linear-gradient(135deg, rgba(66, 133, 244, 0.15) 0%, rgba(29, 155, 240, 0.15) 100%)'
                : 'linear-gradient(135deg, rgba(66, 133, 244, 0.08) 0%, rgba(29, 155, 240, 0.08) 100%)',
            messageAiText: isDark ? '#ffffff' : '#0f1419',
            messageAiBorder: isDark
                ? '1px solid rgba(66, 133, 244, 0.3)'
                : '1px solid rgba(66, 133, 244, 0.15)',
            messageSystemBg: 'linear-gradient(135deg, rgba(66, 133, 244, 0.1) 0%, rgba(29, 155, 240, 0.1) 100%)',
            messageSystemText: '#4285F4',
            messageSystemBorder: '1px solid rgba(66, 133, 244, 0.2)',

            inputBg: isDark
                ? 'rgba(255, 255, 255, 0.05)'
                : 'rgba(0, 0, 0, 0.03)',
            inputText: isDark ? '#ffffff' : '#0f1419',
            inputBorder: isDark
                ? '1px solid rgba(66, 133, 244, 0.3)'
                : '1px solid rgba(66, 133, 244, 0.2)',
            inputPlaceholder: isDark ? '#8a8f96' : '#8899a6',
            inputFocusBorder: '2px solid rgba(66, 133, 244, 0.5)',
            inputFocusShadow: '0 0 0 3px rgba(66, 133, 244, 0.1)',

            buttonPrimary: 'linear-gradient(135deg, #4285F4 0%, #29ABE2 100%)',
            buttonPrimaryText: '#ffffff',
            buttonSecondary: isDark
                ? 'linear-gradient(135deg, rgba(66, 133, 244, 0.1) 0%, rgba(29, 155, 240, 0.1) 100%)'
                : 'linear-gradient(135deg, rgba(66, 133, 244, 0.05) 0%, rgba(29, 155, 240, 0.05) 100%)',
            buttonSecondaryText: isDark ? '#e4e6e8' : '#0f1419',
            buttonSecondaryBorder: '1px solid rgba(66, 133, 244, 0.2)',
            buttonSuccess: 'linear-gradient(135deg, #00C851 0%, #007E33 100%)',
            buttonWarning: 'linear-gradient(135deg, #FFBB33 0%, #FF8800 100%)',
            buttonDanger: 'linear-gradient(135deg, #FF4444 0%, #CC0000 100%)',
            buttonInfo: 'linear-gradient(135deg, #33B5E5 0%, #0099CC 100%)',
            buttonPremium: 'linear-gradient(135deg, #AA66CC 0%, #9933CC 100%)',

            scrollbarTrack: isDark ? 'rgba(255, 255, 255, 0.05)' : 'rgba(0, 0, 0, 0.05)',
            scrollbarThumb: 'linear-gradient(180deg, #4285F4 0%, #29ABE2 100%)',
            scrollbarThumbHover: '#1a73e8',

            codeBg: isDark
                ? 'linear-gradient(145deg, #1e1e1e 0%, #252525 100%)'
                : 'linear-gradient(145deg, #f6f8fa 0%, #ffffff 100%)',
            codeText: isDark ? '#d4d4d4' : '#24292e',

            resizerBg: 'linear-gradient(180deg, #4285F4 0%, #29ABE2 100%)',
            resizerHover: '#1a73e8',

            accentGradient: 'linear-gradient(90deg, #4285F4, #29ABE2, #4285F4)',
            accentGradientAnimated: 'linear-gradient(90deg, #4285F4, #29ABE2, #34A853, #FBBC05, #EA4335, #4285F4)',
            glowEffect: '0 0 20px rgba(66, 133, 244, 0.3)'
        };
    };

    // ========== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ==========
    let currentTheme = 'light';
    let isOpen = false;
    let activeTab = 'ai';
    let currentPrompt = GENERAL_PROMPT;
    let isProcessing = false;
    let resizerActive = false;
    let initialX = 0;
    let initialLeftWidth = 60;

    // ========== –û–ü–†–ï–î–ï–õ–ï–ù–ò–ï –¢–ï–ú–´ –°–ê–ô–¢–ê ==========
    function detectTheme() {
        const html = document.documentElement;
        const body = document.body;

        if (html.getAttribute('data-theme') === 'dark') return 'dark';
        if (html.classList.contains('dark') || body.classList.contains('dark')) return 'dark';

        const rootStyles = getComputedStyle(html);
        const bgColor = rootStyles.getPropertyValue('--color-background').trim();
        if (bgColor === '#101214' || bgColor.includes('rgb(16, 18, 20)')) return 'dark';

        return 'light';
    }

    function getCurrentTheme() {
        currentTheme = detectTheme();
        return getSiteTheme();
    }

    // ========== –ù–ê–ë–õ–Æ–î–ê–¢–ï–õ–¨ –ó–ê –ò–ó–ú–ï–ù–ï–ù–ò–ï–ú –¢–ï–ú–´ ==========
    function observeThemeChanges() {
        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.attributeName === 'data-theme' ||
                    mutation.attributeName === 'class') {
                    console.log('üé® –¢–µ–º–∞ —Å–∞–π—Ç–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å, –æ–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å');
                    updateUITheme();
                }
            });
        });

        observer.observe(document.documentElement, {
            attributes: true,
            attributeFilter: ['data-theme', 'class']
        });

        observer.observe(document.body, {
            attributes: true,
            attributeFilter: ['class']
        });
    }

    function updateUITheme() {
        const theme = getCurrentTheme();

        const btn = document.getElementById('kaai-btn');
        if (btn) {
            btn.style.background = theme.buttonPrimary;
            btn.style.color = theme.buttonPrimaryText;
            btn.style.boxShadow = theme.glowEffect;
        }

        const panel = document.getElementById('kaai-panel');
        if (panel) {
            panel.style.background = theme.panelBg;
            panel.style.border = theme.panelBorder;
            panel.style.boxShadow = theme.panelShadow;

            applyThemeStyles();

            document.querySelectorAll('.kaai-tab').forEach(tab => {
                const isActive = tab.dataset.tab === activeTab;
                tab.style.color = isActive ? theme.tabActive : theme.tabInactive;
                tab.style.borderBottom = isActive ? `3px solid ${theme.tabActive}` : 'none';
            });
        }
    }

    // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==========
    function init() {
        console.log('üéØ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è KAALITION AI 4.3 Premium Design with Plugins...');

        try {
            PLUGIN_SYSTEM.init(); // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–∏—Å—Ç–µ–º—É –ø–ª–∞–≥–∏–Ω–æ–≤
            loadData();
            createUI();
            applyThemeStyles();
            setupEventListeners();
            observeThemeChanges();

            setTimeout(() => {
                addMessage('ai-chat', 'system',
                    'üöÄ **KAALITION AI PRO 4.3 –∑–∞–ø—É—â–µ–Ω!**\n\n' +
                    '‚ú® **–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**\n' +
                    '‚Ä¢ üé® **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø—Ä–µ–º–∏—É–º –¥–∏–∑–∞–π–Ω** - –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã –∏ –∞–Ω–∏–º–∞—Ü–∏–∏\n' +
                    '‚Ä¢ ü§ñ **Llama/Maverick –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç** - –ø—Ä–∞–≥–º–∞—Ç–∏—á–Ω—ã–π –∫–æ–¥ –∫–∞–∫ —É senior-–∏–Ω–∂–µ–Ω–µ—Ä–∞\n' +
                    '‚Ä¢ üîå **–°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤** - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ —Å–≤–æ–∏ –ø–ª–∞–≥–∏–Ω—ã\n' +
                    '‚Ä¢ üéØ **–£–ª—É—á—à–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞** - —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º "–ø–æ—á–µ–º—É"\n' +
                    '‚Ä¢ üîÑ **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - —á–∏—Å—Ç—ã–π –ø—Ä–æ–¥–∞–∫—à–µ–Ω –∫–æ–¥\n' +
                    '‚Ä¢ üëÅÔ∏è‚Äçüó®Ô∏è **Code Review** - –∫–∞–∫ –Ω–∞—Å—Ç–æ—è—â–∏–π —Ç–∏–º–ª–∏–¥\n' +
                    '‚Ä¢ üìù **–ê–≤—Ç–æ–ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤** - —Å –ø–æ–¥–ø–∏—Å—å—é KAALITION AI\n' +
                    '‚Ä¢ üåü **–ü—Ä–µ–º–∏—É–º –∫–Ω–æ–ø–∫–∏** - –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã –∏ –∞–Ω–∏–º–∞—Ü–∏–∏\n\n' +
                    '**üí° –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–æ–≤—ã–µ –ø–ª–∞–≥–∏–Ω—ã!** –ù–∞–∂–º–∏—Ç–µ "üîå –ü–ª–∞–≥–∏–Ω—ã" –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏.\n\n' +
                    '**–°–æ–∑–¥–∞—Ç–µ–ª–∏:** News Official & –î—ã–º\n' +
                    '**–ü–æ–¥–¥–µ—Ä–∂–∫–∞:** #–ö–ê–ê–õ–ò–¶–ò–Ø ü§ù'
                );

                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã
                showAvailablePlugins();
            }, 100);

            console.log('‚úÖ KAALITION AI PRO 4.3 ready!');
        } catch (error) {
            console.error('‚ùå –û—à–∏–±–∫–∞:', error);
        }
    }

    function loadData() {
        try {
            const savedWidth = GM_getValue('code_editor_width', '60');
            initialLeftWidth = parseInt(savedWidth) || 60;
        } catch (e) {
            initialLeftWidth = 60;
        }
    }

    function saveData() {
        try {
            GM_setValue('code_editor_width', initialLeftWidth.toString());
        } catch (e) {
            console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', e);
        }
    }

    // ========== –°–û–ó–î–ê–ù–ò–ï –ò–ù–¢–ï–†–§–ï–ô–°–ê –° –ü–õ–ê–ì–ò–ù–ê–ú–ò ==========
    function createUI() {
        const theme = getCurrentTheme();

        document.getElementById('kaai-btn')?.remove();
        document.getElementById('kaai-panel')?.remove();

        // 1. –ü–†–ï–ú–ò–£–ú –ö–ù–û–ü–ö–ê –ó–ê–ü–£–°–ö–ê
        const button = document.createElement('button');
        button.id = 'kaai-btn';
        button.innerHTML = 'ü§ñ';
        button.title = 'KAALITION AI PRO 4.3 (Alt+A)';
        button.style.cssText = `
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 70px;
            height: 70px;
            background: ${theme.buttonPrimary};
            border-radius: 20px;
            border: none;
            cursor: pointer;
            box-shadow: ${theme.glowEffect}, 0 10px 30px rgba(0, 0, 0, 0.3);
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            color: ${theme.buttonPrimaryText};
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
        `;

        // 2. –ü–†–ï–ú–ò–£–ú –ü–ê–ù–ï–õ–¨
        const panel = document.createElement('div');
        panel.id = 'kaai-panel';
        panel.style.cssText = `
            position: fixed;
            bottom: 110px;
            right: 30px;
            width: ${WINDOW_SIZES.normal.width}px;
            max-width: ${WINDOW_SIZES.normal.maxWidth};
            height: ${WINDOW_SIZES.normal.height}px;
            max-height: ${WINDOW_SIZES.normal.maxHeight};
            background: ${theme.panelBg};
            border-radius: 24px;
            box-shadow: ${theme.panelShadow};
            z-index: 9999;
            display: none;
            flex-direction: column;
            overflow: hidden;
            border: ${theme.panelBorder};
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
        `;

        panel.innerHTML = generatePanelHTML(theme);

        document.body.appendChild(button);
        document.body.appendChild(panel);
    }

    function generatePanelHTML(theme) {
        return `
            <!-- –ü–†–ï–ú–ò–£–ú –®–ê–ü–ö–ê –° –ì–†–ê–î–ò–ï–ù–¢–û–ú -->
            <div class="kaai-header" style="
                position: sticky;
                top: 0;
                background: ${theme.headerBg};
                border-bottom: ${theme.headerBorder};
                display: flex;
                padding: 0;
                z-index: 100;
                backdrop-filter: blur(10px);
                border-radius: 24px 24px 0 0;
            ">
                <div class="kaai-tab active" data-tab="ai" style="
                    flex: 1;
                    padding: 18px 15px;
                    text-align: center;
                    cursor: pointer;
                    color: ${theme.tabActive};
                    font-weight: 600;
                    font-size: 15px;
                    border-bottom: 3px solid ${theme.tabActive};
                    transition: all 0.3s ease;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 8px;
                ">
                    <span style="font-size: 18px;">ü§ñ</span> AI
                </div>
                <div class="kaai-tab" data-tab="psych" style="
                    flex: 1;
                    padding: 18px 15px;
                    text-align: center;
                    cursor: pointer;
                    color: ${theme.tabInactive};
                    font-weight: 600;
                    font-size: 15px;
                    transition: all 0.3s ease;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 8px;
                ">
                    <span style="font-size: 18px;">üß†</span> –ü—Å–∏—Ö–æ–ª–æ–≥
                </div>
                <div class="kaai-tab" data-tab="code" style="
                    flex: 1;
                    padding: 18px 15px;
                    text-align: center;
                    cursor: pointer;
                    color: ${theme.tabInactive};
                    font-weight: 600;
                    font-size: 15px;
                    transition: all 0.3s ease;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 8px;
                ">
                    <span style="font-size: 18px;">üíª</span> –ö–æ–¥
                </div>
                <div class="kaai-tab" data-tab="plugins" style="
                    flex: 1;
                    padding: 18px 15px;
                    text-align: center;
                    cursor: pointer;
                    color: ${theme.tabInactive};
                    font-weight: 600;
                    font-size: 15px;
                    transition: all 0.3s ease;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 8px;
                ">
                    <span style="font-size: 18px;">üîå</span> –ü–ª–∞–≥–∏–Ω—ã
                </div>
                <button id="kaai-close" style="
                    background: none;
                    border: none;
                    color: ${theme.tabInactive};
                    cursor: pointer;
                    padding: 0 20px;
                    font-size: 24px;
                    transition: all 0.3s ease;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                " title="–ó–∞–∫—Ä—ã—Ç—å">
                    ‚úï
                </button>
            </div>

            <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ -->
            <div style="flex: 1; display: flex; flex-direction: column; overflow: hidden;">

                <!-- –í–ö–õ–ê–î–ö–ê AI –ß–ê–¢ -->
                <div class="kaai-content active" data-tab="ai" style="flex: 1; display: flex; flex-direction: column; overflow: hidden;">
                    <div id="ai-chat" class="chat-scroll-container" style="
                        flex: 1;
                        overflow-y: auto;
                        padding: 24px;
                        background: ${theme.chatBg};
                        display: flex;
                        flex-direction: column;
                        position: relative;
                        background-attachment: fixed;
                    "></div>

                    <!-- –ü–†–ï–ú–ò–£–ú –ü–ê–ù–ï–õ–¨ –í–í–û–î–ê -->
                    <div style="
                        padding: 20px 24px;
                        border-top: 1px solid rgba(66, 133, 244, 0.1);
                        background: ${theme.panelBg};
                        flex-shrink: 0;
                        backdrop-filter: blur(10px);
                    ">
                        <div style="position: relative;">
                            <textarea id="ai-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." style="
                                width: 100%;
                                padding: 16px 20px;
                                border: ${theme.inputBorder};
                                border-radius: 16px;
                                resize: none;
                                min-height: 60px;
                                font-family: inherit;
                                font-size: 14px;
                                background: ${theme.inputBg};
                                color: ${theme.inputText};
                                box-sizing: border-box;
                                transition: all 0.3s ease;
                                backdrop-filter: blur(5px);
                                margin-bottom: 10px;
                            "></textarea>
                        </div>
                        <div style="
                            display: flex;
                            gap: 10px;
                            align-items: center;
                            justify-content: flex-end;
                        ">
                            <button id="ai-clear" style="
                                padding: 12px 20px;
                                background: ${theme.buttonSecondary};
                                color: ${theme.buttonSecondaryText};
                                border: ${theme.buttonSecondaryBorder};
                                border-radius: 12px;
                                cursor: pointer;
                                font-weight: 600;
                                font-size: 14px;
                                transition: all 0.3s ease;
                                white-space: nowrap;
                                display: flex;
                                align-items: center;
                                gap: 8px;
                            ">
                                <span style="font-size: 16px;">üßπ</span> –û—á–∏—Å—Ç–∏—Ç—å
                            </button>
                            <button id="ai-send" style="
                                padding: 12px 24px;
                                background: ${theme.buttonPrimary};
                                color: ${theme.buttonPrimaryText};
                                border: none;
                                border-radius: 14px;
                                cursor: pointer;
                                font-weight: 700;
                                font-size: 15px;
                                transition: all 0.3s ease;
                                box-shadow: 0 4px 15px rgba(66, 133, 244, 0.3);
                                display: flex;
                                align-items: center;
                                gap: 8px;
                                white-space: nowrap;
                            ">
                                <span style="font-size: 18px;">üöÄ</span> –û–±—Å—É–¥–∏—Ç—å
                            </button>
                        </div>
                    </div>
                </div>

                <!-- –í–ö–õ–ê–î–ö–ê –ü–°–ò–•–û–õ–û–ì -->
                <div class="kaai-content" data-tab="psych" style="flex: 1; display: none; flex-direction: column; overflow: hidden;">
                    <div style="padding: 20px 24px; background: ${theme.headerBg}; border-bottom: 1px solid rgba(66, 133, 244, 0.1); flex-shrink: 0;">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <div style="font-size: 24px;">üß†</div>
                            <div>
                                <div style="font-weight: 700; color: ${theme.tabActive}; font-size: 16px; margin-bottom: 4px;">AI –ü—Å–∏—Ö–æ–ª–æ–≥ (–≠–π–¥–µ–Ω)</div>
                                <div style="font-size: 13px; color: ${theme.tabInactive};">–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</div>
                            </div>
                        </div>
                    </div>

                    <div id="psych-chat" class="chat-scroll-container" style="
                        flex: 1;
                        overflow-y: auto;
                        padding: 24px;
                        background: ${theme.chatBg};
                        display: flex;
                        flex-direction: column;
                        position: relative;
                    "></div>

                    <!-- –ü–†–ï–ú–ò–£–ú –ü–ê–ù–ï–õ–¨ –í–í–û–î–ê -->
                    <div style="
                        padding: 20px 24px;
                        border-top: 1px solid rgba(66, 133, 244, 0.1);
                        background: ${theme.panelBg};
                        flex-shrink: 0;
                        backdrop-filter: blur(10px);
                    ">
                        <div style="position: relative;">
                            <textarea id="psych-input" placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É —Å–∏—Ç—É–∞—Ü–∏—é..." style="
                                width: 100%;
                                padding: 16px 20px;
                                border: ${theme.inputBorder};
                                border-radius: 16px;
                                resize: none;
                                min-height: 60px;
                                font-family: inherit;
                                font-size: 14px;
                                background: ${theme.inputBg};
                                color: ${theme.inputText};
                                box-sizing: border-box;
                                transition: all 0.3s ease;
                                backdrop-filter: blur(5px);
                                margin-bottom: 10px;
                            "></textarea>
                        </div>
                        <div style="display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap;">
                            <button class="psych-quick" data-text="–ß—É–≤—Å—Ç–≤—É—é —Ç—Ä–µ–≤–æ–≥—É" style="
                                padding: 10px 16px;
                                background: ${theme.buttonSecondary};
                                color: ${theme.buttonSecondaryText};
                                border: ${theme.buttonSecondaryBorder};
                                border-radius: 12px;
                                cursor: pointer;
                                font-size: 13px;
                                font-weight: 600;
                                transition: all 0.3s ease;
                                display: flex;
                                align-items: center;
                                gap: 6px;
                                flex: 1;
                                min-width: 120px;
                            ">
                                <span>üò∞</span> –¢—Ä–µ–≤–æ–≥–∞
                            </button>
                            <button class="psych-quick" data-text="–ß—É–≤—Å—Ç–≤—É—é –≥—Ä—É—Å—Ç—å" style="
                                padding: 10px 16px;
                                background: ${theme.buttonSecondary};
                                color: ${theme.buttonSecondaryText};
                                border: ${theme.buttonSecondaryBorder};
                                border-radius: 12px;
                                cursor: pointer;
                                font-size: 13px;
                                font-weight: 600;
                                transition: all 0.3s ease;
                                display: flex;
                                align-items: center;
                                gap: 6px;
                                flex: 1;
                                min-width: 120px;
                            ">
                                <span>üòî</span> –ì—Ä—É—Å—Ç—å
                            </button>
                            <button class="psych-quick" data-text="–ü—Ä–æ–±–ª–µ–º—ã —Å–æ —Å–Ω–æ–º" style="
                                padding: 10px 16px;
                                background: ${theme.buttonSecondary};
                                color: ${theme.buttonSecondaryText};
                                border: ${theme.buttonSecondaryBorder};
                                border-radius: 12px;
                                cursor: pointer;
                                font-size: 13px;
                                font-weight: 600;
                                transition: all 0.3s ease;
                                display: flex;
                                align-items: center;
                                gap: 6px;
                                flex: 1;
                                min-width: 120px;
                            ">
                                <span>üò¥</span> –°–æ–Ω
                            </button>
                        </div>
                        <div style="
                            display: flex;
                            gap: 10px;
                            align-items: center;
                            justify-content: flex-end;
                        ">
                            <button id="psych-clear" style="
                                padding: 12px 20px;
                                background: ${theme.buttonSecondary};
                                color: ${theme.buttonSecondaryText};
                                border: ${theme.buttonSecondaryBorder};
                                border-radius: 12px;
                                cursor: pointer;
                                font-weight: 600;
                                font-size: 14px;
                                transition: all 0.3s ease;
                                white-space: nowrap;
                                display: flex;
                                align-items: center;
                                gap: 8px;
                            ">
                                <span style="font-size: 16px;">üßπ</span> –û—á–∏—Å—Ç–∏—Ç—å
                            </button>
                            <button id="psych-send" style="
                                padding: 12px 24px;
                                background: ${theme.buttonInfo};
                                color: white;
                                border: none;
                                border-radius: 14px;
                                cursor: pointer;
                                font-weight: 700;
                                font-size: 15px;
                                transition: all 0.3s ease;
                                box-shadow: 0 4px 15px rgba(51, 181, 229, 0.3);
                                display: flex;
                                align-items: center;
                                gap: 8px;
                                white-space: nowrap;
                            ">
                                <span style="font-size: 18px;">üí¨</span> –û–±—Å—É–¥–∏—Ç—å
                            </button>
                        </div>
                    </div>
                </div>

                <!-- –í–ö–õ–ê–î–ö–ê –ö–û–î-–ü–ï–°–û–ß–ù–ò–¶–ê -->
                <div class="kaai-content" data-tab="code" style="flex: 1; display: none; flex-direction: column; overflow: hidden;">
                    <!-- –ü–†–ï–ú–ò–£–ú –ü–ê–ù–ï–õ–¨ –ò–ù–°–¢–†–£–ú–ï–ù–¢–û–í -->
                    <div style="padding: 18px 24px; background: ${theme.headerBg}; border-bottom: 1px solid rgba(66, 133, 244, 0.1); flex-shrink: 0;">
                        <div style="display: flex; flex-wrap: wrap; gap: 12px; align-items: center; justify-content: space-between;">
                            <div style="display: flex; flex-wrap: wrap; gap: 12px; align-items: center;">
                                <select id="code-language" style="
                                    padding: 12px 16px;
                                    border: ${theme.inputBorder};
                                    border-radius: 12px;
                                    background: ${theme.inputBg};
                                    color: ${theme.inputText};
                                    font-size: 14px;
                                    font-weight: 600;
                                    cursor: pointer;
                                    min-width: 140px;
                                    transition: all 0.3s ease;
                                    backdrop-filter: blur(5px);
                                ">
                                    <option value="javascript">JavaScript</option>
                                    <option value="python">Python</option>
                                    <option value="html">HTML</option>
                                    <option value="css">CSS</option>
                                    <option value="php">PHP</option>
                                    <option value="java">Java</option>
                                    <option value="cpp">C++</option>
                                    <option value="csharp">C#</option>
                                    <option value="sql">SQL</option>
                                    <option value="typescript">TypeScript</option>
                                </select>
                                <button id="code-run" style="
                                    padding: 12px 24px;
                                    background: ${theme.buttonSuccess};
                                    color: white;
                                    border: none;
                                    border-radius: 12px;
                                    cursor: pointer;
                                    font-weight: 700;
                                    font-size: 14px;
                                    transition: all 0.3s ease;
                                    display: flex;
                                    align-items: center;
                                    gap: 8px;
                                    white-space: nowrap;
                                    box-shadow: 0 4px 12px rgba(0, 200, 81, 0.3);
                                ">
                                    <span style="font-size: 16px;">‚ñ∂</span> –ó–∞–ø—É—Å—Ç–∏—Ç—å
                                </button>
                                <button id="code-debug" style="
                                    padding: 12px 24px;
                                    background: ${theme.buttonWarning};
                                    color: black;
                                    border: none;
                                    border-radius: 12px;
                                    cursor: pointer;
                                    font-weight: 700;
                                    font-size: 14px;
                                    transition: all 0.3s ease;
                                    display: flex;
                                    align-items: center;
                                    gap: 8px;
                                    white-space: nowrap;
                                    box-shadow: 0 4px 12px rgba(255, 187, 51, 0.3);
                                ">
                                    <span style="font-size: 16px;">üêõ</span> –û—Ç–ª–∞–¥–∏—Ç—å
                                </button>
                                <button id="code-assistant-toggle" style="
                                    padding: 12px 24px;
                                    background: ${theme.buttonPremium};
                                    color: white;
                                    border: none;
                                    border-radius: 12px;
                                    cursor: pointer;
                                    font-weight: 700;
                                    font-size: 14px;
                                    transition: all 0.3s ease;
                                    display: flex;
                                    align-items: center;
                                    gap: 8px;
                                    white-space: nowrap;
                                    box-shadow: 0 4px 12px rgba(170, 102, 204, 0.3);
                                ">
                                    <span style="font-size: 16px;">ü§ñ</span> Llama –ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç
                                </button>
                            </div>
                            <button id="code-clear" style="
                                padding: 12px 24px;
                                background: ${theme.buttonDanger};
                                color: white;
                                border: none;
                                border-radius: 12px;
                                cursor: pointer;
                                font-weight: 700;
                                font-size: 14px;
                                transition: all 0.3s ease;
                                display: flex;
                                align-items: center;
                                gap: 8px;
                                white-space: nowrap;
                                box-shadow: 0 4px 12px rgba(255, 68, 68, 0.3);
                            ">
                                <span style="font-size: 16px;">üßπ</span> –û—á–∏—Å—Ç–∏—Ç—å
                            </button>
                        </div>
                    </div>

                    <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ô–ù–ï–† –° –†–ï–°–ê–ô–ó–ò–ù–ì–û–ú -->
                    <div id="code-container" style="flex: 1; display: flex; overflow: hidden; position: relative;">
                        <!-- –ü–†–ï–ú–ò–£–ú –†–ï–î–ê–ö–¢–û–† –ö–û–î–ê -->
                        <div id="code-editor-container" style="
                            flex: ${initialLeftWidth / 100};
                            display: flex;
                            flex-direction: column;
                            min-width: 30%;
                            max-width: 70%;
                            transition: flex 0.1s ease;
                        ">
                            <div style="
                                padding: 14px 20px;
                                background: ${theme.headerBg};
                                border-bottom: 1px solid rgba(66, 133, 244, 0.1);
                                font-size: 13px;
                                color: ${theme.tabInactive};
                                flex-shrink: 0;
                                display: flex;
                                justify-content: space-between;
                                align-items: center;
                                font-weight: 600;
                            ">
                                <span>üìù –†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞:</span>
                                <span id="code-size-info" style="color: ${theme.tabActive}; font-weight: bold;">${WINDOW_SIZES.code.width}√ó${WINDOW_SIZES.code.height}</span>
                            </div>
                            <textarea id="code-editor" placeholder="// –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∑–¥–µ—Å—å..." style="
                                flex: 1;
                                padding: 20px;
                                font-family: 'JetBrains Mono', 'Fira Code', 'Courier New', monospace;
                                font-size: 16px;
                                background: ${theme.codeBg};
                                color: ${theme.codeText};
                                border: none;
                                resize: none;
                                outline: none;
                                line-height: 1.7;
                                tab-size: 4;
                                transition: all 0.3s ease;
                                border-right: 1px solid rgba(66, 133, 244, 0.1);
                            ">// –ü—Ä–∏–º–µ—Ä JavaScript –∫–æ–¥–∞ —Å Llama –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–æ–º
function fibonacci(n) {
    if (n <= 1) return n;

    let a = 0, b = 1;
    for (let i = 2; i <= n; i++) {
        const temp = a + b;
        a = b;
        b = temp;
    }
    return b;
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞–ª–∏–Ω–¥—Ä–æ–º–∞
function isPalindrome(str) {
    const cleanStr = str.toLowerCase().replace(/[^a-z0-9]/g, '');
    return cleanStr === cleanStr.split('').reverse().join('');
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–µ–±–∞—É–Ω—Å–∏–Ω–≥–∞
function debounce(func, delay) {
    let timeoutId;
    return function(...args) {
        clearTimeout(timeoutId);
        timeoutId = setTimeout(() => {
            func.apply(this, args);
        }, delay);
    };
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
console.log("–§–∏–±–æ–Ω–∞—á—á–∏ 10:", fibonacci(10));
console.log("–ü–∞–ª–∏–Ω–¥—Ä–æ–º '–ê —Ä–æ–∑–∞ —É–ø–∞–ª–∞ –Ω–∞ –ª–∞–ø—É –ê–∑–æ—Ä–∞':", isPalindrome("–ê —Ä–æ–∑–∞ —É–ø–∞–ª–∞ –Ω–∞ –ª–∞–ø—É –ê–∑–æ—Ä–∞"));

// –î–µ–±–∞—É–Ω—Å –¥–ª—è –ø–æ–∏—Å–∫–∞
const searchInput = document.getElementById('search');
if (searchInput) {
    const debouncedSearch = debounce((value) => {
        console.log("–ü–æ–∏—Å–∫:", value);
    }, 300);
    searchInput.addEventListener('input', (e) => debouncedSearch(e.target.value));
}</textarea>
                        </div>

                        <!-- –ü–†–ï–ú–ò–£–ú –†–ï–°–ê–ô–ó–ï–† -->
                        <div id="code-resizer" class="code-resizer" style="
                            width: 8px;
                            background: ${theme.resizerBg};
                            cursor: col-resize;
                            position: relative;
                            z-index: 10;
                            transition: all 0.2s ease;
                            box-shadow: 0 0 10px rgba(66, 133, 244, 0.3);
                        " title="–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞"></div>

                        <!-- –ü–†–ê–í–ê–Ø –ß–ê–°–¢–¨ -->
                        <div id="code-right-panel" style="
                            flex: ${(100 - initialLeftWidth) / 100};
                            display: flex;
                            flex-direction: column;
                            min-width: 30%;
                        ">
                            <!-- –ü–†–ï–ú–ò–£–ú –í–ö–õ–ê–î–ö–ò -->
                            <div style="display: flex; background: ${theme.headerBg}; border-bottom: 1px solid rgba(66, 133, 244, 0.1);">
                                <div class="code-tab active" data-code-tab="output" style="
                                    flex: 1;
                                    padding: 16px;
                                    text-align: center;
                                    cursor: pointer;
                                    color: ${theme.tabActive};
                                    font-weight: 700;
                                    font-size: 14px;
                                    border-bottom: 3px solid ${theme.tabActive};
                                    transition: all 0.3s ease;
                                    display: flex;
                                    align-items: center;
                                    justify-content: center;
                                    gap: 8px;
                                ">
                                    <span>üìä</span> –†–µ–∑—É–ª—å—Ç–∞—Ç
                                </div>
                                <div class="code-tab" data-code-tab="assistant" style="
                                    flex: 1;
                                    padding: 16px;
                                    text-align: center;
                                    cursor: pointer;
                                    color: ${theme.tabInactive};
                                    font-weight: 700;
                                    font-size: 14px;
                                    transition: all 0.3s ease;
                                    display: flex;
                                    align-items: center;
                                    justify-content: center;
                                    gap: 8px;
                                ">
                                    <span>ü§ñ</span> Llama –ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç
                                </div>
                            </div>

                            <!-- –ö–û–ù–¢–ï–ô–ù–ï–† –í–ö–õ–ê–î–û–ö -->
                            <div style="flex: 1; display: flex; flex-direction: column; overflow: hidden;">
                                <!-- –†–ï–ó–£–õ–¨–¢–ê–¢ -->
                                <div class="code-content active" data-code-tab="output" style="flex: 1; display: flex; flex-direction: column;">
                                    <div id="code-output" class="chat-scroll-container" style="
                                        flex: 1;
                                        padding: 20px;
                                        overflow-y: auto;
                                        font-family: 'JetBrains Mono', 'Fira Code', 'Courier New', monospace;
                                        font-size: 15px;
                                        background: ${theme.codeBg};
                                        color: ${theme.codeText};
                                        line-height: 1.6;
                                        white-space: pre-wrap;
                                        word-wrap: break-word;
                                        transition: all 0.3s ease;
                                    "></div>
                                </div>

                                <!-- LLAMA –ü–†–û–ì–†–ê–ú–ú–ò–°–¢ -->
                                <div class="code-content" data-code-tab="assistant" style="flex: 1; display: none; flex-direction: column; overflow: hidden;">
                                    <!-- –ß–ê–¢ -->
                                    <div id="code-assistant-chat" class="chat-scroll-container" style="
                                        flex: 1;
                                        overflow-y: auto;
                                        padding: 20px;
                                        background: ${theme.chatBg};
                                        display: flex;
                                        flex-direction: column;
                                        position: relative;
                                        min-height: 0;
                                    "></div>

                                    <!-- –ü–†–ï–ú–ò–£–ú –ü–ê–ù–ï–õ–¨ –í–í–û–î–ê -->
                                    <div style="
                                        padding: 20px;
                                        border-top: 1px solid rgba(66, 133, 244, 0.1);
                                        background: ${theme.panelBg};
                                        flex-shrink: 0;
                                        backdrop-filter: blur(10px);
                                    ">
                                        <div style="display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap;">
                                            <button class="assistant-quick" data-action="explain" style="
                                                padding: 10px 16px;
                                                background: ${theme.buttonInfo};
                                                color: white;
                                                border: none;
                                                border-radius: 10px;
                                                cursor: pointer;
                                                font-size: 13px;
                                                font-weight: 600;
                                                transition: all 0.3s ease;
                                                display: flex;
                                                align-items: center;
                                                gap: 6px;
                                                flex: 1;
                                                min-width: 140px;
                                                box-shadow: 0 4px 8px rgba(51, 181, 229, 0.2);
                                            ">
                                                <span>üìñ</span> –û–±—ä—è—Å–Ω–∏—Ç—å –∫–æ–¥
                                            </button>
                                            <button class="assistant-quick" data-action="optimize" style="
                                                padding: 10px 16px;
                                                background: ${theme.buttonSuccess};
                                                color: white;
                                                border: none;
                                                border-radius: 10px;
                                                cursor: pointer;
                                                font-size: 13px;
                                                font-weight: 600;
                                                transition: all 0.3s ease;
                                                display: flex;
                                                align-items: center;
                                                gap: 6px;
                                                flex: 1;
                                                min-width: 140px;
                                                box-shadow: 0 4px 8px rgba(0, 200, 81, 0.2);
                                            ">
                                                <span>‚ö°</span> –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å
                                            </button>
                                            <button class="assistant-quick" data-action="debug" style="
                                                padding: 10px 16px;
                                                background: ${theme.buttonWarning};
                                                color: black;
                                                border: none;
                                                border-radius: 10px;
                                                cursor: pointer;
                                                font-size: 13px;
                                                font-weight: 600;
                                                transition: all 0.3s ease;
                                                display: flex;
                                                align-items: center;
                                                gap: 6px;
                                                flex: 1;
                                                min-width: 140px;
                                                box-shadow: 0 4px 8px rgba(255, 187, 51, 0.2);
                                            ">
                                                <span>üêõ</span> –ù–∞–π—Ç–∏ –æ—à–∏–±–∫–∏
                                            </button>
                                        </div>
                                        <div style="display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap;">
                                            <button class="assistant-quick" data-action="refactor" style="
                                                padding: 10px 16px;
                                                background: #6c5ce7;
                                                color: white;
                                                border: none;
                                                border-radius: 10px;
                                                cursor: pointer;
                                                font-size: 13px;
                                                font-weight: 600;
                                                transition: all 0.3s ease;
                                                display: flex;
                                                align-items: center;
                                                gap: 6px;
                                                flex: 1;
                                                min-width: 140px;
                                                box-shadow: 0 4px 8px rgba(108, 92, 231, 0.2);
                                            ">
                                                <span>üîÑ</span> –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
                                            </button>
                                            <button class="assistant-quick" data-action="review" style="
                                                padding: 10px 16px;
                                                background: #00cec9;
                                                color: white;
                                                border: none;
                                                border-radius: 10px;
                                                cursor: pointer;
                                                font-size: 13px;
                                                font-weight: 600;
                                                transition: all 0.3s ease;
                                                display: flex;
                                                align-items: center;
                                                gap: 6px;
                                                flex: 1;
                                                min-width: 140px;
                                                box-shadow: 0 4px 8px rgba(0, 206, 201, 0.2);
                                            ">
                                                <span>üëÅÔ∏è‚Äçüó®Ô∏è</span> Code Review
                                            </button>
                                            <button class="assistant-quick" data-action="patterns" style="
                                                padding: 10px 16px;
                                                background: #fd79a8;
                                                color: white;
                                                border: none;
                                                border-radius: 10px;
                                                cursor: pointer;
                                                font-size: 13px;
                                                font-weight: 600;
                                                transition: all 0.3s ease;
                                                display: flex;
                                                align-items: center;
                                                gap: 6px;
                                                flex: 1;
                                                min-width: 140px;
                                                box-shadow: 0 4px 8px rgba(253, 121, 168, 0.2);
                                            ">
                                                <span>üéØ</span> –ü–∞—Ç—Ç–µ—Ä–Ω—ã
                                            </button>
                                        </div>
                                        <div style="position: relative;">
                                            <textarea id="code-assistant-input" placeholder="–°–ø—Ä–æ—Å–∏—Ç–µ Llama –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞ –æ –∫–æ–¥–µ..." style="
                                                width: 100%;
                                                padding: 14px 16px;
                                                border: ${theme.inputBorder};
                                                border-radius: 12px;
                                                resize: none;
                                                min-height: 60px;
                                                font-family: inherit;
                                                font-size: 14px;
                                                background: ${theme.inputBg};
                                                color: ${theme.inputText};
                                                box-sizing: border-box;
                                                margin-bottom: 10px;
                                                transition: all 0.3s ease;
                                                backdrop-filter: blur(5px);
                                            "></textarea>
                                        </div>
                                        <div style="
                                            display: flex;
                                            gap: 10px;
                                            align-items: center;
                                            justify-content: flex-end;
                                        ">
                                            <button id="code-assistant-clear" style="
                                                padding: 12px 20px;
                                                background: ${theme.buttonSecondary};
                                                color: ${theme.buttonSecondaryText};
                                                border: ${theme.buttonSecondaryBorder};
                                                border-radius: 12px;
                                                cursor: pointer;
                                                font-weight: 600;
                                                font-size: 14px;
                                                transition: all 0.3s ease;
                                                display: flex;
                                                align-items: center;
                                                gap: 8px;
                                                white-space: nowrap;
                                            ">
                                                <span>üßπ</span> –û—á–∏—Å—Ç–∏—Ç—å
                                            </button>
                                            <button id="code-assistant-send" style="
                                                padding: 12px 24px;
                                                background: ${theme.buttonPrimary};
                                                color: white;
                                                border: none;
                                                border-radius: 14px;
                                                cursor: pointer;
                                                font-weight: 700;
                                                font-size: 15px;
                                                transition: all 0.3s ease;
                                                box-shadow: 0 4px 15px rgba(66, 133, 244, 0.3);
                                                display: flex;
                                                align-items: center;
                                                gap: 8px;
                                                white-space: nowrap;
                                            ">
                                                <span style="font-size: 18px;">üí¨</span> –û–±—Å—É–¥–∏—Ç—å
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –í–ö–õ–ê–î–ö–ê –ü–õ–ê–ì–ò–ù–´ -->
                <div class="kaai-content" data-tab="plugins" style="flex: 1; display: none; flex-direction: column; overflow: hidden;">
                    <!-- –ü–†–ï–ú–ò–£–ú –®–ê–ü–ö–ê –ü–õ–ê–ì–ò–ù–û–í -->
                    <div style="padding: 20px 24px; background: ${theme.headerBg}; border-bottom: 1px solid rgba(66, 133, 244, 0.1); flex-shrink: 0;">
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <div style="font-size: 32px;">üîå</div>
                            <div>
                                <div style="font-weight: 800; color: ${theme.tabActive}; font-size: 18px; margin-bottom: 4px;">–°–∏—Å—Ç–µ–º–∞ –ü–ª–∞–≥–∏–Ω–æ–≤ KAALITION</div>
                                <div style="font-size: 14px; color: ${theme.tabInactive};">–†–∞—Å—à–∏—Ä—è–π—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ AI —Å –ø–æ–º–æ—â—å—é –ø–ª–∞–≥–∏–Ω–æ–≤</div>
                            </div>
                        </div>
                    </div>

                    <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ –ü–õ–ê–ì–ò–ù–û–í -->
                    <div id="plugins-content" style="
                        flex: 1;
                        overflow-y: auto;
                        padding: 24px;
                        background: ${theme.chatBg};
                        display: flex;
                        flex-direction: column;
                        gap: 20px;
                    ">
                        <!-- –ü–†–ï–ú–ò–£–ú –ü–õ–ê–ì–ò–ù–´ -->
                        <div>
                            <div style="font-weight: 800; font-size: 16px; color: ${theme.tabActive}; margin-bottom: 15px; display: flex; align-items: center; gap: 8px;">
                                <span>üåü</span> –ü—Ä–µ–º–∏—É–º –ü–ª–∞–≥–∏–Ω—ã –æ—Ç KAALITION
                            </div>
                            <div id="premium-plugins-list" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px;">
                                <!-- –ü–ª–∞–≥–∏–Ω—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </div>

                        <!-- –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨–°–ö–ò–ï –ü–õ–ê–ì–ò–ù–´ -->
                        <div>
                            <div style="font-weight: 800; font-size: 16px; color: ${theme.tabActive}; margin-bottom: 15px; display: flex; align-items: center; gap: 8px;">
                                <span>üë§</span> –ú–æ–∏ –ü–ª–∞–≥–∏–Ω—ã
                            </div>
                            <div id="custom-plugins-list" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px;">
                                <!-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–ª–∞–≥–∏–Ω—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </div>

                        <!-- –°–û–ó–î–ê–ù–ò–ï –ù–û–í–û–ì–û –ü–õ–ê–ì–ò–ù–ê -->
                        <div style="
                            background: linear-gradient(135deg, rgba(170, 102, 204, 0.1) 0%, rgba(153, 51, 204, 0.1) 100%);
                            padding: 24px;
                            border-radius: 16px;
                            border: 1px solid rgba(170, 102, 204, 0.2);
                        ">
                            <div style="font-weight: 800; font-size: 18px; color: ${theme.tabActive}; margin-bottom: 15px; display: flex; align-items: center; gap: 8px;">
                                <span>‚ö°</span> –°–æ–∑–¥–∞—Ç—å –ù–æ–≤—ã–π –ü–ª–∞–≥–∏–Ω
                            </div>
                            <div style="color: ${theme.tabInactive}; margin-bottom: 20px; font-size: 14px;">
                                –ù–∞–ø–∏—à–∏—Ç–µ JavaScript –∫–æ–¥ –¥–ª—è —Å–≤–æ–µ–≥–æ –ø–ª–∞–≥–∏–Ω–∞. –ü–ª–∞–≥–∏–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ñ—É–Ω–∫—Ü–∏–µ–π, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
                            </div>

                            <div style="margin-bottom: 15px;">
                                <div style="font-weight: 600; color: ${theme.tabActive}; margin-bottom: 8px; font-size: 14px;">–ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞:</div>
                                <input type="text" id="plugin-name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–æ–π –∫—Ä—É—Ç–æ–π –ø–ª–∞–≥–∏–Ω" style="
                                    width: 100%;
                                    padding: 14px 16px;
                                    border: ${theme.inputBorder};
                                    border-radius: 12px;
                                    background: ${theme.inputBg};
                                    color: ${theme.inputText};
                                    font-size: 14px;
                                    box-sizing: border-box;
                                    margin-bottom: 15px;
                                    transition: all 0.3s ease;
                                ">
                            </div>

                            <div style="margin-bottom: 15px;">
                                <div style="font-weight: 600; color: ${theme.tabActive}; margin-bottom: 8px; font-size: 14px;">–ö–æ–¥ –ø–ª–∞–≥–∏–Ω–∞:</div>
                                <textarea id="plugin-code" placeholder="// –ü—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–≥–æ –ø–ª–∞–≥–∏–Ω–∞
function myPlugin(input) {
    return '–†–µ–∑—É–ª—å—Ç–∞—Ç: ' + input.toUpperCase();
}" style="
                                    width: 100%;
                                    height: 200px;
                                    padding: 16px;
                                    border: ${theme.inputBorder};
                                    border-radius: 12px;
                                    background: ${theme.codeBg};
                                    color: ${theme.codeText};
                                    font-family: 'JetBrains Mono', monospace;
                                    font-size: 13px;
                                    resize: vertical;
                                    box-sizing: border-box;
                                    line-height: 1.5;
                                    transition: all 0.3s ease;
                                "></textarea>
                            </div>

                            <div style="display: flex; gap: 10px; justify-content: flex-end;">
                                <button id="plugin-test" style="
                                    padding: 12px 24px;
                                    background: ${theme.buttonInfo};
                                    color: white;
                                    border: none;
                                    border-radius: 12px;
                                    cursor: pointer;
                                    font-weight: 700;
                                    font-size: 14px;
                                    transition: all 0.3s ease;
                                    display: flex;
                                    align-items: center;
                                    gap: 8px;
                                ">
                                    <span>üß™</span> –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
                                </button>
                                <button id="plugin-install" style="
                                    padding: 12px 24px;
                                    background: ${theme.buttonSuccess};
                                    color: white;
                                    border: none;
                                    border-radius: 12px;
                                    cursor: pointer;
                                    font-weight: 700;
                                    font-size: 14px;
                                    transition: all 0.3s ease;
                                    display: flex;
                                    align-items: center;
                                    gap: 8px;
                                ">
                                    <span>‚ö°</span> –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
                                </button>
                            </div>

                            <div id="plugin-test-result" style="
                                margin-top: 15px;
                                padding: 15px;
                                border-radius: 12px;
                                font-size: 13px;
                                font-family: 'JetBrains Mono', monospace;
                                display: none;
                            "></div>
                        </div>

                        <!-- –ü–†–ò–ú–ï–†–´ –ü–õ–ê–ì–ò–ù–û–í -->
                        <div style="
                            background: linear-gradient(135deg, rgba(66, 133, 244, 0.1) 0%, rgba(29, 155, 240, 0.1) 100%);
                            padding: 24px;
                            border-radius: 16px;
                            border: 1px solid rgba(66, 133, 244, 0.2);
                        ">
                            <div style="font-weight: 800; font-size: 18px; color: ${theme.tabActive}; margin-bottom: 15px; display: flex; align-items: center; gap: 8px;">
                                <span>üìö</span> –ü—Ä–∏–º–µ—Ä—ã –ü–ª–∞–≥–∏–Ω–æ–≤
                            </div>
                            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px;">
                                <div style="
                                    background: rgba(255, 255, 255, 0.05);
                                    padding: 20px;
                                    border-radius: 12px;
                                    border: 1px solid rgba(66, 133, 244, 0.1);
                                    cursor: pointer;
                                    transition: all 0.3s ease;
                                " onclick="loadExamplePlugin('meme')">
                                    <div style="font-weight: 700; color: ${theme.tabActive}; margin-bottom: 8px; font-size: 15px;">üòÇ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ú–µ–º–æ–≤</div>
                                    <div style="color: ${theme.tabInactive}; font-size: 13px; margin-bottom: 10px;">–°–æ–∑–¥–∞—ë—Ç –º–µ–º—ã –ø–æ —Ç–µ–º–µ</div>
                                    <pre style="
                                        background: rgba(0, 0, 0, 0.1);
                                        padding: 12px;
                                        border-radius: 8px;
                                        font-size: 11px;
                                        color: ${theme.codeText};
                                        overflow-x: auto;
                                        margin: 0;
                                    ">function memeGenerator(topic) {
    const memes = [...];
    return memes[random];
}</pre>
                                </div>

                                <div style="
                                    background: rgba(255, 255, 255, 0.05);
                                    padding: 20px;
                                    border-radius: 12px;
                                    border: 1px solid rgba(66, 133, 244, 0.1);
                                    cursor: pointer;
                                    transition: all 0.3s ease;
                                " onclick="loadExamplePlugin('calculator')">
                                    <div style="font-weight: 700; color: ${theme.tabActive}; margin-bottom: 8px; font-size: 15px;">üßÆ –£–º–Ω—ã–π –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</div>
                                    <div style="color: ${theme.tabInactive}; font-size: 13px; margin-bottom: 10px;">–í—ã—á–∏—Å–ª—è–µ—Ç –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è</div>
                                    <pre style="
                                        background: rgba(0, 0, 0, 0.1);
                                        padding: 12px;
                                        border-radius: 8px;
                                        font-size: 11px;
                                        color: ${theme.codeText};
                                        overflow-x: auto;
                                        margin: 0;
                                    ">function smartCalculator(expr) {
    try {
        return eval(expr);
    } catch {
        return '–û—à–∏–±–∫–∞';
    }
}</pre>
                                </div>

                                <div style="
                                    background: rgba(255, 255, 255, 0.05);
                                    padding: 20px;
                                    border-radius: 12px;
                                    border: 1px solid rgba(66, 133, 244, 0.1);
                                    cursor: pointer;
                                    transition: all 0.3s ease;
                                " onclick="loadExamplePlugin('text')">
                                    <div style="font-weight: 700; color: ${theme.tabActive}; margin-bottom: 8px; font-size: 15px;">üìù –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¢–µ–∫—Å—Ç–∞</div>
                                    <div style="color: ${theme.tabInactive}; font-size: 13px; margin-bottom: 10px;">–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç</div>
                                    <pre style="
                                        background: rgba(0, 0, 0, 0.1);
                                        padding: 12px;
                                        border-radius: 8px;
                                        font-size: 11px;
                                        color: ${theme.codeText};
                                        overflow-x: auto;
                                        margin: 0;
                                    ">function textProcessor(text) {
    return {
        length: text.length,
        words: text.split(' ').length,
        upper: text.toUpperCase()
    };
}</pre>
                                </div>
                            </div>
                        </div>

                        <!-- –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø -->
                        <div style="
                            background: linear-gradient(135deg, rgba(0, 200, 81, 0.1) 0%, rgba(0, 126, 51, 0.1) 100%);
                            padding: 24px;
                            border-radius: 16px;
                            border: 1px solid rgba(0, 200, 81, 0.2);
                        ">
                            <div style="font-weight: 800; font-size: 18px; color: ${theme.tabActive}; margin-bottom: 15px; display: flex; align-items: center; gap: 8px;">
                                <span>üìñ</span> –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ API
                            </div>
                            <div style="color: ${theme.tabInactive}; font-size: 14px; line-height: 1.6;">
                                <p><strong>–ö–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–ª–∞–≥–∏–Ω—ã:</strong></p>
                                <ol style="margin-left: 20px; margin-bottom: 15px;">
                                    <li>–ü–ª–∞–≥–∏–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å JavaScript —Ñ—É–Ω–∫—Ü–∏–µ–π</li>
                                    <li>–§—É–Ω–∫—Ü–∏—è –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</li>
                                    <li>–§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</li>
                                    <li>–ò–∑–±–µ–≥–∞–π—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö</li>
                                    <li>–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—à–∏–±–∫–∏ –≤–Ω—É—Ç—Ä–∏ –ø–ª–∞–≥–∏–Ω–∞</li>
                                </ol>

                                <p><strong>–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</strong></p>
                                <ul style="margin-left: 20px; margin-bottom: 15px;">
                                    <li><code>PLUGIN_SYSTEM.executePlugin(id, ...args)</code> - –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¥—Ä—É–≥–æ–π –ø–ª–∞–≥–∏–Ω</li>
                                    <li><code>create_post(text, image)</code> - –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç</li>
                                    <li><code>addMessage(chatId, type, text)</code> - –¥–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç</li>
                                </ul>

                                <p><strong>–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–ª–∞–≥–∏–Ω–æ–≤ –≤ —á–∞—Ç–µ:</strong></p>
                                <pre style="
                                    background: rgba(0, 0, 0, 0.1);
                                    padding: 12px;
                                    border-radius: 8px;
                                    font-size: 12px;
                                    color: ${theme.codeText};
                                    margin: 10px 0;
                                ">// –ó–∞–ø—É—Å–∫ –ø–ª–∞–≥–∏–Ω–∞ –∏–∑ —á–∞—Ç–∞
!run post_generator "–ù–æ–≤–æ—Å—Ç–∏ –¥–Ω—è"
!run translator "Hello world" en ru
!run image_analyzer "image_url"</pre>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- –ü–†–ï–ú–ò–£–ú –§–£–¢–ï–† -->
            <div style="
                padding: 16px 24px;
                background: ${theme.headerBg};
                border-top: 1px solid rgba(66, 133, 244, 0.1);
                font-size: 12px;
                color: ${theme.tabInactive};
                text-align: center;
                flex-shrink: 0;
                font-weight: 600;
                letter-spacing: 0.5px;
                backdrop-filter: blur(10px);
                display: flex;
                justify-content: center;
                align-items: center;
                gap: 10px;
            ">
                <span style="color: ${theme.tabActive}; font-weight: 800;">KAALITION AI</span>
                <span style="color: ${theme.tabActive};">‚Ä¢</span>
                <span style="color: white; background: ${theme.buttonPrimary}; padding: 4px 10px; border-radius: 20px; font-weight: 800;">V4.3</span>
                <span style="color: ${theme.tabActive};">‚Ä¢</span>
                <span>Premium Design Edition</span>
                <span style="color: ${theme.tabActive};">‚Ä¢</span>
                <span style="color: #29ABE2;">NEWS OFFICIAL</span>
                <span style="color: ${theme.tabActive};">‚Ä¢</span>
                <span style="color: #FBBC05;">#–ö–ê–ê–õ–ò–¶–ò–Ø</span>
            </div>
        `;
    }

    // ========== –§–£–ù–ö–¶–ò–ò –î–õ–Ø –ü–õ–ê–ì–ò–ù–û–í ==========
    function showAvailablePlugins() {
        const premiumList = document.getElementById('premium-plugins-list');
        const customList = document.getElementById('custom-plugins-list');

        if (!premiumList || !customList) return;

        premiumList.innerHTML = '';
        customList.innerHTML = '';

        const plugins = PLUGIN_SYSTEM.getPlugins();
        const theme = getCurrentTheme();

        plugins.forEach(plugin => {
            const pluginCard = createPluginCard(plugin, theme);

            if (plugin.isCustom) {
                customList.appendChild(pluginCard);
            } else {
                premiumList.appendChild(pluginCard);
            }
        });

        if (customList.children.length === 0) {
            customList.innerHTML = `
                <div style="
                    grid-column: 1 / -1;
                    text-align: center;
                    padding: 40px 20px;
                    color: ${theme.tabInactive};
                    font-size: 14px;
                ">
                    <div style="font-size: 48px; margin-bottom: 15px;">üîå</div>
                    <div style="font-weight: 600; margin-bottom: 10px;">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –ø–ª–∞–≥–∏–Ω–æ–≤</div>
                    <div style="margin-bottom: 20px;">–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π –ø–ª–∞–≥–∏–Ω –Ω–∏–∂–µ!</div>
                    <button onclick="document.getElementById('plugin-code').focus()" style="
                        padding: 10px 20px;
                        background: ${theme.buttonPrimary};
                        color: white;
                        border: none;
                        border-radius: 10px;
                        cursor: pointer;
                        font-weight: 600;
                        font-size: 13px;
                        transition: all 0.3s ease;
                    ">
                        ‚ú® –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—ã–π –ø–ª–∞–≥–∏–Ω
                    </button>
                </div>
            `;
        }
    }

    function createPluginCard(plugin, theme) {
        const card = document.createElement('div');
        card.className = 'plugin-card';
        card.style.cssText = `
            background: linear-gradient(135deg, rgba(66, 133, 244, 0.1) 0%, rgba(29, 155, 240, 0.1) 100%);
            padding: 20px;
            border-radius: 14px;
            border: 1px solid rgba(66, 133, 244, 0.2);
            transition: all 0.3s ease;
            position: relative;
        `;

        card.innerHTML = `
            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;">
                <div style="display: flex; align-items: center; gap: 10px;">
                    <div style="font-size: 24px;">${getPluginEmoji(plugin.name)}</div>
                    <div>
                        <div style="font-weight: 700; color: ${theme.tabActive}; font-size: 15px;">${plugin.name}</div>
                        <div style="color: ${theme.tabInactive}; font-size: 11px;">v${plugin.version} ‚Ä¢ ${plugin.author}</div>
                    </div>
                </div>
                <div style="
                    padding: 4px 10px;
                    background: rgba(66, 133, 244, 0.2);
                    color: ${theme.tabActive};
                    border-radius: 20px;
                    font-size: 11px;
                    font-weight: 700;
                    text-transform: uppercase;
                ">
                    ${plugin.isCustom ? 'üë§ Custom' : 'üåü Premium'}
                </div>
            </div>

            <div style="color: ${theme.tabInactive}; font-size: 13px; margin-bottom: 15px; line-height: 1.5;">
                ${plugin.description}
            </div>

            <div style="display: flex; gap: 8px; margin-top: 15px;">
                <button class="plugin-run" data-id="${plugin.id}" style="
                    flex: 1;
                    padding: 10px 15px;
                    background: ${theme.buttonSuccess};
                    color: white;
                    border: none;
                    border-radius: 10px;
                    cursor: pointer;
                    font-size: 13px;
                    font-weight: 600;
                    transition: all 0.3s ease;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 6px;
                ">
                    <span>‚ñ∂</span> –ó–∞–ø—É—Å—Ç–∏—Ç—å
                </button>

                ${plugin.isCustom ? `
                <button class="plugin-remove" data-id="${plugin.id}" style="
                    padding: 10px 15px;
                    background: ${theme.buttonDanger};
                    color: white;
                    border: none;
                    border-radius: 10px;
                    cursor: pointer;
                    font-size: 13px;
                    font-weight: 600;
                    transition: all 0.3s ease;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 6px;
                ">
                    <span>üóëÔ∏è</span>
                </button>
                ` : ''}
            </div>

            <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(66, 133, 244, 0.1);">
                <div style="color: ${theme.tabInactive}; font-size: 11px; font-weight: 600; margin-bottom: 5px;">ID –ø–ª–∞–≥–∏–Ω–∞:</div>
                <div style="
                    background: rgba(0, 0, 0, 0.1);
                    padding: 6px 10px;
                    border-radius: 6px;
                    font-family: 'JetBrains Mono', monospace;
                    font-size: 10px;
                    color: ${theme.codeText};
                    word-break: break-all;
                ">
                    ${plugin.id}
                </div>
            </div>
        `;

        card.addEventListener('mouseenter', () => {
            card.style.transform = 'translateY(-5px)';
            card.style.boxShadow = '0 10px 25px rgba(0, 0, 0, 0.1)';
        });

        card.addEventListener('mouseleave', () => {
            card.style.transform = 'translateY(0)';
            card.style.boxShadow = 'none';
        });

        return card;
    }

    function getPluginEmoji(name) {
        const emojiMap = {
            '–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä': 'üìù',
            '–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä': 'üñºÔ∏è',
            '–ö–æ–¥': 'üíª',
            '–ú–µ–º': 'üòÇ',
            '–ü–µ—Ä–µ–≤–æ–¥': 'üåç',
            '–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä': 'üßÆ',
            '–¢–µ–∫—Å—Ç': 'üìù',
            'default': 'üîå'
        };

        for (const [key, emoji] of Object.entries(emojiMap)) {
            if (name.includes(key)) return emoji;
        }

        return emojiMap.default;
    }

    function loadExamplePlugin(type) {
        const examples = {
            meme: {
                name: '–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ú–µ–º–æ–≤',
                code: `function generateMeme(topic) {
    const memes = [
        \`–ö–æ–≥–¥–∞ \${topic}:\\nüë®‚Äçüíª: –í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç!\\nüêõ: –ü–æ–∑–≤–æ–ª—å—Ç–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å—Å—è\`,
        \`–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: \${topic}\\n–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ê –º–æ–∂–Ω–æ –≤–æ—Ç —Ç–∞–∫?\\n–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫: üíÄ\`,
        \`–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ \${topic}:\\n1 —á–∞—Å - –≥—É–≥–ª–µ–Ω–∏–µ\\n5 –º–∏–Ω—É—Ç - –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–∞\\nüòé\`,
        \`\${topic} –≤ –∂–∏–∑–Ω–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞:\\n–£—Ç—Ä–æ: –í—Å—ë –æ—Ç–ª–∏—á–Ω–æ!\\n–î–µ–Ω—å: –ë–∞–≥–∏...\\n–í–µ—á–µ—Ä: –ó–∞—á–µ–º —è —ç—Ç–æ –≤—ã–±—Ä–∞–ª?\`,
        \`–ö–æ–≥–¥–∞ –ø—ã—Ç–∞–µ—à—å—Å—è –æ–±—ä—è—Å–Ω–∏—Ç—å \${topic}:\\n–¢—ã: üë®‚Äçüè´\\n–û–Ω–∏: üòê\\n–†–µ–∑—É–ª—å—Ç–∞—Ç: ü§¶‚Äç‚ôÇÔ∏è\`
    ];

    return memes[Math.floor(Math.random() * memes.length)];
}`
            },
            calculator: {
                name: '–£–º–Ω—ã–π –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä',
                code: `function smartCalculator(expression) {
    try {
        const safeEval = (expr) => {
            expr = expr.replace(/[^0-9+\\-*/().\\s]/g, '');
            return Function('"use strict"; return (' + expr + ')')();
        };

        const result = safeEval(expression);
        return {
            expression: expression,
            result: result,
            type: typeof result,
            formatted: \`\${expression} = \${result}\`
        };
    } catch (error) {
        return {
            error: true,
            message: '–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤—ã—á–∏—Å–ª–∏—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏–µ',
            details: error.message,
            suggestion: '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏—è'
        };
    }
}`
            },
            text: {
                name: '–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –¢–µ–∫—Å—Ç–∞',
                code: `function textAnalyzer(text) {
    if (!text || typeof text !== 'string') {
        return {
            error: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞'
        };
    }

    const words = text.trim().split(/\\s+/);
    const sentences = text.split(/[.!?]+/).filter(s => s.trim());
    const characters = text.length;
    const spaces = text.split(' ').length - 1;

    const wordCount = {};
    words.forEach(word => {
        const cleanWord = word.toLowerCase().replace(/[^–∞-—èa-z0-9]/g, '');
        if (cleanWord && cleanWord.length > 2) {
            wordCount[cleanWord] = (wordCount[cleanWord] || 0) + 1;
        }
    });

    const sortedWords = Object.entries(wordCount)
        .sort((a, b) => b[1] - a[1])
        .slice(0, 5)
        .map(([word, count]) => ({ word, count }));

    return {
        statistics: {
            characters: characters,
            words: words.length,
            sentences: sentences.length,
            spaces: spaces,
            averageWordLength: (characters - spaces) / words.length || 0,
            averageSentenceLength: words.length / sentences.length || 0
        },
        topWords: sortedWords,
        readingTime: Math.ceil(words.length / 200),
        complexity: words.length < 50 ? '–ü—Ä–æ—Å—Ç–æ–π' :
                   words.length < 200 ? '–°—Ä–µ–¥–Ω–∏–π' : '–°–ª–æ–∂–Ω—ã–π'
    };
}`
            }
        };

        const example = examples[type];
        if (example) {
            document.getElementById('plugin-name').value = example.name;
            document.getElementById('plugin-code').value = example.code;

            document.getElementById('plugin-code').scrollIntoView({
                behavior: 'smooth',
                block: 'center'
            });
        }
    }

    function testPlugin() {
        const code = document.getElementById('plugin-code').value.trim();
        const name = document.getElementById('plugin-name').value.trim();
        const resultDiv = document.getElementById('plugin-test-result');
        const theme = getCurrentTheme();

        if (!code) {
            resultDiv.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, rgba(255, 68, 68, 0.1) 0%, rgba(204, 0, 0, 0.1) 100%);
                    padding: 15px;
                    border-radius: 10px;
                    border: 1px solid rgba(255, 68, 68, 0.2);
                    color: #FF4444;
                    font-weight: 600;
                ">
                    ‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø–ª–∞–≥–∏–Ω–∞
                </div>
            `;
            resultDiv.style.display = 'block';
            return;
        }

        try {
            const testFunction = new Function('return ' + code)();

            if (typeof testFunction !== 'function') {
                throw new Error('–ö–æ–¥ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é');
            }

            const testInput = "–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ";
            const testResult = testFunction(testInput);

            resultDiv.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, rgba(0, 200, 81, 0.1) 0%, rgba(0, 126, 51, 0.1) 100%);
                    padding: 15px;
                    border-radius: 10px;
                    border: 1px solid rgba(0, 200, 81, 0.2);
                ">
                    <div style="color: #00C851; font-weight: 700; margin-bottom: 10px; display: flex; align-items: center; gap: 8px;">
                        <span>‚úÖ</span> –ü–ª–∞–≥–∏–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!
                    </div>

                    <div style="margin-bottom: 10px;">
                        <div style="font-weight: 600; color: ${theme.tabInactive}; font-size: 12px; margin-bottom: 5px;">–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:</div>
                        <div style="
                            background: rgba(0, 0, 0, 0.1);
                            padding: 8px 12px;
                            border-radius: 8px;
                            font-family: 'JetBrains Mono', monospace;
                            font-size: 12px;
                            color: ${theme.codeText};
                        ">"${testInput}"</div>
                    </div>

                    <div>
                        <div style="font-weight: 600; color: ${theme.tabInactive}; font-size: 12px; margin-bottom: 5px;">–†–µ–∑—É–ª—å—Ç–∞—Ç:</div>
                        <div style="
                            background: rgba(0, 0, 0, 0.1);
                            padding: 8px 12px;
                            border-radius: 8px;
                            font-family: 'JetBrains Mono', monospace;
                            font-size: 12px;
                            color: ${theme.codeText};
                            white-space: pre-wrap;
                        ">${typeof testResult === 'object' ? JSON.stringify(testResult, null, 2) : String(testResult)}</div>
                    </div>

                    <div style="margin-top: 15px; padding-top: 10px; border-top: 1px solid rgba(0, 200, 81, 0.2);">
                        <div style="color: ${theme.tabInactive}; font-size: 11px;">
                            <strong>–¢–∏–ø —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:</strong> ${typeof testResult}<br>
                            <strong>–†–∞–∑–º–µ—Ä:</strong> ${JSON.stringify(testResult).length} –±–∞–π—Ç
                        </div>
                    </div>
                </div>
            `;
            resultDiv.style.display = 'block';

        } catch (error) {
            resultDiv.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, rgba(255, 68, 68, 0.1) 0%, rgba(204, 0, 0, 0.1) 100%);
                    padding: 15px;
                    border-radius: 10px;
                    border: 1px solid rgba(255, 68, 68, 0.2);
                ">
                    <div style="color: #FF4444; font-weight: 700; margin-bottom: 10px; display: flex; align-items: center; gap: 8px;">
                        <span>‚ùå</span> –û—à–∏–±–∫–∞ –ø—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø–ª–∞–≥–∏–Ω–∞
                    </div>

                    <div style="margin-bottom: 10px;">
                        <div style="font-weight: 600; color: ${theme.tabInactive}; font-size: 12px; margin-bottom: 5px;">–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ:</div>
                        <div style="
                            background: rgba(255, 68, 68, 0.1);
                            padding: 8px 12px;
                            border-radius: 8px;
                            font-family: 'JetBrains Mono', monospace;
                            font-size: 12px;
                            color: #FF4444;
                        ">${error.message}</div>
                    </div>

                    <div>
                        <div style="font-weight: 600; color: ${theme.tabInactive}; font-size: 12px; margin-bottom: 5px;">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</div>
                        <div style="
                            background: rgba(255, 68, 68, 0.05);
                            padding: 8px 12px;
                            border-radius: 8px;
                            font-size: 11px;
                            color: ${theme.tabInactive};
                        ">
                            ‚Ä¢ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏—é<br>
                            ‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å JavaScript<br>
                            ‚Ä¢ –ò–∑–±–µ–≥–∞–π—Ç–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö<br>
                            ‚Ä¢ –§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
                        </div>
                    </div>
                </div>
            `;
            resultDiv.style.display = 'block';
        }
    }

    function installPlugin() {
        const code = document.getElementById('plugin-code').value.trim();
        const name = document.getElementById('plugin-name').value.trim();
        const resultDiv = document.getElementById('plugin-test-result');
        const theme = getCurrentTheme();

        if (!code) {
            resultDiv.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, rgba(255, 68, 68, 0.1) 0%, rgba(204, 0, 0, 0.1) 100%);
                    padding: 15px;
                    border-radius: 10px;
                    border: 1px solid rgba(255, 68, 68, 0.2);
                    color: #FF4444;
                    font-weight: 600;
                ">
                    ‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø–ª–∞–≥–∏–Ω–∞
                </div>
            `;
            resultDiv.style.display = 'block';
            return;
        }

        if (!name) {
            resultDiv.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, rgba(255, 68, 68, 0.1) 0%, rgba(204, 0, 0, 0.1) 100%);
                    padding: 15px;
                    border-radius: 10px;
                    border: 1px solid rgba(255, 68, 68, 0.2);
                    color: #FF4444;
                    font-weight: 600;
                ">
                    ‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞–≥–∏–Ω–∞
                </div>
            `;
            resultDiv.style.display = 'block';
            return;
        }

        const result = PLUGIN_SYSTEM.installCustomPlugin(code, name);

        if (result.success) {
            resultDiv.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, rgba(0, 200, 81, 0.1) 0%, rgba(0, 126, 51, 0.1) 100%);
                    padding: 15px;
                    border-radius: 10px;
                    border: 1px solid rgba(0, 200, 81, 0.2);
                ">
                    <div style="color: #00C851; font-weight: 700; margin-bottom: 10px; display: flex; align-items: center; gap: 8px;">
                        <span>‚úÖ</span> –ü–ª–∞–≥–∏–Ω —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!
                    </div>

                    <div style="margin-bottom: 10px;">
                        <div style="font-weight: 600; color: ${theme.tabInactive}; font-size: 12px; margin-bottom: 5px;">–ù–∞–∑–≤–∞–Ω–∏–µ:</div>
                        <div style="
                            background: rgba(0, 0, 0, 0.1);
                            padding: 8px 12px;
                            border-radius: 8px;
                            font-size: 14px;
                            color: ${theme.tabActive};
                            font-weight: 700;
                        ">${result.plugin.name}</div>
                    </div>

                    <div>
                        <div style="font-weight: 600; color: ${theme.tabInactive}; font-size: 12px; margin-bottom: 5px;">ID –ø–ª–∞–≥–∏–Ω–∞:</div>
                        <div style="
                            background: rgba(0, 0, 0, 0.1);
                            padding: 8px 12px;
                            border-radius: 8px;
                            font-family: 'JetBrains Mono', monospace;
                            font-size: 12px;
                            color: ${theme.codeText};
                            word-break: break-all;
                        ">${result.plugin.id}</div>
                    </div>

                    <div style="margin-top: 15px; padding-top: 10px; border-top: 1px solid rgba(0, 200, 81, 0.2);">
                        <div style="color: ${theme.tabInactive}; font-size: 11px;">
                            –ü–ª–∞–≥–∏–Ω –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è!<br>
                            ‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ID –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–ª–∞–≥–∏–Ω–∞<br>
                            ‚Ä¢ –ü–ª–∞–≥–∏–Ω —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ<br>
                            ‚Ä¢ –û–±–Ω–æ–≤–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –ø–ª–∞–≥–∏–Ω–æ–≤
                        </div>
                    </div>
                </div>
            `;
            resultDiv.style.display = 'block';

            document.getElementById('plugin-name').value = '';
            document.getElementById('plugin-code').value = '';

            setTimeout(showAvailablePlugins, 500);

            addMessage('ai-chat', 'system',
                `üéâ **–ù–æ–≤—ã–π –ø–ª–∞–≥–∏–Ω —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!**\n\n` +
                `**${result.plugin.name}** —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≤–∞—à—É –∫–æ–ª–ª–µ–∫—Ü–∏—é.\n\n` +
                `üí° **–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**\n` +
                `‚Ä¢ –í —á–∞—Ç–µ: \`!run ${result.plugin.id} "–ø–∞—Ä–∞–º–µ—Ç—Ä—ã"\`\n` +
                `‚Ä¢ –ò–∑ –º–µ–Ω—é –ø–ª–∞–≥–∏–Ω–æ–≤: –Ω–∞–∂–º–∏—Ç–µ "–ó–∞–ø—É—Å—Ç–∏—Ç—å"\n\n` +
                `‚ú® **–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–π –ø–ª–∞–≥–∏–Ω!**`
            );

        } else {
            resultDiv.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, rgba(255, 68, 68, 0.1) 0%, rgba(204, 0, 0, 0.1) 100%);
                    padding: 15px;
                    border-radius: 10px;
                    border: 1px solid rgba(255, 68, 68, 0.2);
                ">
                    <div style="color: #FF4444; font-weight: 700; margin-bottom: 10px; display: flex; align-items: center; gap: 8px;">
                        <span>‚ùå</span> –û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–ª–∞–≥–∏–Ω–∞
                    </div>

                    <div style="margin-bottom: 10px;">
                        <div style="font-weight: 600; color: ${theme.tabInactive}; font-size: 12px; margin-bottom: 5px;">–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ:</div>
                        <div style="
                            background: rgba(255, 68, 68, 0.1);
                            padding: 8px 12px;
                            border-radius: 8px;
                            font-family: 'JetBrains Mono', monospace;
                            font-size: 12px;
                            color: #FF4444;
                        ">${result.error}</div>
                    </div>

                    <div>
                        <div style="font-weight: 600; color: ${theme.tabInactive}; font-size: 12px; margin-bottom: 5px;">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</div>
                        <div style="
                            background: rgba(255, 68, 68, 0.05);
                            padding: 8px 12px;
                            border-radius: 8px;
                            font-size: 11px;
                            color: ${theme.tabInactive};
                        ">
                            ‚Ä¢ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏—é<br>
                            ‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å JavaScript<br>
                            ‚Ä¢ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–ª–∞–≥–∏–Ω –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π<br>
                            ‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
                        </div>
                    </div>
                </div>
            `;
            resultDiv.style.display = 'block';
        }
    }

    function removePlugin(pluginId) {
        if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –ø–ª–∞–≥–∏–Ω?')) {
            PLUGIN_SYSTEM.uninstallPlugin(pluginId);
            showAvailablePlugins();

            addMessage('ai-chat', 'system',
                `üóëÔ∏è **–ü–ª–∞–≥–∏–Ω —É–¥–∞–ª—ë–Ω**\n\n` +
                `–ü–ª–∞–≥–∏–Ω –±—ã–ª —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª—ë–Ω –∏–∑ –≤–∞—à–µ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏.\n\n` +
                `‚ú® –í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–ª–∞–≥–∏–Ω –≤ –º–µ–Ω—é "üîå –ü–ª–∞–≥–∏–Ω—ã"`
            );
        }
    }

    // ========== –§–£–ù–ö–¶–ò–ò –ó–ê–ü–£–°–ö–ê –ü–õ–ê–ì–ò–ù–û–í ==========
    function runPluginFromChat(pluginId, args) {
        try {
            const plugin = PLUGIN_SYSTEM.getPlugin(pluginId);
            if (!plugin) {
                addMessage('ai-chat', 'system',
                           `‚ùå **–ü–ª–∞–≥–∏–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω:** ${pluginId}\n\n` +
                           `üí° **–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã:**\n` +
                           PLUGIN_SYSTEM.getPlugins().map(p => `‚Ä¢ **${p.name}** (ID: ${p.id})`).join('\n')
                          );
                return;
            }

            addMessage('ai-chat', 'user',
                       `üîå **–ó–∞–ø—É—Å–∫–∞—é –ø–ª–∞–≥–∏–Ω:** ${plugin.name}\n` +
                       `üìù **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** ${args.length > 0 ? args.map(a => `"${a}"`).join(', ') : '–Ω–µ—Ç'}`
                      );

            const indicator = showTyping('ai-chat');

            setTimeout(async () => {
                try {
                    const result = await PLUGIN_SYSTEM.executePlugin(pluginId, ...args);

                    if (indicator && indicator.parentNode) {
                        indicator.remove();
                    }

                    const formattedResult = formatPluginResult(plugin.name, result);

                    addMessage('ai-chat', 'ai', formattedResult);

                } catch (error) {
                    if (indicator && indicator.parentNode) {
                        indicator.remove();
                    }
                    addMessage('ai-chat', 'system',
                               `‚ùå **–û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–ª–∞–≥–∏–Ω–∞:**\n\n` +
                               `**${plugin.name}**\n` +
                               `üìù **–û—à–∏–±–∫–∞:** ${error.message}\n\n` +
                               `üí° **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞**`
                              );
                }
            }, 1000);

        } catch (error) {
            addMessage('ai-chat', 'system',
                       `‚ùå **–°–∏—Å—Ç–µ–º–Ω–∞—è –æ—à–∏–±–∫–∞:** ${error.message}`
                      );
        }
    }

    function formatPluginResult(pluginName, result) {
        if (typeof result === 'string') {
            return result;
        }

        if (result && result.error) {
            return `‚ùå **${pluginName}:** ${result.message || '–û—à–∏–±–∫–∞'}\n\n` +
                `üí° ${result.suggestion || ''}\n` +
                `üìù ${result.details || ''}`;
        }

        if (typeof result === 'object') {
            return formatObjectResult(pluginName, result);
        }

        return `üîå **–†–µ–∑—É–ª—å—Ç–∞—Ç ${pluginName}:**\n\n` +
            `\`\`\`json\n${JSON.stringify(result, null, 2)}\n\`\`\``;
    }

    function formatObjectResult(pluginName, obj) {
        let output = `üîå **–†–µ–∑—É–ª—å—Ç–∞—Ç ${pluginName}:**\n\n`;

        if (Object.keys(obj).length <= 5) {
            for (const [key, value] of Object.entries(obj)) {
                output += `**${key}:** ${value}\n`;
            }
            return output;
        }

        return output + `\`\`\`json\n${JSON.stringify(obj, null, 2)}\n\`\`\``;
    }

    // ========== –û–°–ù–û–í–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –û–¢–ü–†–ê–í–ö–ò –°–û–û–ë–©–ï–ù–ò–ô ==========
    async function sendMessage(type) {
        if (isProcessing) return;

        const inputId = type === 'ai' ? 'ai-input' : 'psych-input';
        const chatId = type === 'ai' ? 'ai-chat' : 'psych-chat';
        const input = document.getElementById(inputId);
        const message = input.value.trim();

        if (!message) return;

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–º–∞–Ω–¥—É !run –¥–ª—è –ø–ª–∞–≥–∏–Ω–æ–≤
        if (message.startsWith('!run ')) {
            const parts = message.slice(5).trim().split(' ');
            const pluginId = parts[0];
            const args = parts.slice(1).join(' ').split(',').map(arg => arg.trim()).filter(arg => arg);

            input.value = '';
            isProcessing = true;

            addMessage(chatId, 'user', message);

            setTimeout(() => {
                runPluginFromChat(pluginId, args);
                isProcessing = false;
            }, 100);
            return;
        }

        isProcessing = true;
        input.value = '';

        addMessage(chatId, 'user', message);
        const indicator = showTyping(chatId);

        try {
            const response = await callAIWithPrompt(message, type === 'psych' ? PSYCH_PROMPT : GENERAL_PROMPT);

            if (indicator && indicator.parentNode) {
                indicator.remove();
            }

            const messageElement = addMessage(chatId, 'ai', response);

            if (type === 'ai') {
                addPostButtonToMessage(messageElement, response);
            }
        } catch (error) {
            if (indicator && indicator.parentNode) {
                indicator.remove();
            }
            addMessage(chatId, 'system', `‚ùå **–û—à–∏–±–∫–∞:** ${error.message}`);
        } finally {
            isProcessing = false;
        }
    }

    function clearChat(type) {
        const chatId = type === 'ai' ? 'ai-chat' : 'psych-chat';
        const container = document.getElementById(chatId);
        if (container) {
            container.innerHTML = '';
            addMessage(chatId, 'system', 'üßπ **–ß–∞—Ç –æ—á–∏—â–µ–Ω.** –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?');
        }
    }

    // ========== –ü–†–ï–ú–ò–£–ú –ö–ù–û–ü–ö–ê –ü–£–ë–õ–ò–ö–ê–¶–ò–ò ==========
    function addPostButtonToMessage(messageElement, text) {
        if (!messageElement) return;

        const postButton = document.createElement('button');
        postButton.className = 'post-button';
        postButton.innerHTML = '<span style="font-size: 18px;">üì§</span> <span>–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –≤ ITD</span>';
        postButton.title = '–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –æ—Ç–≤–µ—Ç –∫–∞–∫ –ø–æ—Å—Ç —Å –ø–æ–¥–ø–∏—Å—å—é KAALITION AI';

        const signatureDiv = document.createElement('div');
        signatureDiv.className = 'kais-signature';
        signatureDiv.innerHTML = '‚ú® <strong>This Post Created By KAALITION AI (KAIS)</strong> <small>#–ö–ê–ê–õ–ò–¶–ò–Ø | V5</small>';

        postButton.addEventListener('click', async function() {
            postButton.innerHTML = '<span style="font-size: 18px;">‚è≥</span> <span>–ü—É–±–ª–∏–∫—É—é...</span>';
            postButton.className = 'post-button loading';
            postButton.disabled = true;

            try {
                const result = await create_post(text, null);
                if (result) {
                    postButton.innerHTML = '<span style="font-size: 18px;">‚úÖ</span> <span>–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ!</span>';
                    postButton.className = 'post-button success';

                    addMessage(messageElement.closest('.chat-scroll-container').id, 'system',
                        'üéâ **–ü–æ—Å—Ç —É—Å–ø–µ—à–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –≤ ITD!**\n\n' +
                        '**–°–ø–∞—Å–∏–±–æ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ KAALITION AI!** ü§ñ'
                    );
                } else {
                    postButton.innerHTML = '<span style="font-size: 18px;">‚ùå</span> <span>–û—à–∏–±–∫–∞</span>';
                    postButton.className = 'post-button error';
                    addMessage(messageElement.closest('.chat-scroll-container').id, 'system',
                        '‚ùå **–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç.**\n' +
                        '–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:\n' +
                        '‚Ä¢ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –≤ ITD\n' +
                        '‚Ä¢ –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞\n' +
                        '‚Ä¢ –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ ITD'
                    );
                }
            } catch (error) {
                postButton.innerHTML = '<span style="font-size: 18px;">‚ùå</span> <span>–û—à–∏–±–∫–∞</span>';
                postButton.className = 'post-button error';
                addMessage(messageElement.closest('.chat-scroll-container').id, 'system', `‚ùå **–û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:** ${error.message}`);
            }

            setTimeout(() => {
                postButton.innerHTML = '<span style="font-size: 18px;">üì§</span> <span>–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –≤ ITD</span>';
                postButton.className = 'post-button';
                postButton.disabled = false;
            }, 5000);
        });

        messageElement.appendChild(document.createElement('br'));
        messageElement.appendChild(document.createElement('br'));
        messageElement.appendChild(signatureDiv);
        messageElement.appendChild(document.createElement('br'));
        messageElement.appendChild(postButton);
    }

    // ========== –§–£–ù–ö–¶–ò–ò –ß–ê–¢–ê ==========
    function formatTime() {
        const now = new Date();
        const hours = now.getHours().toString().padStart(2, '0');
        const minutes = now.getMinutes().toString().padStart(2, '0');
        return `${hours}:${minutes}`;
    }

    function addMessage(containerId, role, text) {
        const container = document.getElementById(containerId);
        if (!container) return null;

        const messageDiv = document.createElement('div');
        messageDiv.className = `chat-message ${role}-message`;

        const currentTime = formatTime();

        let formattedText = text
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/`([^`]+)`/g, '<code style="background: rgba(66, 133, 244, 0.1); padding: 4px 8px; border-radius: 6px; font-family: \'JetBrains Mono\', monospace;">$1</code>')
        .replace(/\*\*(.+?)\*\*/g, '<strong style="font-weight: 700;">$1</strong>')
        .replace(/\n/g, '<br>');

        if (role === 'user') {
            const readStatus = Math.random() > 0.5 ? 'read' : 'delivered';
            const statusIcon = readStatus === 'read' ? '‚úì‚úì' : '‚úì';

            messageDiv.innerHTML = `
            ${formattedText}
            <span class="message-time">${currentTime}</span>
            <span class="message-read-status ${readStatus}">
                <i>${statusIcon}</i>
            </span>
        `;
        } else {
            messageDiv.innerHTML = `
            ${formattedText}
            <span class="message-time">${currentTime}</span>
        `;
        }

        container.appendChild(messageDiv);

        setTimeout(() => {
            container.scrollTop = container.scrollHeight;
        }, 50);

        return messageDiv;
    }

    function showTyping(containerId) {
        const container = document.getElementById(containerId);
        if (!container) return null;

        const indicator = document.createElement('div');
        indicator.className = 'chat-message ai-message typing-indicator';
        indicator.innerHTML = 'ü§ñ <strong>AI –¥—É–º–∞–µ—Ç</strong>';

        container.appendChild(indicator);

        setTimeout(() => {
            container.scrollTop = container.scrollHeight;
        }, 50);

        return indicator;
    }

    async function callAIWithPrompt(message, customPrompt) {
        const messages = [
            { role: "system", content: customPrompt || currentPrompt },
            { role: "user", content: message }
        ];

        return new Promise((resolve, reject) => {
            GM_xmlhttpRequest({
                method: 'POST',
                url: CONFIG.API_URL,
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${CONFIG.API_KEY}`
                },
                data: JSON.stringify({
                    model: CONFIG.MODEL,
                    messages: messages,
                    temperature: 0.7,
                    max_tokens: CONFIG.MAX_TOKENS
                }),
                timeout: 30000,
                onload: function(response) {
                    if (response.status === 200) {
                        try {
                            const data = JSON.parse(response.responseText);
                            const result = data.choices?.[0]?.message?.content;
                            if (result) {
                                resolve(result);
                            } else {
                                reject(new Error('–ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –æ—Ç API'));
                            }
                        } catch (e) {
                            reject(new Error('–û—à–∏–±–∫–∞ —Ä–∞–∑–±–æ—Ä–∞ JSON'));
                        }
                    } else {
                        reject(new Error(`–û—à–∏–±–∫–∞ API: ${response.status}`));
                    }
                },
                onerror: reject,
                ontimeout: () => reject(new Error('–¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞ –∫ API'))
            });
        });
    }

    // ========== –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò ==========
    function togglePanel() {
        const panel = document.getElementById('kaai-panel');
        const btn = document.getElementById('kaai-btn');

        if (isOpen) {
            panel.style.display = 'none';
            btn.innerHTML = 'ü§ñ';
            isOpen = false;
        } else {
            panel.style.display = 'flex';
            btn.innerHTML = '‚úï';
            isOpen = true;

            setTimeout(() => {
                resizeWindowForTab(activeTab);

                if (activeTab === 'ai') {
                    document.getElementById('ai-input')?.focus();
                } else if (activeTab === 'psych') {
                    document.getElementById('psych-input')?.focus();
                } else if (activeTab === 'code') {
                    document.getElementById('code-editor')?.focus();
                } else if (activeTab === 'plugins') {
                    showAvailablePlugins();
                }
            }, 100);
        }
    }

    function closePanel() {
        const panel = document.getElementById('kaai-panel');
        const btn = document.getElementById('kaai-btn');
        panel.style.display = 'none';
        isOpen = false;
        btn.innerHTML = 'ü§ñ';
    }

    function switchTab(tabName) {
        activeTab = tabName;
        const theme = getCurrentTheme();

        document.querySelectorAll('.kaai-tab').forEach(tab => {
            const isActive = tab.dataset.tab === tabName;
            tab.style.color = isActive ? theme.tabActive : theme.tabInactive;
            tab.style.borderBottom = isActive ? `3px solid ${theme.tabActive}` : 'none';
        });

        document.querySelectorAll('.kaai-content').forEach(content => {
            content.style.display = content.dataset.tab === tabName ? 'flex' : 'none';
        });

        if (tabName === 'psych') {
            currentPrompt = PSYCH_PROMPT;
        } else if (tabName === 'ai') {
            currentPrompt = GENERAL_PROMPT;
        }
    }

    // ========== –§–£–ù–ö–¶–ò–Ø –ò–ó–ú–ï–ù–ï–ù–ò–Ø –†–ê–ó–ú–ï–†–ê –û–ö–ù–ê ==========
    function resizeWindowForTab(tabName) {
        const panel = document.getElementById('kaai-panel');
        if (!panel) return;

        const sizes = WINDOW_SIZES[tabName === 'code' ? 'code' : 'normal'];

        panel.style.transition = 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)';
        panel.style.width = `${sizes.width}px`;
        panel.style.maxWidth = sizes.maxWidth;
        panel.style.height = `${sizes.height}px`;
        panel.style.maxHeight = sizes.maxHeight;

        if (tabName === 'code') {
            panel.style.right = '60px';
            panel.style.bottom = '60px';
        } else {
            panel.style.right = '30px';
            panel.style.bottom = '110px';
        }
    }

    // ========== –§–£–ù–ö–¶–ò–ò –†–ï–°–ê–ô–ó–ò–ù–ì–ê ==========
    function initResizer() {
        const resizer = document.getElementById('code-resizer');
        const leftPanel = document.getElementById('code-editor-container');
        const rightPanel = document.getElementById('code-right-panel');

        if (!resizer || !leftPanel || !rightPanel) return;

        updateWidthDisplay();

        resizer.addEventListener('mousedown', function(e) {
            e.preventDefault();
            resizerActive = true;
            initialX = e.clientX;

            const leftStyle = window.getComputedStyle(leftPanel);
            const rightStyle = window.getComputedStyle(rightPanel);

            const leftFlex = parseFloat(leftStyle.flex);
            const rightFlex = parseFloat(rightStyle.flex);
            const totalFlex = leftFlex + rightFlex;

            document.addEventListener('mousemove', handleMouseMove);
            document.addEventListener('mouseup', handleMouseUp);

            function handleMouseMove(e) {
                if (!resizerActive) return;

                const dx = e.clientX - initialX;
                const containerWidth = resizer.parentElement.clientWidth;
                const deltaFlex = (dx / containerWidth) * totalFlex;

                const newLeftFlex = Math.max(0.3, Math.min(0.7, leftFlex + deltaFlex));
                const newRightFlex = totalFlex - newLeftFlex;

                leftPanel.style.flex = newLeftFlex;
                rightPanel.style.flex = newRightFlex;

                initialLeftWidth = Math.round(newLeftFlex * 100);
                updateWidthDisplay();
            }

            function handleMouseUp() {
                resizerActive = false;
                document.removeEventListener('mousemove', handleMouseMove);
                document.removeEventListener('mouseup', handleMouseUp);
                saveData();
            }
        });

        resizer.addEventListener('mouseenter', function() {
            this.style.background = getCurrentTheme().resizerHover;
            this.style.boxShadow = '0 0 15px rgba(66, 133, 244, 0.5)';
        });

        resizer.addEventListener('mouseleave', function() {
            if (!resizerActive) {
                this.style.background = getCurrentTheme().resizerBg;
                this.style.boxShadow = '0 0 10px rgba(66, 133, 244, 0.3)';
            }
        });
    }

    function updateWidthDisplay() {
        const display = document.getElementById('code-size-info');
        if (display) {
            display.textContent = `${WINDOW_SIZES.code.width}√ó${WINDOW_SIZES.code.height} (${initialLeftWidth}%/${100 - initialLeftWidth}%)`;
        }
    }

    // ========== –ü–†–ï–ú–ò–£–ú –°–¢–ò–õ–ò ==========
    function applyThemeStyles() {
        const theme = getCurrentTheme();

        GM_addStyle(`
            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
            @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap');

            #kaai-btn {
                animation: float 3s ease-in-out infinite;
                transform-style: preserve-3d;
            }

            #kaai-btn:hover {
                transform: scale(1.15) translateY(-5px) rotateY(10deg);
                box-shadow: ${theme.glowEffect}, 0 15px 40px rgba(0, 0, 0, 0.4);
            }

            #kaai-btn:active {
                transform: scale(0.95);
            }

            @keyframes float {
                0%, 100% {
                    transform: translateY(0px) rotateY(0deg);
                }
                50% {
                    transform: translateY(-10px) rotateY(5deg);
                }
            }

            #kaai-close:hover {
                color: ${theme.tabActive};
                transform: scale(1.2);
                text-shadow: 0 0 10px ${theme.tabActive};
            }

            .kaai-tab {
                position: relative;
                overflow: hidden;
            }

            .kaai-tab::after {
                content: '';
                position: absolute;
                bottom: 0;
                left: 50%;
                width: 0;
                height: 3px;
                background: ${theme.tabGradient};
                transition: all 0.3s ease;
                transform: translateX(-50%);
            }

            .kaai-tab.active::after {
                width: 80%;
            }

            .kaai-tab:hover {
                background: ${theme.tabHover};
                transform: translateY(-2px);
            }

            .post-button {
                display: inline-flex !important;
                align-items: center !important;
                justify-content: center !important;
                margin-top: 15px !important;
                padding: 12px 24px !important;
                background: ${theme.buttonPremium} !important;
                color: white !important;
                border: none !important;
                border-radius: 12px !important;
                cursor: pointer !important;
                font-size: 14px !important;
                font-weight: 700 !important;
                transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1) !important;
                box-shadow: 0 6px 20px rgba(170, 102, 204, 0.3) !important;
                text-decoration: none !important;
                gap: 8px !important;
                position: relative !important;
                overflow: hidden !important;
                z-index: 1 !important;
                min-width: 180px !important;
            }

            .post-button::before {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
                transition: 0.5s;
                z-index: -1;
            }

            .post-button:hover::before {
                left: 100%;
            }

            .post-button:hover {
                transform: translateY(-3px) scale(1.05);
                box-shadow: 0 10px 25px rgba(170, 102, 204, 0.5) !important;
            }

            .post-button:active {
                transform: translateY(-1px) scale(0.98);
            }

            .post-button.success {
                background: ${theme.buttonSuccess} !important;
                box-shadow: 0 6px 20px rgba(0, 200, 81, 0.3) !important;
            }

            .post-button.error {
                background: ${theme.buttonDanger} !important;
                box-shadow: 0 6px 20px rgba(255, 68, 68, 0.3) !important;
            }

            .post-button.loading {
                background: ${theme.buttonSecondary} !important;
                color: ${theme.buttonSecondaryText} !important;
                cursor: not-allowed !important;
            }

            .kais-signature {
                margin-top: 15px !important;
                padding: 12px !important;
                background: rgba(66, 133, 244, 0.1) !important;
                border-radius: 10px !important;
                border-left: 4px solid ${theme.tabActive} !important;
                font-size: 13px !important;
                color: ${theme.tabInactive} !important;
                font-weight: 600 !important;
                text-align: center !important;
                animation: signaturePulse 2s ease-in-out infinite !important;
            }

            @keyframes signaturePulse {
                0%, 100% { opacity: 0.8; }
                50% { opacity: 1; }
            }

            .plugin-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            }

            .plugin-card .plugin-run:hover {
                transform: translateY(-2px);
                box-shadow: 0 5px 15px rgba(0, 200, 81, 0.3);
            }

            .plugin-card .plugin-remove:hover {
                transform: translateY(-2px);
                box-shadow: 0 5px 15px rgba(255, 68, 68, 0.3);
            }

            .chat-scroll-container {
                scroll-behavior: smooth;
            }

            .chat-message {
                position: relative;
                backdrop-filter: blur(5px);
                animation: messageAppear 0.5s cubic-bezier(0.4, 0, 0.2, 1);
                transform-origin: center bottom;
                margin-bottom: 12px;
                padding: 14px 18px;
                border-radius: 18px;
                max-width: 85%;
                word-wrap: break-word;
            }

            .user-message {
                align-self: flex-end;
                background: ${theme.messageUserBg};
                color: ${theme.messageUserText};
                border-bottom-right-radius: 4px;
            }

            .ai-message {
                align-self: flex-start;
                background: ${theme.messageAiBg};
                color: ${theme.messageAiText};
                border: ${theme.messageAiBorder};
                border-bottom-left-radius: 4px;
            }

            .system-message {
                align-self: center;
                background: ${theme.messageSystemBg};
                color: ${theme.messageSystemText};
                border: ${theme.messageSystemBorder};
                max-width: 95%;
                text-align: center;
                padding: 12px 20px;
                border-radius: 12px;
                margin: 10px auto;
            }

            @keyframes messageAppear {
                from {
                    opacity: 0;
                    transform: translateY(20px) scale(0.9);
                }
                to {
                    opacity: 1;
                    transform: translateY(0) scale(1);
                }
            }

            .user-message {
                animation-delay: 0.1s;
            }

            .ai-message {
                animation-delay: 0.2s;
            }

            .message-time {
                display: inline-block;
                font-size: 11px !important;
                color: rgba(255, 255, 255, 0.6) !important;
                margin-left: 8px;
                font-weight: 400;
                vertical-align: bottom;
                opacity: 0.8;
            }

            .ai-message .message-time {
                color: rgba(0, 0, 0, 0.5) !important;
            }

            .message-read-status {
                display: inline-flex;
                align-items: center;
                margin-left: 8px;
                font-size: 11px;
                vertical-align: bottom;
            }

            .message-read-status i {
                font-style: normal;
                font-size: 12px;
            }

            .message-read-status.delivered i {
                color: rgba(255, 255, 255, 0.7);
            }

            .message-read-status.read i {
                color: #34B7F1;
            }

            .assistant-quick:hover, .psych-quick:hover {
                transform: translateY(-3px);
                box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1) !important;
            }

            textarea:focus {
                border: ${theme.inputFocusBorder} !important;
                box-shadow: ${theme.inputFocusShadow} !important;
                transform: translateY(-2px);
            }

            .typing-indicator {
                display: flex;
                gap: 8px;
                padding: 20px !important;
            }

            .typing-indicator::after {
                content: '';
                animation: typingDots 1.5s infinite;
            }

            @keyframes typingDots {
                0%, 20% { content: '.'; }
                40% { content: '..'; }
                60%, 100% { content: '...'; }
            }

            @keyframes gradientShift {
                0% { background-position: 0% 50%; }
                50% { background-position: 100% 50%; }
                100% { background-position: 0% 50%; }
            }

            @media (max-width: 1600px) {
                #kaai-panel {
                    width: 95vw !important;
                    max-width: 95vw !important;
                }

                .assistant-quick, .psych-quick {
                    flex: 1 1 calc(50% - 10px) !important;
                    min-width: 140px !important;
                }

                #plugins-content {
                    padding: 20px !important;
                }
            }

            @media (max-width: 1200px) {
                #code-container {
                    flex-direction: column !important;
                }

                #code-editor-container,
                #code-right-panel {
                    width: 100% !important;
                    max-width: 100% !important;
                    flex: none !important;
                    height: 50vh !important;
                }

                .code-resizer {
                    width: 100% !important;
                    height: 8px !important;
                    cursor: row-resize !important;
                }

                .post-button {
                    min-width: 160px !important;
                    padding: 10px 20px !important;
                }

                #premium-plugins-list,
                #custom-plugins-list {
                    grid-template-columns: 1fr !important;
                }
            }

            @media (max-width: 768px) {
                #kaai-btn {
                    width: 60px !important;
                    height: 60px !important;
                    bottom: 20px !important;
                    right: 20px !important;
                    font-size: 28px !important;
                }

                #kaai-panel {
                    width: 100vw !important;
                    height: 100vh !important;
                    max-height: 100vh !important;
                    right: 0 !important;
                    bottom: 0 !important;
                    border-radius: 0 !important;
                }

                .kaai-tab {
                    padding: 15px 10px !important;
                    font-size: 13px !important;
                }

                .post-button {
                    width: 100% !important;
                    max-width: 100% !important;
                    margin: 10px 0 !important;
                }

                .assistant-quick, .psych-quick {
                    flex: 1 1 100% !important;
                    margin-bottom: 8px !important;
                }

                .chat-message {
                    max-width: 90% !important;
                }

                #plugins-content {
                    padding: 16px !important;
                    gap: 16px !important;
                }
            }

            ::-webkit-scrollbar {
                width: 10px;
                height: 10px;
            }

            ::-webkit-scrollbar-track {
                background: ${theme.scrollbarTrack};
                border-radius: 10px;
            }

            ::-webkit-scrollbar-thumb {
                background: ${theme.scrollbarThumb};
                border-radius: 10px;
                border: 2px solid transparent;
                background-clip: content-box;
            }

            ::-webkit-scrollbar-thumb:hover {
                background: ${theme.scrollbarThumbHover};
            }
        `);
    }

    // ========== –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò –°–û–ë–´–¢–ò–ô ==========
    function setupEventListeners() {
        console.log('üîó –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...');

        const btn = document.getElementById('kaai-btn');
        const panel = document.getElementById('kaai-panel');
        const closeBtn = document.getElementById('kaai-close');

        btn.addEventListener('click', togglePanel);
        closeBtn.addEventListener('click', closePanel);

        document.querySelectorAll('.kaai-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const tabName = this.dataset.tab;
                switchTab(tabName);
                resizeWindowForTab(tabName);
            });
        });

        document.querySelectorAll('.code-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const tabName = this.dataset.codeTab;
                switchCodeTab(tabName);
            });
        });

        document.getElementById('ai-send')?.addEventListener('click', () => sendMessage('ai'));
        document.getElementById('ai-clear')?.addEventListener('click', () => clearChat('ai'));

        const aiInput = document.getElementById('ai-input');
        aiInput?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey && !isProcessing) {
                e.preventDefault();
                sendMessage('ai');
            }
        });

        document.getElementById('psych-send')?.addEventListener('click', () => sendMessage('psych'));
        document.getElementById('psych-clear')?.addEventListener('click', () => clearChat('psych'));

        const psychInput = document.getElementById('psych-input');
        psychInput?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey && !isProcessing) {
                e.preventDefault();
                sendMessage('psych');
            }
        });

        document.querySelectorAll('.psych-quick').forEach(button => {
            button.addEventListener('click', function() {
                document.getElementById('psych-input').value = this.getAttribute('data-text');
                document.getElementById('psych-input').focus();
            });
        });

        document.getElementById('code-run')?.addEventListener('click', runCode);
        document.getElementById('code-debug')?.addEventListener('click', debugCode);
        document.getElementById('code-clear')?.addEventListener('click', clearCode);

        document.getElementById('code-assistant-toggle')?.addEventListener('click', toggleCodeAssistant);
        document.getElementById('code-assistant-send')?.addEventListener('click', sendCodeAssistantMessage);
        document.getElementById('code-assistant-clear')?.addEventListener('click', clearCodeAssistantChat);

        const assistantInput = document.getElementById('code-assistant-input');
        assistantInput?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey && !isProcessing) {
                e.preventDefault();
                sendCodeAssistantMessage();
            }
        });

        document.querySelectorAll('.assistant-quick').forEach(button => {
            button.addEventListener('click', function() {
                const action = this.getAttribute('data-action');
                handleAssistantQuickAction(action);
            });
        });

        document.getElementById('plugin-test')?.addEventListener('click', testPlugin);
        document.getElementById('plugin-install')?.addEventListener('click', installPlugin);

        document.addEventListener('keydown', function(e) {
            if (e.altKey && e.key === 'a') {
                e.preventDefault();
                togglePanel();
            }
            if (e.key === 'Escape' && isOpen) {
                closePanel();
            }
        });

        document.addEventListener('click', function(e) {
            if (isOpen && !panel.contains(e.target) && e.target !== btn) {
                closePanel();
            }
        });

        const chatObserver = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {
                    const container = mutation.target;
                    setTimeout(() => {
                        container.scrollTop = container.scrollHeight;
                    }, 50);
                }
            });
        });

        setTimeout(() => {
            const aiChat = document.getElementById('ai-chat');
            const psychChat = document.getElementById('psych-chat');
            const codeOutput = document.getElementById('code-output');
            const assistantChat = document.getElementById('code-assistant-chat');

            if (aiChat) chatObserver.observe(aiChat, { childList: true, subtree: false });
            if (psychChat) chatObserver.observe(psychChat, { childList: true, subtree: false });
            if (codeOutput) chatObserver.observe(codeOutput, { childList: true, subtree: false });
            if (assistantChat) chatObserver.observe(assistantChat, { childList: true, subtree: false });

            initResizer();
            showAvailablePlugins();

            document.addEventListener('click', function(e) {
                if (e.target.closest('.plugin-run')) {
                    e.preventDefault();
                    const pluginId = e.target.closest('.plugin-run').dataset.id;
                    const plugin = PLUGIN_SYSTEM.getPlugin(pluginId);

                    if (plugin) {
                        let defaultInput = '';
                        if (pluginId === 'weather_advanced') {
                            defaultInput = '–ú–æ—Å–∫–≤–∞';
                        } else if (pluginId === 'test_plugin') {
                            defaultInput = '–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ';
                        }

                        const input = prompt(
                            `üöÄ –ó–∞–ø—É—Å–∫ –ø–ª–∞–≥–∏–Ω–∞: ${plugin.name}\n\n` +
                            `üìù ${plugin.description}\n\n` +
                            `–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:`,
                            defaultInput
                        );

                        if (input !== null) {
                            const args = input.split(',').map(arg => arg.trim()).filter(arg => arg);
                            runPluginFromChat(pluginId, args);
                        }
                    }
                }

                if (e.target.closest('.plugin-remove')) {
                    e.preventDefault();
                    const pluginId = e.target.closest('.plugin-remove').dataset.id;
                    removePlugin(pluginId);
                }
            });

            window.loadExamplePlugin = loadExamplePlugin;
        }, 1000);
    }

    // ========== –§–£–ù–ö–¶–ò–ò –í–ö–õ–ê–î–û–ö –ö–û–î–ê ==========
    function switchCodeTab(tabName) {
        const theme = getCurrentTheme();

        document.querySelectorAll('.code-tab').forEach(tab => {
            const isActive = tab.dataset.codeTab === tabName;
            tab.style.color = isActive ? theme.tabActive : theme.tabInactive;
            tab.style.borderBottom = isActive ? `3px solid ${theme.tabActive}` : 'none';
        });

        document.querySelectorAll('.code-content').forEach(content => {
            content.style.display = content.dataset.codeTab === tabName ? 'flex' : 'none';
        });
    }

    function toggleCodeAssistant() {
        const assistantTab = document.querySelector('.code-tab[data-code-tab="assistant"]');
        if (assistantTab) {
            switchCodeTab('assistant');

            const assistantChat = document.getElementById('code-assistant-chat');
            if (assistantChat && assistantChat.children.length === 0) {
                addMessage('code-assistant-chat', 'system',
                    'ü§ñ **Llama –ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç (Cody) –≥–æ—Ç–æ–≤ –ø–æ–º–æ—á—å!** üöÄ\n\n' +
                    '**–ú–æ–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:**\n' +
                    '‚Ä¢ üìñ **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–¥–∞** - –ø–æ–π–º—É –∏ –æ–±—ä—è—Å–Ω—é –ª—é–±–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º\n' +
                    '‚Ä¢ üêõ **–ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫** - –Ω–∞–π–¥—É –±–∞–≥–∏ –∏ –ø—Ä–µ–¥–ª–æ–∂—É –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è\n' +
                    '‚Ä¢ ‚ö° **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - —É–ª—É—á—à—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å\n' +
                    '‚Ä¢ üîÑ **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥** - –ø—Ä–∏–≤–µ–¥—É –∫–æ–¥ –∫ –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º\n' +
                    '‚Ä¢ üëÅÔ∏è‚Äçüó®Ô∏è **Code Review** - –¥–∞–º —Ñ–∏–¥–±–µ–∫ –∫–∞–∫ senior-–∏–Ω–∂–µ–Ω–µ—Ä\n' +
                    '‚Ä¢ üéØ **–ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** - –ø–æ–¥—Å–∫–∞–∂—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è\n\n' +
                    '**–ú–æ–π –ø–æ–¥—Ö–æ–¥:** –ü—Ä–∞–≥–º–∞—Ç–∏—á–Ω—ã–π, —á–∏—Å—Ç—ã–π, –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–¥.\n' +
                    '**–§–∏–ª–æ—Å–æ—Ñ–∏—è:** –°–Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç–∞—é—â–∏–π –∫–æ–¥, –ø–æ—Ç–æ–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è.\n\n' +
                    '–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏! üíª‚ú®'
                );
            }

            setTimeout(() => {
                document.getElementById('code-assistant-input')?.focus();
            }, 100);
        }
    }

    // ========== LLAMA –ü–†–û–ì–†–ê–ú–ú–ò–°–¢ ==========
    async function sendCodeAssistantMessage() {
        if (isProcessing) return;

        const input = document.getElementById('code-assistant-input');
        const message = input.value.trim();

        if (!message) return;

        isProcessing = true;
        input.value = '';

        addMessage('code-assistant-chat', 'user', message);
        const indicator = showTyping('code-assistant-chat');

        try {
            const code = document.getElementById('code-editor').value;
            const language = document.getElementById('code-language').value;

            const prompt = `${CODE_ASSISTANT_PROMPT}\n\n–¢–µ–∫—É—â–∏–π –∫–æ–¥ –Ω–∞ ${language}:\n\`\`\`${language}\n${code}\n\`\`\`\n\n–í–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: ${message}`;

            const response = await callAIWithPrompt(prompt, CODE_ASSISTANT_PROMPT);
            if (indicator && indicator.parentNode) {
                indicator.remove();
            }
            const messageElement = addMessage('code-assistant-chat', 'ai', response);
            addPostButtonToMessage(messageElement, response);
        } catch (error) {
            if (indicator && indicator.parentNode) {
                indicator.remove();
            }
            addMessage('code-assistant-chat', 'system', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`);
        } finally {
            isProcessing = false;
        }
    }

    function clearCodeAssistantChat() {
        const assistantChat = document.getElementById('code-assistant-chat');
        if (assistantChat) {
            assistantChat.innerHTML = '';
            addMessage('code-assistant-chat', 'system',
                'ü§ñ **Llama –ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç (Cody) –≥–æ—Ç–æ–≤ –ø–æ–º–æ—á—å!** üöÄ\n\n' +
                '**–ú–æ–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:**\n' +
                '‚Ä¢ üìñ **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–¥–∞** - –ø–æ–π–º—É –∏ –æ–±—ä—è—Å–Ω—é –ª—é–±–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º\n' +
                '‚Ä¢ üêõ **–ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫** - –Ω–∞–π–¥—É –±–∞–≥–∏ –∏ –ø—Ä–µ–¥–ª–æ–∂—É –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è\n' +
                '‚Ä¢ ‚ö° **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - —É–ª—É—á—à—É –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å\n' +
                '‚Ä¢ üîÑ **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥** - –ø—Ä–∏–≤–µ–¥—É –∫–æ–¥ –∫ –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º\n' +
                '‚Ä¢ üëÅÔ∏è‚Äçüó®Ô∏è **Code Review** - –¥–∞–º —Ñ–∏–¥–±–µ–∫ –∫–∞–∫ senior-–∏–Ω–∂–µ–Ω–µ—Ä\n' +
                '‚Ä¢ üéØ **–ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** - –ø–æ–¥—Å–∫–∞–∂—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è\n\n' +
                '**–ú–æ–π –ø–æ–¥—Ö–æ–¥:** –ü—Ä–∞–≥–º–∞—Ç–∏—á–Ω—ã–π, —á–∏—Å—Ç—ã–π, –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–¥.\n' +
                '**–§–∏–ª–æ—Å–æ—Ñ–∏—è:** –°–Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç–∞—é—â–∏–π –∫–æ–¥, –ø–æ—Ç–æ–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è.\n\n' +
                '–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏! üíª‚ú®'
            );
        }
    }

    function handleAssistantQuickAction(action) {
        const code = document.getElementById('code-editor').value;
        const language = document.getElementById('code-language').value;

        if (!code.trim()) {
            addMessage('code-assistant-chat', 'system', '‚ùå –°–Ω–∞—á–∞–ª–∞ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä');
            return;
        }

        let question = '';

        switch(action) {
            case 'explain':
                question = `–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —ç—Ç–æ—Ç –∫–æ–¥ –Ω–∞ ${language} –≤ —Å—Ç–∏–ª–µ Llama/Maverick:
1. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –∫–æ–¥?
2. –ö–∞–∫–∏–µ –∫–ª—é—á–µ–≤—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã/–ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã?
3. –ï—Å—Ç—å –ª–∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã?
4. –ö–∞–∫ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å?
5. –ö–∞–∫–∏–µ edge cases –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å?

–ö–æ–¥:
\`\`\`${language}
${code}
\`\`\``;
                break;
            case 'optimize':
                question = `–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π —ç—Ç–æ—Ç –∫–æ–¥ –Ω–∞ ${language} –∫–∞–∫ senior-–∏–Ω–∂–µ–Ω–µ—Ä:
1. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å)
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
3. –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å
4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
5. –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è ${language}

–ü—Ä–µ–¥–ª–æ–∂–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –æ–±—ä—è—Å–Ω–∏, –ø–æ—á–µ–º—É –æ–Ω–∏ —É–ª—É—á—à–∞—é—Ç –∫–æ–¥.`;
                break;
            case 'debug':
                question = `–ù–∞–π–¥–∏ –∏ –∏—Å–ø—Ä–∞–≤—å –æ—à–∏–±–∫–∏ –≤ —ç—Ç–æ–º –∫–æ–¥–µ –Ω–∞ ${language}:
1. –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
2. –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
3. –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
4. –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ security issues
5. –ü–ª–æ—Ö–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

–î–ª—è –∫–∞–∂–¥–æ–π –æ—à–∏–±–∫–∏:
- –û–±—ä—è—Å–Ω–∏ –ø—Ä–æ–±–ª–µ–º—É
- –ü—Ä–µ–¥–ª–æ–∂–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- –†–∞—Å—Å–∫–∞–∂–∏, –∫–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–¥–æ–±–Ω–æ–≥–æ –≤ –±—É–¥—É—â–µ–º`;
                break;
            case 'refactor':
                question = `–°–¥–µ–ª–∞–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —ç—Ç–æ–≥–æ –∫–æ–¥–∞ –Ω–∞ ${language}:
1. –£–ª—É—á—à–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–¥–∞
2. –í—ã–Ω–µ—Å–∏ –ø–æ–≤—Ç–æ—Ä—è—é—â—É—é—Å—è –ª–æ–≥–∏–∫—É
3. –£–ø—Ä–æ—Å—Ç–∏ —Å–ª–æ–∂–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
4. –£–ª—É—á—à–∏ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ
5. –ü—Ä–∏–º–µ–Ω–∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã clean code`;
                break;
            case 'review':
                question = `–°–¥–µ–ª–∞–π code review —ç—Ç–æ–≥–æ –∫–æ–¥–∞ –Ω–∞ ${language} –∫–∞–∫ senior-–∏–Ω–∂–µ–Ω–µ—Ä:
1. Code quality –æ—Ü–µ–Ω–∫–∞
2. –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –±–∞–≥–∏
3. Security vulnerabilities
4. Performance issues
5. Maintainability –ø—Ä–æ–±–ª–µ–º—ã
6. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é`;
                break;
            case 'patterns':
                question = `–ö–∞–∫–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫ —ç—Ç–æ–º—É –∫–æ–¥—É –Ω–∞ ${language}?
1. –ö–∞–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è?
2. –ö–∞–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ–¥–æ—à–ª–∏ –±—ã –ª—É—á—à–µ?
3. –ö–∞–∫ –≤–Ω–µ–¥—Ä–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã?
4. –ö–∞–∫–∏–µ –±—É–¥—É—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞?
5. –ö–∞–∫–∏–µ –º–æ–≥—É—Ç –±—ã—Ç—å drawbacks?`;
                break;
        }

        if (question) {
            document.getElementById('code-assistant-input').value = question;
            sendCodeAssistantMessage();
        }
    }

    // ========== –ö–û–î-–ü–ï–°–û–ß–ù–ò–¶–ê ==========
    async function runCode() {
        const code = document.getElementById('code-editor').value;
        const language = document.getElementById('code-language').value;
        const output = document.getElementById('code-output');

        if (!code.trim()) {
            output.innerHTML = '<div style="color: #FF4444; font-weight: 600; padding: 20px; text-align: center;">‚ùå –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –¥–ª—è –∑–∞–ø—É—Å–∫–∞</div>';
            return;
        }

        output.innerHTML = '<div style="color: #FFBB33; font-weight: 600; padding: 20px; text-align: center; animation: pulse 2s infinite;">‚è≥ –ó–∞–ø—É—Å–∫–∞—é –∫–æ–¥...</div>';

        try {
            let result;
            if (language === 'javascript') {
                result = await executeJavaScript(code);
            } else {
                result = await executeWithAI(code, language);
            }

            output.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, rgba(0, 200, 81, 0.1) 0%, rgba(0, 126, 51, 0.1) 100%);
                    padding: 16px;
                    border-radius: 12px;
                    margin-bottom: 15px;
                    border-left: 4px solid #00C851;
                ">
                    <div style="color: #00C851; font-weight: 700; font-size: 16px; margin-bottom: 8px;">‚úÖ –£—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ!</div>
                </div>
                <pre style="
                    background: rgba(0, 0, 0, 0.05);
                    padding: 20px;
                    border-radius: 12px;
                    border: 1px solid rgba(66, 133, 244, 0.2);
                    font-family: 'JetBrains Mono', monospace;
                    font-size: 14px;
                    line-height: 1.6;
                    margin: 0;
                    white-space: pre-wrap;
                    word-wrap: break-word;
                ">${escapeHtml(result)}</pre>
            `;
        } catch (error) {
            output.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, rgba(255, 68, 68, 0.1) 0%, rgba(204, 0, 0, 0.1) 100%);
                    padding: 16px;
                    border-radius: 12px;
                    margin-bottom: 15px;
                    border-left: 4px solid #FF4444;
                ">
                    <div style="color: #FF4444; font-weight: 700; font-size: 16px; margin-bottom: 8px;">‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</div>
                </div>
                <pre style="
                    background: rgba(255, 68, 68, 0.05);
                    padding: 20px;
                    border-radius: 12px;
                    border: 1px solid rgba(255, 68, 68, 0.2);
                    font-family: 'JetBrains Mono', monospace;
                    font-size: 14px;
                    line-height: 1.6;
                    margin: 0;
                    white-space: pre-wrap;
                    word-wrap: break-word;
                    color: #FF4444;
                ">${escapeHtml(error.message)}</pre>
            `;
        }
    }

    async function executeJavaScript(code) {
        return new Promise((resolve, reject) => {
            try {
                const iframe = document.createElement('iframe');
                iframe.style.display = 'none';
                document.body.appendChild(iframe);

                const originalLog = console.log;
                const logs = [];

                console.log = function(...args) {
                    logs.push(args.join(' '));
                    originalLog.apply(console, args);
                };

                const result = iframe.contentWindow.eval(code);

                console.log = originalLog;
                document.body.removeChild(iframe);

                const output = logs.length > 0 ? logs.join('\n') : String(result || '‚úÖ –ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω –±–µ–∑ –≤—ã–≤–æ–¥–∞ –≤ –∫–æ–Ω—Å–æ–ª—å');
                resolve(output);
            } catch (error) {
                reject(error);
            }
        });
    }

    async function executeWithAI(code, language) {
        const prompt = `–í—ã–ø–æ–ª–Ω–∏ —ç—Ç–æ—Ç –∫–æ–¥ –Ω–∞ ${language} –∏ –ø–æ–∫–∞–∂–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:\n\`\`\`${language}\n${code}\n\`\`\``;
        return await callAIWithPrompt(prompt, CODE_ASSISTANT_PROMPT);
    }

    async function debugCode() {
        const code = document.getElementById('code-editor').value;
        const language = document.getElementById('code-language').value;
        const output = document.getElementById('code-output');

        if (!code.trim()) {
            output.innerHTML = '<div style="color: #FF4444; font-weight: 600; padding: 20px; text-align: center;">‚ùå –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏</div>';
            return;
        }

        output.innerHTML = '<div style="color: #FFBB33; font-weight: 600; padding: 20px; text-align: center; animation: pulse 2s infinite;">üîç –ê–Ω–∞–ª–∏–∑–∏—Ä—É—é –∫–æ–¥...</div>';

        try {
            const prompt = `–ù–∞–π–¥–∏ –æ—à–∏–±–∫–∏ –≤ –∫–æ–¥–µ –Ω–∞ ${language}:\n\`\`\`${language}\n${code}\n\`\`\``;
            const response = await callAIWithPrompt(prompt, CODE_ASSISTANT_PROMPT);
            output.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, rgba(108, 92, 231, 0.1) 0%, rgba(153, 51, 204, 0.1) 100%);
                    padding: 16px;
                    border-radius: 12px;
                    margin-bottom: 15px;
                    border-left: 4px solid #6c5ce7;
                ">
                    <div style="color: #6c5ce7; font-weight: 700; font-size: 16px; margin-bottom: 8px;">üîß –†–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞</div>
                </div>
                <div style="
                    background: rgba(0, 0, 0, 0.03);
                    padding: 20px;
                    border-radius: 12px;
                    border: 1px solid rgba(66, 133, 244, 0.2);
                    font-family: 'Inter', sans-serif;
                    font-size: 14px;
                    line-height: 1.7;
                    white-space: pre-wrap;
                    word-wrap: break-word;
                ">${escapeHtml(response)}</div>
            `;
        } catch (error) {
            output.innerHTML = `<div style="color: #FF4444; font-weight: 600; padding: 20px; text-align: center;">‚ùå –û—à–∏–±–∫–∞: ${error.message}</div>`;
        }
    }

    function clearCode() {
        document.getElementById('code-editor').value = '';
        document.getElementById('code-output').innerHTML = '';
        const assistantChat = document.getElementById('code-assistant-chat');
        if (assistantChat) {
            assistantChat.innerHTML = '';
        }
    }

    // ========== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï ==========
    function escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }

    // ========== –ó–ê–ü–£–°–ö ==========
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
    } else {
        setTimeout(init, 1000);
    }

})();
