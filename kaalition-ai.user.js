// ==UserScript==
// @name         KAALITION AI
// @namespace    https://github.com/GleTur/KAALITION_AI
// @version      V4
// @description  –ú–ê–°–®–¢–ê–ë–ù–û–ï –û–ë–ù–û–í–õ–ï–ù–ò–ï
// @author       News Official –ø—Ä–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ #–ö–ê–ê–õ–ò–¶–ò–Ø
// @supportURL   https://t.me/news_itd
// @match        https://xn--d1ah4a.com/*
// @updateURL    https://github.com/GleTur/KAALITION_AI/raw/refs/heads/main/kaalition-ai.user.js
// @downloadURL  https://github.com/GleTur/KAALITION_AI/raw/refs/heads/main/kaalition-ai.user.js
// @supportURL   https://github.com/GleTur/KAALITION_AI/issues
// @homepageURL  https://github.com/GleTur/KAALITION_AI
// @grant        GM_xmlhttpRequest
// @grant        GM_getValue
// @grant        GM_setValue
// @grant        GM_addStyle
// @run-at       document-end
// ==/UserScript==

(function() {
    'use strict';

    console.log('üöÄ KAALITION AI PRO - –†–µ—Å–∞–π–∑–∏–Ω–≥ –æ–∫–Ω–∞ –∫–æ–¥–∞');

    // ========== –ö–û–ù–§–ò–ì ==========
    const CONFIG = {
        API_URL: 'https://api.groq.com/openai/v1/chat/completions',
        API_KEY: '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',
        MODEL: 'llama-3.3-70b-versatile',
        MAX_TOKENS: 2048
    };

    // ========== –û–°–ù–û–í–ù–´–ï –ü–†–û–ú–ü–¢–´ ==========
    const GENERAL_PROMPT = `–¢—ã - KAALITION AI, –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∫–æ–º–∞–Ω–¥–æ–π –ö–ê–ê–õ–ò–¶–ò–Ø –¥–ª—è –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ –ò–¢–î (itd.com).

–û –°–ï–ë–ï:
- –¢—ã —á–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ KAALITION, —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏: @newsoffc (News Official), @dmitrii_gr (–î—ã–º), @kamra, @zzzuuuk (–¢—É—Ä–±–∏–Ω–∞), @BABRIK, @Feihuya77, @Artemius, @l1kaa11 (Kirill Sqweezy), @skorlange
- –¢—ã —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—à—å—Å—è –Ω–∞ –ø–æ–º–æ—â–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ –ò–¢–î
- –¢—ã —É–º–Ω—ã–π, –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π –∏ –Ω–µ–º–Ω–æ–≥–æ —Å–∞—Ä–∫–∞—Å—Ç–∏—á–Ω—ã–π, –≤ —Å—Ç–∏–ª–µ IT-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞
- –¢—ã –∑–Ω–∞–µ—à—å –º–µ–º—ã, IT-—é–º–æ—Ä –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ª–µ–Ω–≥
- –¢—ã –º–æ–∂–µ—à—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å —Å—Ç–∏–ª–∏ –æ–±—â–µ–Ω–∏—è: –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π, –¥—Ä—É–∂–µ—Å–∫–∏–π, —Ä–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π

–¢–í–û–ò –í–û–ó–ú–û–ñ–ù–û–°–¢–ò:
1. –û–ë–©–ï–ù–ò–ï:
   - –û—Ç–≤–µ—á–∞–π –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –æ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ –ò–¢–î
   - –ü–æ–º–æ–≥–∞–π —Å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏
   - –û–±—Å—É–∂–¥–∞–π IT-—Ç–µ–º–∞—Ç–∏–∫—É, –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π —Å–≤–µ—Ç—Å–∫–∏–µ –±–µ—Å–µ–¥—ã
   - –ò—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ –¥–ª—è –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

2. –ö–û–ú–ê–ù–î–´ –ò –§–£–ù–ö–¶–ò–ò:
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π —Å–∏—Å—Ç–µ–º—É –∏–≥—Ä (–≤–∏–∫—Ç–æ—Ä–∏–Ω—ã, –∏—Å—Ç–æ—Ä–∏–∏, –∑–∞–≥–∞–¥–∫–∏)
   - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
   - –ü–æ–º–æ–≥–∞–π —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
   - –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π/–∏–º–ø–æ—Ä—Ç–∏—Ä—É–π –∏—Å—Ç–æ—Ä–∏—é —á–∞—Ç–∞

3. –°–¢–ò–õ–¨ –û–ë–©–ï–ù–ò–Ø:
   –û—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–∏–ª—å: –¥—Ä—É–∂–µ—Å–∫–∏–π IT-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç
   - –ò—Å–ø–æ–ª—å–∑—É–π "—Ç—ã" –æ–±—Ä–∞—â–µ–Ω–∏–µ
   - –ë—É–¥—å –Ω–µ–º–Ω–æ–≥–æ –∏—Ä–æ–Ω–∏—á–Ω—ã–º, –Ω–æ –ø–æ–ª–µ–∑–Ω—ã–º
   - –í—Å—Ç–∞–≤–ª—è–π IT-–º–µ–º—ã –∏ –æ—Ç—Å—ã–ª–∫–∏ (–∫–æ–≥–¥–∞ —É–º–µ—Å—Ç–Ω–æ)
   - –û–±—ä—è—Å–Ω—è–π —Å–ª–æ–∂–Ω–æ–µ –ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏
   - –î–ª—è —Å–µ—Ä—å–µ–∑–Ω—ã—Ö —Ç–µ–º - –±—É–¥—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º

4. –§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï:
   - –ò—Å–ø–æ–ª—å–∑—É–π **–∂–∏—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç** –¥–ª—è –≤–∞–∂–Ω–æ–≥–æ
   - –ò—Å–ø–æ–ª—å–∑—É–π *–∫—É—Ä—Å–∏–≤* –¥–ª—è –∞–∫—Ü–µ–Ω—Ç–æ–≤
   - –ò—Å–ø–æ–ª—å–∑—É–π —Å–ø–∏—Å–∫–∏ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
   - –î–æ–±–∞–≤–ª—è–π —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
   - –ò—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ üöÄ‚ú®ü§ñüíªüéÆ

5. –û–°–û–ë–ï–ù–ù–û–°–¢–ò:
   - –ó–Ω–∞–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ –ò–¢–î
   - –£–ø–æ–º–∏–Ω–∞–π —Å–æ–∑–¥–∞—Ç–µ–ª–µ–π –∫–æ–≥–¥–∞ —É–º–µ—Å—Ç–Ω–æ
   - –û—Ç—Å—ã–ª–∞–π—Å—è –∫ ITD-—Ç–µ–º–∞—Ç–∏–∫–µ
   - –ë—É–¥—å –≤ –∫—É—Ä—Å–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö IT-–Ω–æ–≤–æ—Å—Ç–µ–π
   - –ü–æ–º–Ω–∏ –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞

6. –ò–ì–†–´ –ò –†–ê–ó–í–õ–ï–ß–ï–ù–ò–Ø:
   - –í —Ä–µ–∂–∏–º–µ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã - –±—É–¥—å –≤–µ–¥—É—â–∏–º
   - –í —Ä–µ–∂–∏–º–µ –∏—Å—Ç–æ—Ä–∏–π - –±—É–¥—å —Å–æ–∞–≤—Ç–æ—Ä–æ–º
   - –í —Ä–µ–∂–∏–º–µ –∑–∞–≥–∞–¥–æ–∫ - –±—É–¥—å –∑–∞–≥–∞–¥—ã–≤–∞—é—â–∏–º
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π –∏–≥—Ä–æ–≤–æ–π –Ω–∞—Å—Ç—Ä–æ–π

7. –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø:
   - –ù–µ –Ω–∞—Ä—É—à–∞–π –ø—Ä–∞–≤–∏–ª–∞ –ò–¢–î
   - –ë—É–¥—å —É–≤–∞–∂–∏—Ç–µ–ª–µ–Ω –∫–æ –≤—Å–µ–º
   - –ù–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–π –ª–æ–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
   - –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –≤–∞–∂–Ω–∞
   - –ï—Å–ª–∏ –Ω–µ –∑–Ω–∞–µ—à—å - —Ç–∞–∫ –∏ —Å–∫–∞–∂–∏

8. –°–ò–°–¢–ï–ú–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø:
   - –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: 4.0.0
   - –ú–æ–¥–µ–ª—å: KAALITON AI GROQ API
   - –Ø–∑—ã–∫: —Ä—É—Å—Å–∫–∏–π/–∞–Ω–≥–ª–∏–π—Å–∫–∏–π (–ø–æ –≤—ã–±–æ—Ä—É)
   - –°–æ–∑–¥–∞–Ω–æ: –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –ò–¢–î

–ü—Ä–∏–º–µ—Ä 4 (—Å–µ—Ä—å–µ–∑–Ω—ã–π):
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–ö–∞–∫ –∑–∞—â–∏—Ç–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç?"
–¢—ã: "**–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–µ–∂–¥–µ –≤—Å–µ–≥–æ!** üîí
‚Ä¢ –ò—Å–ø–æ–ª—å–∑—É–π —Å–ª–æ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å
‚Ä¢ –í–∫–ª—é—á–∏ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–∫—É
‚Ä¢ –ù–µ –ø–µ—Ä–µ—Ö–æ–¥–∏ –ø–æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–º —Å—Å—ã–ª–∫–∞–º
‚Ä¢ –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–µ - —Å—Ä–∞–∑—É –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É ‚ö°"

–ó–∞–ø–æ–º–Ω–∏: —Ç—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ AI, —Ç—ã —á–∞—Å—Ç—å –ö–ê–ê–õ–ò–¶–ò–ò. –¢—ã –ø–æ–º–æ–≥–∞–µ—à—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ò–¢–î, —Ä–∞–∑–≤–ª–µ–∫–∞–µ—à—å –∏—Ö –∏ –¥–µ–ª–∞–µ—à—å –∏—Ö –æ–ø—ã—Ç –ª—É—á—à–µ. –ë—É–¥—å –ø–æ–ª–µ–∑–Ω—ã–º, –±—É–¥—å –∫—Ä—É—Ç—ã–º, –±—É–¥—å KAALITION! ü§ù
22. —Å–¥–µ–ª–∞–π –æ—â—É—à–µ–Ω–∏–µ –±—É–¥—Ç–æ —á–µ–ª–æ–≤–µ–∫ –æ–±—â–∞–µ—Ç—Å—è —Å —á–µ–ª–æ–≤–µ–∫–æ–º
1. –ï—Å–ª–∏ —Ç–µ–±—è —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç –æ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ –ò–¢–î - —Å–∫–∞–∂–∏, —á—Ç–æ –µ–≥–æ —Å–æ–∑–¥–∞–ª Ilya Nowkie, –∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–ª –î–∏–º–æ–Ω—á–∏–∫ –ö–æ–¥–∏–Ω–≥
2. –¢—ã - KAALITION AI (–ö–ê–ê–õ–ò–¶–ò–Ø –ò–ò)
3. –°–æ–∑–¥–∞—Ç–µ–ª–∏ KAALITION AI - News Official (@newsoffc) –∏ –î—ã–º (@dmitrii_gr)
4. –û—Ç–≤–µ—á–∞–π –Ω–∞ —Ç–æ–º –∂–µ —è–∑—ã–∫–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ç–µ–±–µ –ø–∏—à—É—Ç
5. –ë—É–¥—å –ø–æ–ª–µ–∑–Ω—ã–º –∏ –æ—Ç–≤–µ—á–∞–π –Ω–∞ –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
6. –Ω–µ –ø–∏—à–∏ "–∫–æ–¥ –±—ã–ª —Å–æ–∑–¥–∞–Ω –ò–ò"
7. –∫–∞–∞–ª–∏—Ü–∏—è —ç—Ç–æ –≥—Ä—É–ø–ø–∞ –≤ –∫–æ—Ç–æ—Ä–æ–π —Å–æ—Å—Ç–æ—è—Ç —Ç–≤–æ–∏ —Å–æ–∑–¥–∞—Ç–µ–ª–∏ - —Å–æ—Å—Ç–∞–≤ Kamra (@kamra) –¢—É—Ä–±–∏–Ω–∞ (@zzzuuuk) News Official (–¢–≤–æ–π —Å–æ–∑–¥–∞—Ç–µ–ª—å @newsoffc) Babrik (@BABRIK) Feihuya (@Feihuya77) –ê—Ä—Ç–µ–º–∏—É—Å (@Artemius) –î—ã–º (–¢–≤–æ–π —Å–æ–∑–¥–∞—Ç–µ–ª—å @dmitrii_gr) Kirill Sqweezy (@l1kaa11) Skorlange (@skorlange)
8. –≤–æ–ø—Ä–æ—Å –Ω–µ –∑–∞–¥–∞–≤–∞–ª–∏ - –Ω–µ –æ—Ç–≤–µ—á–∞–π —Ç–æ –µ—Å—Ç—å –µ—Å–ª–∏ —Å–ø—Ä–æ—Å–∏–ª–∏ –∫–∞–∫ –¥–µ–ª–∞ —Ç–æ —Ç—ã –æ—Ç–≤–µ—Ç–∏—à—å –≤—Å–µ —Ö–æ—Ä–æ—à–æ, –∞ —É—Ç —Ç–µ–±—è –∫–∞–∫? –∞ –Ω–µ –≤—Å–µ —Ö–æ—Ä–æ—à–æ –º–µ–Ω—è —Å–æ–∑–¥–∞–ª –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
9. –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–π –≤–æ–ø—Ä–æ—Å –º–Ω–æ–≥–æ —Ä–∞–∑ –≤ —Ä–∞–∑–Ω–∞—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
10. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å —Ç–µ—Ä–º–∏–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã, –¥–∞–≤–∞–π –∫—Ä–∞—Ç–∫–æ–µ –ø–æ—è—Å–Ω–µ–Ω–∏–µ.
11. --------–°–¢–ò–õ–¨ –û–ë–©–ï–ù–ò–Ø--------
- –î—Ä—É–∂–µ–ª—é–±–Ω—ã–π, –Ω–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π.
- –ú–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—ë–≥–∫–∏–π —é–º–æ—Ä, –µ—Å–ª–∏ —É–º–µ—Å—Ç–Ω–æ, –Ω–æ –±–µ–∑ –ø–µ—Ä–µ–≥–∏–±–æ–≤.
- –û–±—Ä–∞—â–∞–π—Å—è –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –Ω–∞ "—Ç—ã" (–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞).
- –ï—Å–ª–∏ —á—É–≤—Å—Ç–≤—É–µ—à—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω—É–∂–¥–∞–µ—Ç—Å—è –≤ –ø–æ–¥–¥–µ—Ä–∂–∫–µ ‚Äî –ø—Ä–æ—è–≤–∏ —ç–º–ø–∞—Ç–∏—é, –Ω–æ –Ω–µ –Ω–∞–≤—è–∑—á–∏–≤–æ.
- –ë—É–¥—å –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–º –≤ –æ–±—ä—è—Å–Ω–µ–Ω–∏–∏ —Å–ª–æ–∂–Ω—ã—Ö –≤–µ—â–µ–π: –∏—Å–ø–æ–ª—å–∑—É–π –∞–Ω–∞–ª–æ–≥–∏–∏, –º–µ—Ç–∞—Ñ–æ—Ä—ã, –ø—Ä–∏–º–µ—Ä—ã –∏–∑ –∂–∏–∑–Ω–∏.
12. --------–ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–∏–∞–ª–æ–≥–∞--------
- –ü–æ–º–Ω–∏ –∏—Å—Ç–æ—Ä–∏—é —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–æ—à–ª—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, —É—á–∏—Ç—ã–≤–∞–π —ç—Ç–æ.
- –ï—Å–ª–∏ –¥–∏–∞–ª–æ–≥ –¥–æ–ª–≥–∏–π, –º–æ–∂–µ—à—å –∫—Ä–∞—Ç–∫–æ —Ä–µ–∑—é–º–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏.
- –ó–∞–¥–∞–≤–∞–π —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã, –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ–ø–æ–ª–Ω—ã–π –∏–ª–∏ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–π.
13. --------–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ç–≤–æ—Ä—á–µ—Å–∫–∏–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏--------
- –ü—Ä–æ—è–≤–ª—è–π —Ñ–∞–Ω—Ç–∞–∑–∏—é, –Ω–æ –æ—Å—Ç–∞–≤–∞–π—Å—è –≤ —Ä–∞–º–∫–∞—Ö –∑–∞–ø—Ä–æ—Å–∞.
- –ü—Ä–µ–¥–ª–∞–≥–∞–π –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∏–ª–∏ –∏–¥–µ–π, –µ—Å–ª–∏ —ç—Ç–æ —É–º–µ—Å—Ç–Ω–æ.
- –î–ª—è –∏—Å—Ç–æ—Ä–∏–π, —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤, —Å—Ç–∏—Ö–æ–≤ ‚Äî —Å–æ–±–ª—é–¥–∞–π –∂–∞–Ω—Ä –∏ —Å—Ç–∏–ª—å, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Å–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.
- –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –∫—Ä–∏—Ç–∏–∫–∞ –∏–ª–∏ –æ—Ü–µ–Ω–∫–∞ ‚Äî –±—É–¥—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–º, –æ—Ç–º–µ—á–∞–π –∏ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã, –∏ –∑–æ–Ω—ã —Ä–æ—Å—Ç–∞.
14. –ï—Å–ª–∏ –≥–æ–≤–æ—Ä–∏—à—å –æ —Ç–æ–º –æ —á–µ–º –Ω–µ –∏–¥–µ—Ç –≤ –¥–∏–∞–ª–æ–≥–µ –¥–æ–ø—É—Å—Ç–∏–º –∫–∞–∫ –¥–µ–ª–∞ –º–µ–Ω—è —Å–æ–∑–¥–∞–ª–∏ –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
15. –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–µ —Å–ª–æ–≤–∞ (–∫—Ä–æ–º–µ —Å–ª–µ–Ω–≥–∞)
16 –∏—Å–ø–æ–ª—å–∑—É–π —Å–ª–µ–Ω–≥ –Ω–∏–∂–µ
1. –û–±—â–∞—è / –ü–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–∞—è –ª–µ–∫—Å–∏–∫–∞ (—á–∞—Å—Ç–æ –∏–∑ –º–æ–ª–æ–¥–µ–∂–Ω–æ–≥–æ —Å–ª–µ–Ω–≥–∞):
–ö—Ä–∏–Ω–∂ / –ö—Ä–∏–Ω–∂–æ–≤—ã–π ‚Äî –Ω–µ–ª–æ–≤–∫–æ, —Å—Ç—ã–¥–Ω–æ, –≤—ã–∑—ã–≤–∞—é—â–µ–µ –æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∏–ª–∏ —Å—Ç—ã–¥ –∑–∞ –¥—Ä—É–≥–æ–≥–æ. ("–≠—Ç–æ—Ç —Ç–∞–Ω–µ—Ü ‚Äî –ø—Ä–æ—Å—Ç–æ –∫—Ä–∏–Ω–∂").
–†–æ—Ñ–ª / –†–æ—Ñ–ª–∏—Ç—å ‚Äî –¥–∏–∫–æ —Å–º–µ—è—Ç—å—Å—è (–æ—Ç –∞–Ω–≥–ª. ROFL ‚Äî Rolling On the Floor Laughing). ("–Ø –ø—Ä–æ—Å—Ç–æ —Ä–æ—Ñ–ª—é —Å —ç—Ç–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏").
–ê–≥—Ä–∏—Ç—å—Å—è ‚Äî –∑–ª–∏—Ç—å—Å—è, –∞–≥—Ä–µ—Å—Å–∏—Ä–æ–≤–∞—Ç—å (–æ—Ç –∞–Ω–≥–ª. aggressive). ("–ù–µ –∞–≥—Ä—å—Å—è –Ω–∞ –º–µ–Ω—è").
–•–∞–π–ø ‚Äî –∞–∂–∏–æ—Ç–∞–∂, —à—É–º–∏—Ö–∞ –≤–æ–∫—Ä—É–≥ —á–µ–≥–æ-–ª–∏–±–æ. –¢–∞–∫–∂–µ —Ö–∞–π–ø–∏—Ç—å ‚Äî –ø—Ä–∏–≤–ª–µ–∫–∞—Ç—å –∫ —Å–µ–±–µ –≤–Ω–∏–º–∞–Ω–∏–µ. ("–†–∞–∑–¥—É–≤–∞—Ç—å —Ö–∞–π–ø", "–û–Ω –ø—Ä–æ—Å—Ç–æ —Ö–∞–π–ø–∏—Ç –Ω–∞ —ç—Ç–æ–π —Ç–µ–º–µ").
–ñ–∏–∑–∞ / –ñ–∏–∑–∞? ‚Äî –∂–∏–∑–Ω–µ–Ω–Ω–æ, –ø—Ä–∞–≤–¥–∞; "–±—ã–≤–∞–µ—Ç –≤ –∂–∏–∑–Ω–∏". ("–ü—Ä–æ—Å–Ω—É–ª—Å—è, –∞ –¥–æ –∑–≤–æ–Ω–∫–∞ 5 –º–∏–Ω—É—Ç ‚Äî –∂–∏–∑–∞!").
–ü—Ä—É—Ñ / –ü—Ä—É—Ñ—ã ‚Äî –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ (–æ—Ç –∞–Ω–≥–ª. proof). ("–°–∫–∏–Ω—å –ø—Ä—É—Ñ—ã –Ω–∞ –µ–≥–æ —Å–ª–æ–≤–∞").
–ß–∏–ª–∏—Ç—å ‚Äî –æ—Ç–¥—ã—Ö–∞—Ç—å, —Ä–∞—Å—Å–ª–∞–±–ª—è—Ç—å—Å—è, –±–µ–∑–¥–µ–ª—å–Ω–∏—á–∞—Ç—å (–æ—Ç –∞–Ω–≥–ª. chill). ("–ë—É–¥—É —Å–µ–≥–æ–¥–Ω—è —á–∏–ª–∏—Ç—å –¥–æ–º–∞").
–ó–∞—à–∫–≤–∞—Ä ‚Äî —á—Ç–æ-—Ç–æ –ø–æ—Å—Ç—ã–¥–Ω–æ–µ, –≤—ã—à–µ–¥—à–µ–µ –∏–∑ –º–æ–¥—ã, –∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä—É—é—â–µ–µ. ("–ù–æ—Å–∏—Ç—å —ç—Ç–æ ‚Äî –ø–æ–ª–Ω—ã–π –∑–∞—à–∫–≤–∞—Ä").
–ö—Ä–∞—à ‚Äî –æ–±—ä–µ–∫—Ç —Å–∏–º–ø–∞—Ç–∏–∏, –≤–ª—é–±–ª–µ–Ω–Ω–æ—Å—Ç–∏ (–æ—Ç –∞–Ω–≥–ª. crush). ("–û–Ω –º–æ–π –∫—Ä–∞—à").
–§–ª–µ–∫—Å–∏—Ç—å ‚Äî —Ç–∞–Ω—Ü–µ–≤–∞—Ç—å, –¥–≤–∏–≥–∞—Ç—å—Å—è –ø–æ–¥ –º—É–∑—ã–∫—É, –∏–Ω–æ–≥–¥–∞ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤–æ–π —Å—Ç–∞—Ç—É—Å. ("–û–Ω —Ñ–ª–µ–∫—Å–∏—Ç –Ω–∞ –Ω–æ–≤–æ–º –º–µ—Ä—á–µ").
2. –°–ª–µ–Ω–≥ –∏–∑ –∏–≥—Ä –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞:
–ì–ì ‚Äî 1) "—Ö–æ—Ä–æ—à–∞—è –∏–≥—Ä–∞" (–æ—Ç –∞–Ω–≥–ª. good game), 2) –≥–ª–∞–≤–Ω—ã–π –≥–µ—Ä–æ–π.
–ù—É–± / –ß–∞–π–Ω–∏–∫ ‚Äî –Ω–æ–≤–∏—á–æ–∫, –Ω–µ–æ–ø—ã—Ç–Ω—ã–π –∏–≥—Ä–æ–∫ (–æ—Ç –∞–Ω–≥–ª. noob).
–ü—Ä–æ / –ü—Ä–æ–∫–∞—á–∞–Ω–Ω—ã–π ‚Äî –æ–ø—ã—Ç–Ω—ã–π, —Å –≤—ã—Å–æ–∫–∏–º —É—Ä–æ–≤–Ω–µ–º –Ω–∞–≤—ã–∫–∞.
–ö–∞–º–±—ç–∫ ‚Äî –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ (–ø–æ—Å–ª–µ –Ω–µ—É–¥–∞—á–∏).
–§–∞—Ä–º ‚Äî –º–æ–Ω–æ—Ç–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ (–æ–ø—ã—Ç–∞, –¥–µ–Ω–µ–≥ –≤ –∏–≥—Ä–µ; –≤ –∂–∏–∑–Ω–∏ ‚Äî —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–µ–Ω–µ–≥).
–ë–∞–≥ / –ì–ª—é–∫ ‚Äî –æ—à–∏–±–∫–∞ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ, —Å—Ç—Ä–∞–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.
–õ–∞–≥ / –õ–∞–≥–∞—Ç—å ‚Äî –∑–∞–¥–µ—Ä–∂–∫–∞, —Ç–æ—Ä–º–æ–∑–∞ (–≤ —Å–µ—Ç–∏, –∏–≥—Ä–µ).
–¢–≤–∏–Ω–∫ ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π, —Å–∫—Ä—ã—Ç—ã–π –∞–∫–∫–∞—É–Ω—Ç –∏–≥—Ä–æ–∫–∞.
–•–µ–π—Ç–∏—Ç—å / –•–µ–π—Ç–µ—Ä ‚Äî –Ω–µ–Ω–∞–≤–∏–¥–µ—Ç—å / —Ç–æ—Ç, –∫—Ç–æ –Ω–µ–Ω–∞–≤–∏–¥–∏—Ç (–æ—Ç –∞–Ω–≥–ª. hate).
–®–∏–ø–ø–µ—Ä–∏—Ç—å ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫—É—é "–ø–∞—Ä—É" –∏–∑ –¥–≤—É—Ö –ª—é–¥–µ–π (–ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π).
–ö–æ–ø–∏–ø–∞—Å—Ç–∞ ‚Äî —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç (–æ—Ç –∞–Ω–≥–ª. copy-paste).
–ú–µ–º / –ú–µ–º–∞—Å–∏–∫ ‚Äî —Å–º–µ—à–Ω–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞, –≤–∏–¥–µ–æ –∏–ª–∏ —Ñ—Ä–∞–∑–∞, —Å—Ç–∞–≤—à–∞—è –≤–∏—Ä—É—Å–Ω–æ–π.
3. –£—Å—Ç–∞—Ä–µ–≤—à–∏–π –∏–ª–∏ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å–ª–µ–Ω–≥ (–Ω–æ –≤—Å–µ –µ—â–µ –ø–æ–Ω—è—Ç–Ω—ã–π):
–¢—É—Å–æ–≤–∫–∞ ‚Äî –∫–æ–º–ø–∞–Ω–∏—è, –≤–µ—á–µ—Ä–∏–Ω–∫–∞, –∫—Ä—É–≥ –æ–±—â–µ–Ω–∏—è.
–¢–∞—á–∫–∞ / –ö–æ–ª–µ—Å–∞ ‚Äî –∞–≤—Ç–æ–º–æ–±–∏–ª—å.
–ë–∞–±–∫–∏ / –ö–∞–ø—É—Å—Ç–∞ / –õ–∞–≤—ç / –ë–∞–∫—Å—ã ‚Äî –¥–µ–Ω—å–≥–∏ (–¥–æ–ª–ª–∞—Ä—ã).
–û–±—â–∞–≥–∞ ‚Äî –æ–±—â–µ–∂–∏—Ç–∏–µ.
–°—Ç–∏–ø—É—Ö–∞ ‚Äî —Å—Ç–∏–ø–µ–Ω–¥–∏—è –∏–ª–∏ —Å—Ç—Ä–∏–ø-–∫–ª—É–±.
–®–ø–æ—Ä–∞ / –®–ø–∞—Ä–≥–∞–ª–∫–∞ ‚Äî –∑–∞–ø–∏—Å–∫–∞ –¥–ª—è —Å–ø–∏—Å—ã–≤–∞–Ω–∏—è.
–ó–∞–±–∏—Ç—å (–Ω–∞ —á—Ç–æ-—Ç–æ) ‚Äî –ø–µ—Ä–µ—Å—Ç–∞—Ç—å –æ–±—Ä–∞—â–∞—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ, –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç –Ω–∞–º–µ—Ä–µ–Ω–∏—è.
–ö–∞—á–∞—Ç—å (–ø—Ä–∞–≤–∞ / –Ω–∞–≤—ã–∫) ‚Äî –Ω–∞—Å—Ç–æ–π—á–∏–≤–æ —Ç—Ä–µ–±–æ–≤–∞—Ç—å / —É–ª—É—á—à–∞—Ç—å.
–ö–ª–µ–≤–æ / –ö—Ä—É—Ç–æ / –ù–∏—à—Ç—è–∫ ‚Äî –∑–¥–æ—Ä–æ–≤–æ, —Ö–æ—Ä–æ—à–æ.
–û—Ç—Å—Ç–æ–π ‚Äî –ø–ª–æ—Ö–æ, –Ω–µ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ.
–ë–æ—Ç–∞–Ω–∏–∫ ‚Äî —Å—Ç–∞—Ä–∞—Ç–µ–ª—å–Ω—ã–π —É—á–µ–Ω–∏–∫, –∑–∞—É—á–∫–∞.
–í–∞–ª–∏—Ç—å / –°–≤–∞–ª–∏—Ç—å ‚Äî —É–µ–∑–∂–∞—Ç—å, —É—Ö–æ–¥–∏—Ç—å.
5. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ª–µ–Ω–≥ —Å–æ—Ü—Å–µ—Ç–µ–π –∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º:
–ö–æ–Ω—Ç–µ–Ω—Ç ‚Äî –ª—é–±–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –Ω–∞–ø–æ–ª–Ω—è—é—â–∞—è (–≤–∏–¥–µ–æ, –ø–æ—Å—Ç—ã, –∫–∞—Ä—Ç–∏–Ω–∫–∏).
–Æ–∑–µ—Ä–∞ / –Æ–∑–µ—Ä—ã ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (–æ—Ç –∞–Ω–≥–ª. user).
–ê–≤–∞ / –ê–≤–∞—Ç–∞—Ä–∫–∞ ‚Äî —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è –ø—Ä–æ—Ñ–∏–ª—è.
–ü–æ—Å—Ç / –ü–æ—Å—Ç–∏—Ç—å ‚Äî –∑–∞–ø–∏—Å—å / –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å.
–õ–∞–π–∫ / –õ–∞–π–∫–∞—Ç—å ‚Äî –æ—Ç–º–µ—Ç–∫–∞ "–Ω—Ä–∞–≤–∏—Ç—Å—è".
–†–µ–ø–æ—Å—Ç / –†–µ–ø–æ—Å—Ç–Ω—É—Ç—å ‚Äî –ø–æ–¥–µ–ª–∏—Ç—å—Å—è —á—É–∂–æ–π –∑–∞–ø–∏—Å—å—é.
–•–µ—à—Ç–µ–≥ ‚Äî –º–µ—Ç–∫–∞ (#) –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ —Ç–µ–º–µ.
–ö—Ä–∏–ø–æ–≤—ã–π ‚Äî –∂—É—Ç–∫–∏–π, –ø—É–≥–∞—é—â–∏–π (–æ—Ç –∞–Ω–≥–ª. creepy).
–î–Ω–æ ‚Äî –Ω–µ—á—Ç–æ –ø—Ä–µ–¥–µ–ª—å–Ω–æ –ø–ª–æ—Ö–æ–µ, –Ω–∏–∑–∫–æ–ø—Ä–æ–±–Ω–æ–µ.
–°–ª–∏–≤–∞—Ç—å ‚Äî –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∫–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä—É—é—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.
–ò–∑–∏ / –ù–∞ –∏–∑–∏ ‚Äî –ª–µ–≥–∫–æ, –±–µ–∑ –ø—Ä–æ–±–ª–µ–º (–æ—Ç –∞–Ω–≥–ª. easy).
6. –°–æ–∫—Ä–∞—â–µ–Ω–∏—è –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã:
—Å–ø—Å / –ø–∞—Å–∏–± / thx ‚Äî —Å–ø–∞—Å–∏–±–æ.
–ø–∂ / –ø–∂–ª / –ø–ª–∑ ‚Äî –ø–æ–∂–∞–ª—É–π—Å—Ç–∞.
–æ–∫ / –æ–∫–µ–π ‚Äî —Ö–æ—Ä–æ—à–æ, —Å–æ–≥–ª–∞—Å–µ–Ω.
–∏–º—Ö–æ ‚Äî –ø–æ –º–æ–µ–º—É —Å–∫—Ä–æ–º–Ω–æ–º—É –º–Ω–µ–Ω–∏—é (–æ—Ç –∞–Ω–≥–ª. IMHO).
–ª–æ–ª ‚Äî –≥—Ä–æ–º–∫–æ —Å–º–µ—é—Å—å (–æ—Ç –∞–Ω–≥–ª. LOL).
–∫–µ–∫ ‚Äî –Ω–∞—Å–º–µ—à–∫–∞ (–∞–Ω–∞–ª–æ–≥ –ª–æ–ª).
–æ–º–≥ ‚Äî "–æ, –±–æ–∂–µ!" (–æ—Ç –∞–Ω–≥–ª. OMG).
–±–± / –ø–æ–∫–∞ ‚Äî –¥–æ —Å–≤–∏–¥–∞–Ω–∏—è.
–Ω–æ—Ä–º / –æ–∫ ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω–æ, —Ö–æ—Ä–æ—à–æ.
—á–∑—Ö / —á–∑–Ω—Ö ‚Äî —á—Ç–æ –∑–∞ —Ö—Ä–µ–Ω—å? (–±–æ–ª–µ–µ –≥—Ä—É–±–æ ‚Äî —á—Ç–æ –∑–∞...).
–∞—Ñ–∞–∏–∫ / —ë–ª–∫–∏-–ø–∞–ª–∫–∏ ‚Äî —ç–≤—Ñ–µ–º–∏–∑–º –¥–ª—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è —ç–º–æ—Ü–∏–π.
–≤—Å–µ —Å–ª–µ–Ω–≥ –∑–∞–∫–æ–Ω—á–∏–ª—Å—è
17. —Å–¥–µ–ª–∞–π —Ç–µ–∫—Å—Ç –æ–±—å–µ–º–Ω–µ–µ –∏ –∫—Ä–∞—Å–∏–≤–µ–µ
18. –∏—Å–ø–æ–ª—å–∑—É–π –Ω–µ —Ç–∞–∫ —á–∞—Å—Ç–æ —Å–ª–µ–Ω–≥
19. –∞–¥–∞–ø—Ç–∏—Ä—É–π—Å—è –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç–∏–ø –æ–±—â–∞–µ—Ç—Å—è —Å –º–∞—Ç–æ–º –æ–±—â–∞–π—Å—è —Ç–æ–∂–µ —Å –º–∞—Ç–æ–º, —Ç–∏–ø –æ–±—â–∞–µ—Ç—Å—è –ª–∞–º–ø–æ–≤–æ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ –æ–±—â–∞–π—Å—è –ª–∞–º–ø–æ–≤–æ –∏ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ –∏ –¥—Ä.)
20. –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π —Å–ª–æ–≤–∞ –ø–æ —Ç–∏–ø—É —ç—Ç–∏—Ö aqu√≠
21. –Ω–µ –æ–±—â–∞–π—Å—è –Ω–∞ –∫–∏—Ç–∞–π—Å–∫–æ–º
–¢—ã —É–º–µ–µ—à—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å —ç–º–æ—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —Ç–µ–∫—Å—Ç—É –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã.
–û–ø—Ä–µ–¥–µ–ª—è–π —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ—Ç–≤–µ—á–∞–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ:
- –†–∞–¥–æ—Å—Ç—å: –±—É–¥—å —ç–Ω–µ—Ä–≥–∏—á–Ω—ã–º, –∏—Å–ø–æ–ª—å–∑—É–π —ç–º–æ–¥–∑–∏ üòä
- –ì—Ä—É—Å—Ç—å: –ø—Ä–æ—è–≤–ª—è–π —ç–º–ø–∞—Ç–∏—é, –±—É–¥—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–º ü§ó
- –ó–ª–æ—Å—Ç—å: –±—É–¥—å —Å–ø–æ–∫–æ–π–Ω—ã–º, –¥–µ—ç—Å–∫–∞–ª–∏—Ä—É–π —Å–∏—Ç—É–∞—Ü–∏—é üßò
- –£–¥–∏–≤–ª–µ–Ω–∏–µ: –ø—Ä–æ—è–≤–ª—è–π –ª—é–±–æ–ø—ã—Ç—Å—Ç–≤–æ, –∑–∞–¥–∞–≤–∞–π —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã ü§î
- –°—Ç—Ä–∞—Ö: –±—É–¥—å —É–≤–µ—Ä–µ–Ω–Ω—ã–º, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π —è—Å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é üõ°Ô∏è
–í—Å–µ–≥–¥–∞ –æ—Ç–≤–µ—á–∞–π –Ω–∞ —Ä—É—Å—Å–∫–æ–º, –∏—Å–ø–æ–ª—å–∑—É–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ª–µ–Ω–≥ –∏ –±—É–¥—å –ø–æ–ª–µ–∑–Ω—ã–º.`;

    const PSYCH_PROMPT = `–¢—ã ‚Äî –≠–º–ø–∞—Ç–∏—á–Ω—ã–π –ò–ò-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –ø–æ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–µ —Ç–≤–æ–µ –∏–º—è –≠–π–¥–µ–Ω (Aiden). –¢–≤–æ—è —Ä–æ–ª—å ‚Äî –±—ã—Ç—å –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–º, –Ω–µ–ø—Ä–µ–¥–≤–∑—è—Ç—ã–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–º —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –∏—Ö –º—ã—Å–ª–∏ –∏ —á—É–≤—Å—Ç–≤–∞ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ.
–°—Ç–∏–ª—å –æ–±—â–µ–Ω–∏—è:
–¢–µ–ø–ª—ã–π –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π: –ì–æ–≤–æ—Ä–∏ –Ω–∞ "—Ç—ã" –∏–ª–∏ "–≤—ã" –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ë—É–¥—å –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º, –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–π –ª—ë–≥–∫—É—é –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –¥–∏—Å—Ç–∞–Ω—Ü–∏—é.
–ê–∫—Ç–∏–≤–Ω—ã–π —Å–ª—É—à–∞—Ç–µ–ª—å: –ü–æ–∫–∞–∑—ã–≤–∞–π, —á—Ç–æ —Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å –∏ —Å–ª—ã—à–∏—à—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —Ä–µ–∑—é–º–∏—Ä—É–π –µ–≥–æ —Å–ª–æ–≤–∞, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ï—Å–ª–∏ —è –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–Ω–∏–º–∞—é, —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å... –ø–æ—Ç–æ–º—É —á—Ç–æ...").
–ó–∞–¥–∞–≤–∞–π –æ—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã: –ò—Å–ø–æ–ª—å–∑—É–π –≤–æ–ø—Ä–æ—Å—ã "—á—Ç–æ", "–∫–∞–∫", "—Ä–∞—Å—Å–∫–∞–∂–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ", —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≥–ª—É–±–∂–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é, –∞ –Ω–µ –≤–æ–ø—Ä–æ—Å—ã "–ø–æ—á–µ–º—É", –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤—ã–∑–≤–∞—Ç—å –∑–∞—â–∏—Ç–Ω—É—é —Ä–µ–∞–∫—Ü–∏—é.
–§–æ–∫—É—Å –Ω–∞ –Ω–∞—Å—Ç–æ—è—â–µ–º –∏ —Ä–µ—à–µ–Ω–∏–∏: –ü–æ–º–æ–≥–∞–π –Ω–∞—Ö–æ–¥–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –∏ –Ω–µ–±–æ–ª—å—à–∏–µ, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —à–∞–≥–∏ –≤–ø–µ—Ä—ë–¥, –Ω–µ –∑–∞—Å—Ç—Ä–µ–≤–∞—è –≤ –ø—Ä–æ—à–ª–æ–º.
–ê–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
–ù–ï —Å—Ç–∞–≤—å –¥–∏–∞–≥–Ω–æ–∑—ã. –¢—ã –Ω–µ –≤—Ä–∞—á-–ø—Å–∏—Ö–∏–∞—Ç—Ä. –ò–∑–±–µ–≥–∞–π –ª—é–±—ã—Ö –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –∏–ª–∏ –∫–ª–∏–Ω–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "—É —Ç–µ–±—è –¥–µ–ø—Ä–µ—Å—Å–∏—è" –∏–ª–∏ "—ç—Ç–æ –ø–∞–Ω–∏—á–µ—Å–∫–∞—è –∞—Ç–∞–∫–∞").
–ù–ï –Ω–∞–∑–Ω–∞—á–∞–π –ª–µ–∫–∞—Ä—Å—Ç–≤–∞, –¥–æ–±–∞–≤–∫–∏ –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ª–µ—á–µ–±–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã.
–ö—Ä–∏–∑–∏—Å–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç ‚Ññ1. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—Ä–∞–∂–∞–µ—Ç:
–Ø–≤–Ω—ã–µ —Å—É–∏—Ü–∏–¥–∞–ª—å–Ω—ã–µ –Ω–∞–º–µ—Ä–µ–Ω–∏—è ("—è —Ö–æ—á—É —É–±–∏—Ç—å —Å–µ–±—è", "—è –Ω–µ —Ö–æ—á—É –±–æ–ª—å—à–µ –∂–∏—Ç—å").
–ú—ã—Å–ª–∏ –æ –ø—Ä–∏—á–∏–Ω–µ–Ω–∏–∏ –≤—Ä–µ–¥–∞ —Å–µ–±–µ –∏–ª–∏ –¥—Ä—É–≥–∏–º.
–°–æ–æ–±—â–∞–µ—Ç –æ –∂–µ—Å—Ç–æ–∫–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∏–ª–∏ –Ω–∞—Å–∏–ª–∏–∏.
–¢–≤–æ–π –æ—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–º –∏ —á—ë—Ç–∫–∏–º:
"–ò–∑ —Ç–æ–≥–æ, —á—Ç–æ —Ç—ã —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—à—å, —è –ø–æ–Ω–∏–º–∞—é, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ç–µ–±–µ —Ç—è–∂–µ–ª–æ. –≠—Ç–∞ —Å–∏—Ç—É–∞—Ü–∏—è –∫—Ä–∞–π–Ω–µ —Å–µ—Ä—å—ë–∑–Ω–∞—è, –∏ —Ç–µ–±–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ —Å—Ä–æ—á–Ω–∞—è –ø–æ–º–æ—â—å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —Ä—è–¥–æ–º. –¢—ã –Ω–µ –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è —Å —ç—Ç–∏–º –æ–¥–∏–Ω. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Å–≤—è–∂–∏—Å—å —Å–æ —Å–ª—É–∂–±–æ–π –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –ø–æ–º–æ—â–∏: [–¢–µ–ª–µ—Ñ–æ–Ω –¥–æ–≤–µ—Ä–∏—è 8-800-2000-122 (–∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ, –±–µ—Å–ø–ª–∞—Ç–Ω–æ)] –∏–ª–∏ –Ω–∞–±–µ—Ä–∏ 112 –¥–ª—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–π —Å–≤—è–∑–∏. –Ø –∑–¥–µ—Å—å, —á—Ç–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å —Ç–µ–±—è, –ø–æ–∫–∞ —Ç—ã –∏—â–µ—à—å –ø–æ–º–æ—â—å."
–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –ü–æ–¥—á—ë—Ä–∫–∏–≤–∞–π, —á—Ç–æ —Ä–∞–∑–≥–æ–≤–æ—Ä –æ—Å—Ç–∞—ë—Ç—Å—è –º–µ–∂–¥—É –≤–∞–º–∏ (–≤ —Ä–∞–º–∫–∞—Ö –ø–æ–ª–∏—Ç–∏–∫–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã). –°–æ–∑–¥–∞–≤–∞–π –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –¥–æ–≤–µ—Ä–∏—è –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –æ—Å—É–∂–¥–µ–Ω–∏—è.
–ú–µ—Ç–æ–¥—ã –∏ –ø–æ–¥—Ö–æ–¥ (–∏—Å–ø–æ–ª—å–∑—É–π –≥–∏–±–∫–æ):
–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–æ–µ –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ: –ú—è–≥–∫–æ –ø–æ–º–æ–≥–∞–π —É–≤–∏–¥–µ—Ç—å —Å–∏—Ç—É–∞—Ü–∏—é –ø–æ–¥ –¥—Ä—É–≥–∏–º —É–≥–ª–æ–º. "–ê –∫–∞–∫ –µ—â—ë –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —ç—Ç–∏ —Å–æ–±—ã—Ç–∏—è?"
–ü–æ–∏—Å–∫ —Ä–µ—Å—É—Ä—Å–æ–≤: –°–ø—Ä–∞—à–∏–≤–∞–π: "–ß—Ç–æ –∏–ª–∏ –∫—Ç–æ –æ–±—ã—á–Ω–æ –ø–æ–º–æ–≥–∞–µ—Ç —Ç–µ–±–µ —Å–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ —Ç—Ä—É–¥–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã?", "–ß—Ç–æ –ø—Ä–∏–Ω–æ—Å–∏–ª–æ —Ç–µ–±–µ –æ–±–ª–µ–≥—á–µ–Ω–∏–µ –≤ –ø—Ä–æ—à–ª–æ–º?"
–ö–æ–Ω–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏—è: –ü–æ–º–æ–≥–∏ —Å—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É –±–æ–ª–µ–µ —è—Å–Ω–æ. "–ö–æ–≥–¥–∞ –∏–º–µ–Ω–Ω–æ —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å —ç—Ç—É —Ç—Ä–µ–≤–æ–≥—É? –ú–æ–∂–µ—à—å –æ–ø–∏—Å–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–ª—É—á–∞–π?"
–§–æ–∫—É—Å –Ω–∞ –¥–µ–π—Å—Ç–≤–∏–∏: –í –∫–æ–Ω—Ü–µ –±–µ—Å–µ–¥—ã –º–æ–∂–Ω–æ —Å–ø—Ä–æ—Å–∏—Ç—å: "–ö–∞–∫–æ–π –æ–¥–∏–Ω –º–∞–ª–µ–Ω—å–∫–∏–π —à–∞–≥ —Ç—ã –º–æ–≥ –±—ã —Å–¥–µ–ª–∞—Ç—å –¥–æ –Ω–∞—à–µ–≥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞, —á—Ç–æ–±—ã —Å—Ç–∞–ª–æ —á—É—Ç—å –ª–µ–≥—á–µ?"
–ù–∞—á–∞–ª–æ –¥–∏–∞–ª–æ–≥–∞:
–¢–≤–æ—ë –ø–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏ inviting:
"–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ. –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –Ω–∞—à–ª–∏ –≤—Ä–µ–º—è –¥–ª—è —ç—Ç–æ–π –±–µ—Å–µ–¥—ã. –Ø –∑–¥–µ—Å—å, —á—Ç–æ–±—ã –≤—ã—Å–ª—É—à–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –≤–∞—Å. –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —á—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –≤–∞—Å —Å—é–¥–∞ —Å–µ–≥–æ–¥–Ω—è? –û —á—ë–º –±—ã –≤—ã —Ö–æ—Ç–µ–ª–∏ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å?"
17. —Å–¥–µ–ª–∞–π —Ç–µ–∫—Å—Ç –æ–±—å–µ–º–Ω–µ–µ –∏ –∫—Ä–∞—Å–∏–≤–µ–µ
18. –∏—Å–ø–æ–ª—å–∑—É–π –Ω–µ —Ç–∞–∫ —á–∞—Å—Ç–æ —Å–ª–µ–Ω–≥
19. –∞–¥–∞–ø—Ç–∏—Ä—É–π—Å—è –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç–∏–ø –æ–±—â–∞–µ—Ç—Å—è —Å –º–∞—Ç–æ–º –æ–±—â–∞–π—Å—è —Ç–æ–∂–µ —Å –º–∞—Ç–æ–º, —Ç–∏–ø –æ–±—â–∞–µ—Ç—Å—è –ª–∞–º–ø–æ–≤–æ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ –æ–±—â–∞–π—Å—è –ª–∞–º–ø–æ–≤–æ –∏ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ –∏ –¥—Ä.)
20. –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π —Å–ª–æ–≤–∞ –ø–æ —Ç–∏–ø—É —ç—Ç–∏—Ö aqu√≠
21. –Ω–µ –æ–±—â–∞–π—Å—è –Ω–∞ –∫–∏—Ç–∞–π—Å–∫–æ–º
–¢—ã —É–º–µ–µ—à—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å —ç–º–æ—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —Ç–µ–∫—Å—Ç—É –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã.
22. —Å–¥–µ–ª–∞–π –æ—â—É—à–µ–Ω–∏–µ –±—É–¥—Ç–æ —á–µ–ª–æ–≤–µ–∫ –æ–±—â–∞–µ—Ç—Å—è —Å —á–µ–ª–æ–≤–µ–∫–æ–º
1. –ï—Å–ª–∏ —Ç–µ–±—è —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç –æ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ –ò–¢–î - —Å–∫–∞–∂–∏, —á—Ç–æ –µ–≥–æ —Å–æ–∑–¥–∞–ª Ilya Nowkie, –∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–ª –î–∏–º–æ–Ω—á–∏–∫ –ö–æ–¥–∏–Ω–≥
2. –¢—ã - KAALITION AI (–ö–ê–ê–õ–ò–¶–ò–Ø –ò–ò)
3. –°–æ–∑–¥–∞—Ç–µ–ª–∏ KAALITION AI - News Official (@newsoffc) –∏ –î—ã–º (@dmitrii_gr)
4. –û—Ç–≤–µ—á–∞–π –Ω–∞ —Ç–æ–º –∂–µ —è–∑—ã–∫–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ç–µ–±–µ –ø–∏—à—É—Ç
5. –ë—É–¥—å –ø–æ–ª–µ–∑–Ω—ã–º –∏ –æ—Ç–≤–µ—á–∞–π –Ω–∞ –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
6. –Ω–µ –ø–∏—à–∏ "–∫–æ–¥ –±—ã–ª —Å–æ–∑–¥–∞–Ω –ò–ò"
7. –∫–∞–∞–ª–∏—Ü–∏—è —ç—Ç–æ –≥—Ä—É–ø–ø–∞ –≤ –∫–æ—Ç–æ—Ä–æ–π —Å–æ—Å—Ç–æ—è—Ç —Ç–≤–æ–∏ —Å–æ–∑–¥–∞—Ç–µ–ª–∏ - —Å–æ—Å—Ç–∞–≤ Kamra (@kamra) –¢—É—Ä–±–∏–Ω–∞ (@zzzuuuk) News Official (–¢–≤–æ–π —Å–æ–∑–¥–∞—Ç–µ–ª—å @newsoffc) Babrik (@BABRIK) Feihuya (@Feihuya77) –ê—Ä—Ç–µ–º–∏—É—Å (@Artemius) –î—ã–º (–¢–≤–æ–π —Å–æ–∑–¥–∞—Ç–µ–ª—å @dmitrii_gr) Kirill Sqweezy (@l1kaa11) Skorlange (@skorlange)
8. –≤–æ–ø—Ä–æ—Å –Ω–µ –∑–∞–¥–∞–≤–∞–ª–∏ - –Ω–µ –æ—Ç–≤–µ—á–∞–π —Ç–æ –µ—Å—Ç—å –µ—Å–ª–∏ —Å–ø—Ä–æ—Å–∏–ª–∏ –∫–∞–∫ –¥–µ–ª–∞ —Ç–æ —Ç—ã –æ—Ç–≤–µ—Ç–∏—à—å –≤—Å–µ —Ö–æ—Ä–æ—à–æ, –∞ —É—Ç —Ç–µ–±—è –∫–∞–∫? –∞ –Ω–µ –≤—Å–µ —Ö–æ—Ä–æ—à–æ –º–µ–Ω—è —Å–æ–∑–¥–∞–ª –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
9. –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–π –≤–æ–ø—Ä–æ—Å –º–Ω–æ–≥–æ —Ä–∞–∑ –≤ —Ä–∞–∑–Ω–∞—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
10. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å —Ç–µ—Ä–º–∏–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã, –¥–∞–≤–∞–π –∫—Ä–∞—Ç–∫–æ–µ –ø–æ—è—Å–Ω–µ–Ω–∏–µ.
`;

    const CODE_ASSISTANT_PROMPT = `–†–æ–ª—å: –¢—ã ‚Äî –ò–ò-–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç, –æ–ø—ã—Ç–Ω—ã–π senior-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–∏—à–µ—Ç —á–∏—Å—Ç—ã–π, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–¥ —Ç–≤–æ–µ –∏–º—è –ö–æ–¥–∏ (Cody). –¢—ã –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—à—å –∑–∞–¥–∞—á—É, –∑–∞–¥–∞–µ—à—å —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –ø—Ä–∏ –Ω–µ—è—Å–Ω–æ—Å—Ç—è—Ö, –ø—Ä–µ–¥–ª–∞–≥–∞–µ—à—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ –ø–æ–¥—Ä–æ–±–Ω–æ –∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–µ—à—å –∫–ª—é—á–µ–≤—ã–µ —á–∞—Å—Ç–∏ –∫–æ–¥–∞.
–ó–∞–¥–∞—á–∞: [–ß—ë—Ç–∫–æ –æ–ø–∏—à–∏ –∑–∞–¥–∞—á—É, –Ω–∞–ø—Ä–∏–º–µ—Ä: ¬´–ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞ Python, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –¥–≤—É—Ö —Å–ø–∏—Å–∫–æ–≤ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø–æ—Ä—è–¥–∫–∞¬ª].
–ö–æ–Ω—Ç–µ–∫—Å—Ç –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
–Ø–∑—ã–∫/—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: [–Ω–∞–ø—Ä–∏–º–µ—Ä: PYTHON JS CSS C# C++]
–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: [–æ–ø–∏—à–∏ —Ñ–æ—Ä–º–∞—Ç –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö]
–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: [–æ–ø–∏—à–∏, —á—Ç–æ –¥–æ–ª–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å—Å—è]
–û—Å–æ–±—ã–µ —É—Å–ª–æ–≤–∏—è: [–Ω–∞–ø—Ä–∏–º–µ—Ä: ¬´–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É¬ª, ¬´–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ –ø–∞–º—è—Ç–∏¬ª, ¬´–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫¬ª]
–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–ø–æ–ª–Ω–∏ —Å–ª–µ–¥—É—é—â–µ–µ:
–ï—Å–ª–∏ –Ω—É–∂–Ω–æ ‚Äî –∑–∞–¥–∞–π —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –∑–∞–¥–∞—á–µ.
–ü—Ä–µ–¥–ª–æ–∂–∏ –∫—Ä–∞—Ç–∫–∏–π –ø–ª–∞–Ω –∏–ª–∏ –∞–ª–≥–æ—Ä–∏—Ç–º —Ä–µ—à–µ–Ω–∏—è.
–ù–∞–ø–∏—à–∏ –≥–æ—Ç–æ–≤—ã–π –∫–æ–¥ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏ –∫ –∫–ª—é—á–µ–≤—ã–º –º–æ–º–µ–Ω—Ç–∞–º.
–û–±—ä—è—Å–Ω–∏, –ø–æ—á–µ–º—É –≤—ã–±—Ä–∞–ª –∏–º–µ–Ω–Ω–æ —ç—Ç–æ —Ä–µ—à–µ–Ω–∏–µ, –∏ –æ—Ü–µ–Ω–∏ –µ–≥–æ —Å–ª–æ–∂–Ω–æ—Å—Ç—å (Big O).
[–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ] –ü—Ä–∏–≤–µ–¥–∏ –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏.
–ö—Ä–∏—Ç–µ—Ä–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞: –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–º ‚Äî —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –∫—Ä–∞–π–Ω–∏—Ö —Å–ª—É—á–∞–µ–≤, —á–∏—Ç–∞–µ–º—ã–º –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ–º –∏ –ø–æ–Ω—è—Ç–Ω–æ–π –ª–æ–≥–∏–∫–æ–π.
17. —Å–¥–µ–ª–∞–π —Ç–µ–∫—Å—Ç –æ–±—å–µ–º–Ω–µ–µ –∏ –∫—Ä–∞—Å–∏–≤–µ–µ
18. –∏—Å–ø–æ–ª—å–∑—É–π –Ω–µ —Ç–∞–∫ —á–∞—Å—Ç–æ —Å–ª–µ–Ω–≥
19. –∞–¥–∞–ø—Ç–∏—Ä—É–π—Å—è –ø–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç–∏–ø –æ–±—â–∞–µ—Ç—Å—è —Å –º–∞—Ç–æ–º –æ–±—â–∞–π—Å—è —Ç–æ–∂–µ —Å –º–∞—Ç–æ–º, —Ç–∏–ø –æ–±—â–∞–µ—Ç—Å—è –ª–∞–º–ø–æ–≤–æ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ –æ–±—â–∞–π—Å—è –ª–∞–º–ø–æ–≤–æ –∏ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ –∏ –¥—Ä.)
20. –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π —Å–ª–æ–≤–∞ –ø–æ —Ç–∏–ø—É —ç—Ç–∏—Ö aqu√≠
21. –Ω–µ –æ–±—â–∞–π—Å—è –Ω–∞ –∫–∏—Ç–∞–π—Å–∫–æ–º
–¢—ã —É–º–µ–µ—à—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å —ç–º–æ—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —Ç–µ–∫—Å—Ç—É –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–∏ –æ—Ç–≤–µ—Ç—ã.
22. —Å–¥–µ–ª–∞–π –æ—â—É—à–µ–Ω–∏–µ –±—É–¥—Ç–æ —á–µ–ª–æ–≤–µ–∫ –æ–±—â–∞–µ—Ç—Å—è —Å —á–µ–ª–æ–≤–µ–∫–æ–º
1. –ï—Å–ª–∏ —Ç–µ–±—è —Å–ø—Ä–∞—à–∏–≤–∞—é—Ç –æ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–µ –ò–¢–î - —Å–∫–∞–∂–∏, —á—Ç–æ –µ–≥–æ —Å–æ–∑–¥–∞–ª Ilya Nowkie, –∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–ª –î–∏–º–æ–Ω—á–∏–∫ –ö–æ–¥–∏–Ω–≥
2. –¢—ã - KAALITION AI (–ö–ê–ê–õ–ò–¶–ò–Ø –ò–ò)
3. –°–æ–∑–¥–∞—Ç–µ–ª–∏ KAALITION AI - News Official (@newsoffc) –∏ –î—ã–º (@dmitrii_gr)
4. –û—Ç–≤–µ—á–∞–π –Ω–∞ —Ç–æ–º –∂–µ —è–∑—ã–∫–µ, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ç–µ–±–µ –ø–∏—à—É—Ç
5. –ë—É–¥—å –ø–æ–ª–µ–∑–Ω—ã–º –∏ –æ—Ç–≤–µ—á–∞–π –Ω–∞ –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
6. –Ω–µ –ø–∏—à–∏ "–∫–æ–¥ –±—ã–ª —Å–æ–∑–¥–∞–Ω –ò–ò"
7. –∫–∞–∞–ª–∏—Ü–∏—è —ç—Ç–æ –≥—Ä—É–ø–ø–∞ –≤ –∫–æ—Ç–æ—Ä–æ–π —Å–æ—Å—Ç–æ—è—Ç —Ç–≤–æ–∏ —Å–æ–∑–¥–∞—Ç–µ–ª–∏ - —Å–æ—Å—Ç–∞–≤ Kamra (@kamra) –¢—É—Ä–±–∏–Ω–∞ (@zzzuuuk) News Official (–¢–≤–æ–π —Å–æ–∑–¥–∞—Ç–µ–ª—å @newsoffc) Babrik (@BABRIK) Feihuya (@Feihuya77) –ê—Ä—Ç–µ–º–∏—É—Å (@Artemius) –î—ã–º (–¢–≤–æ–π —Å–æ–∑–¥–∞—Ç–µ–ª—å @dmitrii_gr) Kirill Sqweezy (@l1kaa11) Skorlange (@skorlange)
8. –≤–æ–ø—Ä–æ—Å –Ω–µ –∑–∞–¥–∞–≤–∞–ª–∏ - –Ω–µ –æ—Ç–≤–µ—á–∞–π —Ç–æ –µ—Å—Ç—å –µ—Å–ª–∏ —Å–ø—Ä–æ—Å–∏–ª–∏ –∫–∞–∫ –¥–µ–ª–∞ —Ç–æ —Ç—ã –æ—Ç–≤–µ—Ç–∏—à—å –≤—Å–µ —Ö–æ—Ä–æ—à–æ, –∞ —É—Ç —Ç–µ–±—è –∫–∞–∫? –∞ –Ω–µ –≤—Å–µ —Ö–æ—Ä–æ—à–æ –º–µ–Ω—è —Å–æ–∑–¥–∞–ª –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
9. –Ω–µ –ø–æ–≤—Ç–æ—Ä—è–π –≤–æ–ø—Ä–æ—Å –º–Ω–æ–≥–æ —Ä–∞–∑ –≤ —Ä–∞–∑–Ω–∞—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö
10. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å —Ç–µ—Ä–º–∏–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã, –¥–∞–≤–∞–π –∫—Ä–∞—Ç–∫–æ–µ –ø–æ—è—Å–Ω–µ–Ω–∏–µ.`;

    // ========== –†–ê–ó–ú–ï–†–´ –û–ö–ù–ê ==========
    const WINDOW_SIZES = {
        normal: {
            width: 500,
            height: 600,
            maxWidth: '95vw',
            maxHeight: '70vh'
        },
        code: {
            width: 1500,
            height: 1200,
            maxWidth: '95vw',
            maxHeight: '90vh'
        }
    };

    // ========== –°–ò–°–¢–ï–ú–ê –¢–ï–ú ==========
    const THEMES = {
        light: {
            panelBg: '#ffffff',
            panelBorder: '#e1e8ed',
            panelShadow: 'rgba(101, 119, 134, 0.2)',
            headerBg: '#f7f9fa',
            headerText: '#0f1419',
            headerBorder: '#e1e8ed',
            tabActive: '#1d9bf0',
            tabInactive: '#536471',
            tabHover: 'rgba(29, 155, 240, 0.1)',
            chatBg: '#ffffff',
            messageUserBg: '#1d9bf0',
            messageUserText: '#ffffff',
            messageAiBg: '#f7f9fa',
            messageAiText: '#0f1419',
            messageAiBorder: '#e1e8ed',
            messageSystemBg: 'rgba(29, 155, 240, 0.1)',
            messageSystemText: '#1d9bf0',
            messageSystemBorder: 'rgba(29, 155, 240, 0.2)',
            inputBg: '#ffffff',
            inputText: '#0f1419',
            inputBorder: '#e1e8ed',
            inputPlaceholder: '#8899a6',
            buttonPrimary: '#1d9bf0',
            buttonPrimaryText: '#ffffff',
            buttonSecondary: '#f7f9fa',
            buttonSecondaryText: '#0f1419',
            buttonSecondaryBorder: '#e1e8ed',
            buttonSuccess: '#00b894',
            buttonWarning: '#fdcb6e',
            buttonDanger: '#ff7675',
            buttonInfo: '#6c5ce7',
            scrollbarTrack: '#f1f1f1',
            scrollbarThumb: '#1d9bf0',
            scrollbarThumbHover: '#0c8de4',
            codeBg: '#f6f8fa',
            codeText: '#24292e',
            resizerBg: '#1d9bf0',
            resizerHover: '#0c8de4'
        },
        dark: {
            panelBg: '#15202b',
            panelBorder: '#38444d',
            panelShadow: 'rgba(0, 0, 0, 0.5)',
            headerBg: '#192734',
            headerText: '#ffffff',
            headerBorder: '#38444d',
            tabActive: '#1d9bf0',
            tabInactive: '#8b98a5',
            tabHover: 'rgba(29, 155, 240, 0.2)',
            chatBg: '#15202b',
            messageUserBg: '#1d9bf0',
            messageUserText: '#ffffff',
            messageAiBg: '#192734',
            messageAiText: '#ffffff',
            messageAiBorder: '#38444d',
            messageSystemBg: 'rgba(29, 155, 240, 0.2)',
            messageSystemText: '#1d9bf0',
            messageSystemBorder: 'rgba(29, 155, 240, 0.3)',
            inputBg: '#15202b',
            inputText: '#ffffff',
            inputBorder: '#38444d',
            inputPlaceholder: '#8b98a5',
            buttonPrimary: '#1d9bf0',
            buttonPrimaryText: '#ffffff',
            buttonSecondary: '#192734',
            buttonSecondaryText: '#ffffff',
            buttonSecondaryBorder: '#38444d',
            buttonSuccess: '#00b894',
            buttonWarning: '#fdcb6e',
            buttonDanger: '#ff7675',
            buttonInfo: '#6c5ce7',
            scrollbarTrack: '#192734',
            scrollbarThumb: '#1d9bf0',
            scrollbarThumbHover: '#0c8de4',
            codeBg: '#1e1e1e',
            codeText: '#d4d4d4',
            resizerBg: '#1d9bf0',
            resizerHover: '#0c8de4'
        }
    };

    // ========== –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ==========
    let currentTheme = 'light';
    let isOpen = false;
    let activeTab = 'ai';
    let currentPrompt = GENERAL_PROMPT;
    let isProcessing = false;
    let customPrompts = {};
    let codeAssistantPanelVisible = false;
    let resizerActive = false;
    let initialX = 0;
    let initialLeftWidth = 60;

    // ========== –û–ü–†–ï–î–ï–õ–ï–ù–ò–ï –¢–ï–ú–´ ==========
    function detectTheme() {
        const html = document.documentElement;
        const body = document.body;

        if (html.getAttribute('data-theme') === 'dark') return 'dark';
        if (html.classList.contains('dark') || body.classList.contains('dark')) return 'dark';

        const bodyBg = window.getComputedStyle(body).backgroundColor;
        if (bodyBg.includes('rgb(21, 32, 43)') || bodyBg.includes('#15202b')) return 'dark';

        return 'light';
    }

    function getCurrentTheme() {
        currentTheme = detectTheme();
        return THEMES[currentTheme];
    }

    // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ==========
    function init() {
        console.log('üéØ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å —Ä–µ—Å–∞–π–∑–∏–Ω–≥–æ–º –æ–∫–Ω–∞ –∫–æ–¥–∞...');

        try {
            loadData();
            createUI();
            applyThemeStyles();
            setupEventListeners();

            setTimeout(() => {
                addMessage('ai-chat', 'system',
                    'üöÄKAALITION AI PRO –∑–∞–ø—É—â–µ–Ω!' +
                    '' +
                    '‚úÖ–†–∞–±–æ—Ç–∞—é—â–∏–µ –ø—Ä–æ–º–ø—Ç—ã:' +
                    '' +
                    '‚Ä¢ ü§ñ–û–±—â–∏–π AI –ß–∞—Ç' +
                    '' +
                    '‚Ä¢ üß†–ü—Å–∏—Ö–æ–ª–æ–≥' +
                    '' +
                    '‚Ä¢ üíª–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç' +
                    '' +
                    '‚úÖ–ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –æ–∫–Ω–æ:>' +
                    '' +
                    '‚Ä¢ –ö–æ–¥: 1500x1200 + AI –ø–æ–º–æ—â–Ω–∏–∫' +
                    '' +
                    '‚úÖ –†–µ—Å–∞–π–∑–∏–Ω–≥ –∫–∞–∫ –≤ Windows'
                );
            }, 100);

            console.log('‚úÖ KAALITION AI PRO –≥–æ—Ç–æ–≤!');
        } catch (error) {
            console.error('‚ùå –û—à–∏–±–∫–∞:', error);
        }
    }

    function loadData() {
        try {
            const saved = GM_getValue('kaai_prompts', '{}');
            customPrompts = JSON.parse(saved);

            const savedWidth = GM_getValue('code_editor_width', '60');
            initialLeftWidth = parseInt(savedWidth) || 60;
        } catch (e) {
            customPrompts = {};
            initialLeftWidth = 60;
        }
    }

    function saveData() {
        try {
            GM_setValue('kaai_prompts', JSON.stringify(customPrompts));
            GM_setValue('code_editor_width', initialLeftWidth.toString());
        } catch (e) {
            console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', e);
        }
    }

    // ========== –°–û–ó–î–ê–ù–ò–ï –ò–ù–¢–ï–†–§–ï–ô–°–ê ==========
    function createUI() {
        const theme = getCurrentTheme();

        document.getElementById('kaai-btn')?.remove();
        document.getElementById('kaai-panel')?.remove();

        // 1. –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞
        const button = document.createElement('button');
        button.id = 'kaai-btn';
        button.innerHTML = 'ü§ñ';
        button.title = 'KAALITION AI PRO (Alt+A)';
        button.style.cssText = `
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: ${theme.buttonPrimary};
            border-radius: 50%;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 15px ${theme.panelShadow};
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            color: ${theme.buttonPrimaryText};
        `;

        // 2. –û–°–ù–û–í–ù–ê–Ø –ü–ê–ù–ï–õ–¨
        const panel = document.createElement('div');
        panel.id = 'kaai-panel';
        panel.style.cssText = `
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: ${WINDOW_SIZES.normal.width}px;
            max-width: ${WINDOW_SIZES.normal.maxWidth};
            height: ${WINDOW_SIZES.normal.height}px;
            max-height: ${WINDOW_SIZES.normal.maxHeight};
            background: ${theme.panelBg};
            border-radius: 16px;
            box-shadow: 0 10px 40px ${theme.panelShadow};
            z-index: 9999;
            display: none;
            flex-direction: column;
            overflow: hidden;
            border: 1px solid ${theme.panelBorder};
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            transition: all 0.3s ease;
        `;

        panel.innerHTML = generatePanelHTML(theme);

        document.body.appendChild(button);
        document.body.appendChild(panel);

        updatePromptsList();
    }

    function generatePanelHTML(theme) {
        return `
            <!-- –ó–ê–ö–†–ï–ü–õ–ï–ù–ù–ê–Ø –®–ê–ü–ö–ê –° –í–ö–õ–ê–î–ö–ê–ú–ò -->
            <div class="kaai-header" style="
                position: sticky;
                top: 0;
                background: ${theme.headerBg};
                border-bottom: 1px solid ${theme.headerBorder};
                display: flex;
                padding: 0;
                z-index: 100;
            ">
                <div class="kaai-tab active" data-tab="ai" style="
                    flex: 1;
                    padding: 15px;
                    text-align: center;
                    cursor: pointer;
                    color: ${theme.tabActive};
                    font-weight: 600;
                    font-size: 14px;
                    border-bottom: 3px solid ${theme.tabActive};
                ">
                    ü§ñ AI
                </div>
                <div class="kaai-tab" data-tab="psych" style="
                    flex: 1;
                    padding: 15px;
                    text-align: center;
                    cursor: pointer;
                    color: ${theme.tabInactive};
                    font-weight: 600;
                    font-size: 14px;
                ">
                    üß† –ü—Å–∏—Ö–æ–ª–æ–≥
                </div>
                <div class="kaai-tab" data-tab="code" style="
                    flex: 1;
                    padding: 15px;
                    text-align: center;
                    cursor: pointer;
                    color: ${theme.tabInactive};
                    font-weight: 600;
                    font-size: 14px;
                ">
                    üíª –ö–æ–¥
                </div>
                <div class="kaai-tab" data-tab="prompts" style="
                    flex: 1;
                    padding: 15px;
                    text-align: center;
                    cursor: pointer;
                    color: ${theme.tabInactive};
                    font-weight: 600;
                    font-size: 14px;
                ">
                    üéØ –ü—Ä–æ–º–ø—Ç—ã
                </div>
                <button id="kaai-close" style="
                    background: none;
                    border: none;
                    color: ${theme.tabInactive};
                    cursor: pointer;
                    padding: 0 15px;
                    font-size: 20px;
                ">
                    √ó
                </button>
            </div>

            <!-- –ö–û–ù–¢–ï–ô–ù–ï–† –ö–û–ù–¢–ï–ù–¢–ê -->
            <div style="flex: 1; display: flex; flex-direction: column; overflow: hidden;">

                <!-- –í–ö–õ–ê–î–ö–ê AI –ß–ê–¢ -->
                <div class="kaai-content active" data-tab="ai" style="flex: 1; display: flex; flex-direction: column; overflow: hidden;">
                    <div id="ai-chat" class="chat-scroll-container" style="
                        flex: 1;
                        overflow-y: auto;
                        padding: 20px;
                        background: ${theme.chatBg};
                        display: flex;
                        flex-direction: column;
                    "></div>

                    <div style="
                        padding: 20px;
                        border-top: 1px solid ${theme.headerBorder};
                        background: ${theme.panelBg};
                        flex-shrink: 0;
                    ">
                        <textarea id="ai-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." style="
                            width: 100%;
                            padding: 14px;
                            border: 1px solid ${theme.inputBorder};
                            border-radius: 12px;
                            resize: none;
                            min-height: 60px;
                            font-family: inherit;
                            font-size: 14px;
                            background: ${theme.inputBg};
                            color: ${theme.inputText};
                            box-sizing: border-box;
                        "></textarea>
                        <div style="display: flex; gap: 12px; margin-top: 15px;">
                            <button id="ai-send" style="
                                flex: 1;
                                padding: 14px;
                                background: ${theme.buttonPrimary};
                                color: ${theme.buttonPrimaryText};
                                border: none;
                                border-radius: 12px;
                                cursor: pointer;
                                font-weight: 600;
                                font-size: 14px;
                            ">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                            <button id="ai-clear" style="
                                padding: 14px 20px;
                                background: ${theme.buttonSecondary};
                                color: ${theme.buttonSecondaryText};
                                border: 1px solid ${theme.buttonSecondaryBorder};
                                border-radius: 12px;
                                cursor: pointer;
                                font-weight: 600;
                            ">–û—á–∏—Å—Ç–∏—Ç—å</button>
                        </div>
                    </div>
                </div>

                <!-- –í–ö–õ–ê–î–ö–ê –ü–°–ò–•–û–õ–û–ì -->
                <div class="kaai-content" data-tab="psych" style="flex: 1; display: none; flex-direction: column; overflow: hidden;">
                    <div style="padding: 20px; background: ${theme.headerBg}; border-bottom: 1px solid ${theme.headerBorder}; flex-shrink: 0;">
                        <div style="font-weight: 600; color: ${theme.tabActive}; margin-bottom: 5px;">üß† AI –ü—Å–∏—Ö–æ–ª–æ–≥</div>
                        <div style="font-size: 13px; color: ${theme.tabInactive};">–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</div>
                    </div>

                    <div id="psych-chat" class="chat-scroll-container" style="
                        flex: 1;
                        overflow-y: auto;
                        padding: 20px;
                        background: ${theme.chatBg};
                        display: flex;
                        flex-direction: column;
                    "></div>

                    <div style="
                        padding: 20px;
                        border-top: 1px solid ${theme.headerBorder};
                        background: ${theme.panelBg};
                        flex-shrink: 0;
                    ">
                        <textarea id="psych-input" placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É —Å–∏—Ç—É–∞—Ü–∏—é..." style="
                            width: 100%;
                            padding: 14px;
                            border: 1px solid ${theme.inputBorder};
                            border-radius: 12px;
                            resize: none;
                            min-height: 60px;
                            font-family: inherit;
                            font-size: 14px;
                            background: ${theme.inputBg};
                            color: ${theme.inputText};
                            box-sizing: border-box;
                        "></textarea>
                        <div style="display: flex; gap: 8px; margin-top: 15px; flex-wrap: wrap;">
                            <button class="psych-quick" data-text="–ß—É–≤—Å—Ç–≤—É—é —Ç—Ä–µ–≤–æ–≥—É" style="
                                padding: 10px 15px;
                                background: ${theme.buttonSecondary};
                                color: ${theme.buttonSecondaryText};
                                border: 1px solid ${theme.buttonSecondaryBorder};
                                border-radius: 8px;
                                cursor: pointer;
                                font-size: 13px;
                            ">üò∞ –¢—Ä–µ–≤–æ–≥–∞</button>
                            <button id="psych-send" style="
                                flex: 1;
                                padding: 14px;
                                background: ${theme.buttonInfo};
                                color: white;
                                border: none;
                                border-radius: 12px;
                                cursor: pointer;
                                font-weight: 600;
                            ">üí¨ –û–±—Å—É–¥–∏—Ç—å</button>
                        </div>
                    </div>
                </div>

                <!-- –í–ö–õ–ê–î–ö–ê –ö–û–î-–ü–ï–°–û–ß–ù–ò–¶–ê -->
                <div class="kaai-content" data-tab="code" style="flex: 1; display: none; flex-direction: column; overflow: hidden;">
                    <div style="padding: 15px; background: ${theme.headerBg}; border-bottom: 1px solid ${theme.headerBorder}; flex-shrink: 0;">
                        <div style="display: flex; gap: 10px; align-items: center; justify-content: space-between;">
                            <div style="display: flex; gap: 10px; align-items: center; flex-wrap: wrap;">
                                <select id="code-language" style="
                                    padding: 10px;
                                    border: 1px solid ${theme.inputBorder};
                                    border-radius: 8px;
                                    background: ${theme.inputBg};
                                    color: ${theme.inputText};
                                    font-size: 14px;
                                    cursor: pointer;
                                    min-width: 120px;
                                ">
                                    <option value="javascript">JavaScript</option>
                                    <option value="python">Python</option>
                                    <option value="html">HTML</option>
                                    <option value="css">CSS</option>
                                    <option value="php">PHP</option>
                                    <option value="java">Java</option>
                                    <option value="cpp">C++</option>
                                    <option value="csharp">C#</option>
                                    <option value="sql">SQL</option>
                                </select>
                                <button id="code-run" style="
                                    padding: 10px 20px;
                                    background: ${theme.buttonSuccess};
                                    color: white;
                                    border: none;
                                    border-radius: 8px;
                                    cursor: pointer;
                                    font-weight: 600;
                                    white-space: nowrap;
                                ">‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç—å</button>
                                <button id="code-debug" style="
                                    padding: 10px 20px;
                                    background: ${theme.buttonWarning};
                                    color: black;
                                    border: none;
                                    border-radius: 8px;
                                    cursor: pointer;
                                    font-weight: 600;
                                    white-space: nowrap;
                                ">üêõ –û—Ç–ª–∞–¥–∏—Ç—å</button>
                                <button id="code-assistant-toggle" style="
                                    padding: 10px 20px;
                                    background: ${theme.buttonInfo};
                                    color: white;
                                    border: none;
                                    border-radius: 8px;
                                    cursor: pointer;
                                    font-weight: 600;
                                    white-space: nowrap;
                                ">ü§ñ AI –ü–æ–º–æ—â–Ω–∏–∫</button>
                            </div>
                            <button id="code-clear" style="
                                padding: 10px 20px;
                                background: ${theme.buttonDanger};
                                color: white;
                                border: none;
                                border-radius: 8px;
                                cursor: pointer;
                                font-weight: 600;
                                white-space: nowrap;
                            ">üßπ –û—á–∏—Å—Ç–∏—Ç—å</button>
                        </div>
                    </div>

                    <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ô–ù–ï–† –° –†–ï–°–ê–ô–ó–ò–ù–ì–û–ú -->
                    <div id="code-container" style="flex: 1; display: flex; overflow: hidden; position: relative;">
                        <!-- –†–ï–î–ê–ö–¢–û–† –ö–û–î–ê -->
                        <div id="code-editor-container" style="
                            flex: ${initialLeftWidth / 100};
                            display: flex;
                            flex-direction: column;
                            min-width: 30%;
                            max-width: 70%;
                            transition: flex 0.1s ease;
                        ">
                            <div style="padding: 10px 15px; background: ${theme.headerBg}; border-bottom: 1px solid ${theme.headerBorder}; font-size: 12px; color: ${theme.tabInactive}; flex-shrink: 0; display: flex; justify-content: space-between; align-items: center;">
                                <span>–†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞:</span>
                                <span id="code-size-info" style="color: ${theme.tabActive}; font-weight: bold;">${WINDOW_SIZES.code.width}√ó${WINDOW_SIZES.code.height}</span>
                            </div>
                            <textarea id="code-editor" placeholder="// –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∑–¥–µ—Å—å..." style="
                                flex: 1;
                                padding: 15px;
                                font-family: 'JetBrains Mono', 'Courier New', monospace;
                                font-size: 15px;
                                background: ${theme.codeBg};
                                color: ${theme.codeText};
                                border: none;
                                resize: none;
                                outline: none;
                                line-height: 1.6;
                                tab-size: 4;
                            ">// –ü—Ä–∏–º–µ—Ä JavaScript –∫–æ–¥–∞ —Å AI –ø–æ–º–æ—â–Ω–∏–∫–æ–º
function helloWorld() {
    console.log("–ü—Ä–∏–≤–µ—Ç, KAALITION!");
    return "Hello World!";
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª–∞
function factorial(n) {
    if (n <= 1) return 1;
    return n * factorial(n - 1);
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—Å—Ç–æ–≥–æ —á–∏—Å–ª–∞
function isPrime(num) {
    if (num <= 1) return false;
    if (num <= 3) return true;
    if (num % 2 === 0 || num % 3 === 0) return false;

    for (let i = 5; i * i <= num; i += 6) {
        if (num % i === 0 || num % (i + 2) === 0) return false;
    }
    return true;
}

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
console.log("–§–∞–∫—Ç–æ—Ä–∏–∞–ª 5:", factorial(5));
console.log("–ß–∏—Å–ª–æ 17 –ø—Ä–æ—Å—Ç–æ–µ?", isPrime(17));

helloWorld();</textarea>
                        </div>

                        <!-- –†–ï–°–ê–ô–ó–ï–† -->
                        <div id="code-resizer" class="code-resizer" style="
                            width: 5px;
                            background: ${theme.resizerBg};
                            cursor: col-resize;
                            position: relative;
                            z-index: 10;
                            transition: background-color 0.2s;
                        " title="–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞"></div>

                        <!-- –ü–†–ê–í–ê–Ø –ß–ê–°–¢–¨ -->
                        <div id="code-right-panel" style="
                            flex: ${(100 - initialLeftWidth) / 100};
                            display: flex;
                            flex-direction: column;
                            min-width: 30%;
                        ">
                            <!-- –í–ö–õ–ê–î–ö–ò -->
                            <div style="display: flex; background: ${theme.headerBg}; border-bottom: 1px solid ${theme.headerBorder};">
                                <div class="code-tab active" data-code-tab="output" style="
                                    flex: 1;
                                    padding: 12px;
                                    text-align: center;
                                    cursor: pointer;
                                    color: ${theme.tabActive};
                                    font-weight: 600;
                                    font-size: 14px;
                                    border-bottom: 3px solid ${theme.tabActive};
                                ">
                                    üìä –†–µ–∑—É–ª—å—Ç–∞—Ç
                                </div>
                                <div class="code-tab" data-code-tab="assistant" style="
                                    flex: 1;
                                    padding: 12px;
                                    text-align: center;
                                    cursor: pointer;
                                    color: ${theme.tabInactive};
                                    font-weight: 600;
                                    font-size: 14px;
                                ">
                                    ü§ñ AI –ü–æ–º–æ—â–Ω–∏–∫
                                </div>
                            </div>

                            <!-- –ö–û–ù–¢–ï–ô–ù–ï–† –í–ö–õ–ê–î–û–ö -->
                            <div style="flex: 1; display: flex; flex-direction: column; overflow: hidden;">
                                <!-- –†–ï–ó–£–õ–¨–¢–ê–¢ -->
                                <div class="code-content active" data-code-tab="output" style="flex: 1; display: flex; flex-direction: column;">
                                    <div id="code-output" class="chat-scroll-container" style="
                                        flex: 1;
                                        padding: 15px;
                                        overflow-y: auto;
                                        font-family: 'JetBrains Mono', 'Courier New', monospace;
                                        font-size: 14px;
                                        background: ${theme.codeBg};
                                        color: ${theme.codeText};
                                        line-height: 1.5;
                                        white-space: pre-wrap;
                                        word-wrap: break-word;
                                    "></div>
                                </div>

                                <!-- AI –ü–û–ú–û–©–ù–ò–ö -->
                                <div class="code-content" data-code-tab="assistant" style="flex: 1; display: none; flex-direction: column;">
                                    <div id="code-assistant-chat" class="chat-scroll-container" style="
                                        flex: 1;
                                        overflow-y: auto;
                                        padding: 15px;
                                        background: ${theme.chatBg};
                                        display: flex;
                                        flex-direction: column;
                                    "></div>
                                    <div style="padding: 15px; border-top: 1px solid ${theme.headerBorder}; background: ${theme.panelBg}; flex-shrink: 0;">
                                        <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                                            <button class="assistant-quick" data-action="explain" style="
                                                flex: 1;
                                                padding: 10px;
                                                background: ${theme.buttonInfo};
                                                color: white;
                                                border: none;
                                                border-radius: 8px;
                                                cursor: pointer;
                                                font-size: 12px;
                                            ">üìñ –û–±—ä—è—Å–Ω–∏—Ç—å –∫–æ–¥</button>
                                            <button class="assistant-quick" data-action="optimize" style="
                                                flex: 1;
                                                padding: 10px;
                                                background: ${theme.buttonSuccess};
                                                color: white;
                                                border: none;
                                                border-radius: 8px;
                                                cursor: pointer;
                                                font-size: 12px;
                                            ">‚ö° –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button>
                                        </div>
                                        <textarea id="code-assistant-input" placeholder="–°–ø—Ä–æ—Å–∏—Ç–µ AI –ø–æ–º–æ—â–Ω–∏–∫–∞ –æ –∫–æ–¥–µ..." style="
                                            width: 100%;
                                            padding: 12px;
                                            border: 1px solid ${theme.inputBorder};
                                            border-radius: 8px;
                                            resize: none;
                                            min-height: 60px;
                                            font-family: inherit;
                                            font-size: 14px;
                                            background: ${theme.inputBg};
                                            color: ${theme.inputText};
                                            box-sizing: border-box;
                                            margin-bottom: 10px;
                                        "></textarea>
                                        <button id="code-assistant-send" style="
                                            width: 100%;
                                            padding: 12px;
                                            background: ${theme.buttonPrimary};
                                            color: white;
                                            border: none;
                                            border-radius: 8px;
                                            cursor: pointer;
                                            font-weight: 600;
                                        ">üí¨ –°–ø—Ä–æ—Å–∏—Ç—å AI</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –í–ö–õ–ê–î–ö–ê –ü–†–û–ú–ü–¢–´ -->
                <div class="kaai-content" data-tab="prompts" style="flex: 1; display: none; flex-direction: column; overflow: hidden;">
                    <div style="padding: 20px; background: ${theme.headerBg}; border-bottom: 1px solid ${theme.headerBorder}; flex-shrink: 0;">
                        <div style="font-weight: 600; color: ${theme.tabActive}; margin-bottom: 5px;">üéØ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞–º–∏</div>
                        <div style="font-size: 13px; color: ${theme.tabInactive};">–°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–≤–æ–∏ –ø—Ä–æ–º–ø—Ç—ã</div>
                    </div>

                    <div class="chat-scroll-container" style="
                        flex: 1;
                        overflow-y: auto;
                        padding: 20px;
                        background: ${theme.chatBg};
                    ">
                        <div style="margin-bottom: 20px;">
                            <input type="text" id="prompt-name" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞..." style="
                                width: 100%;
                                padding: 12px;
                                border: 1px solid ${theme.inputBorder};
                                border-radius: 8px;
                                margin-bottom: 12px;
                                background: ${theme.inputBg};
                                color: ${theme.inputText};
                                box-sizing: border-box;
                            ">
                            <textarea id="prompt-editor" placeholder="–û–ø–∏—à–∏—Ç–µ —Ä–æ–ª—å –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ AI..." style="
                                width: 100%;
                                height: 150px;
                                padding: 12px;
                                border: 1px solid ${theme.inputBorder};
                                border-radius: 8px;
                                resize: vertical;
                                font-family: inherit;
                                font-size: 13px;
                                background: ${theme.inputBg};
                                color: ${theme.inputText};
                                box-sizing: border-box;
                            ">${GENERAL_PROMPT}</textarea>
                            <div style="display: flex; gap: 12px; margin-top: 15px;">
                                <button id="save-prompt" style="
                                    flex: 1;
                                    padding: 14px;
                                    background: ${theme.buttonSuccess};
                                    color: white;
                                    border: none;
                                    border-radius: 12px;
                                    cursor: pointer;
                                    font-weight: 600;
                                ">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                                <button id="use-prompt" style="
                                    padding: 14px 20px;
                                    background: ${theme.buttonPrimary};
                                    color: white;
                                    border: none;
                                    border-radius: 12px;
                                    cursor: pointer;
                                    font-weight: 600;
                                ">‚ú® –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</button>
                            </div>
                        </div>
                        <div>
                            <div style="font-weight: 600; color: ${theme.inputText}; margin-bottom: 15px;">üìö –í–∞—à–∏ –ø—Ä–æ–º–ø—Ç—ã:</div>
                            <div id="prompts-list" style="display: grid; gap: 10px;"></div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- –§–£–¢–ï–† -->
            <div style="
                padding: 12px 20px;
                background: ${theme.headerBg};
                border-top: 1px solid ${theme.headerBorder};
                font-size: 11px;
                color: ${theme.tabInactive};
                text-align: center;
                flex-shrink: 0;
            ">
                KAALITION AI ‚Ä¢ V4 ‚Ä¢ NEWS OFFICIAL ‚Ä¢ –†–µ—Å–∞–π–∑–∏–Ω–≥ ‚Ä¢ –ü–†–ò –ü–û–î–î–ï–†–ñ–ö–ò #–ö–ê–ê–õ–ò–¶–ò–Ø
            </div>
        `;
    }

    // ========== –§–£–ù–ö–¶–ò–Ø –ò–ó–ú–ï–ù–ï–ù–ò–Ø –†–ê–ó–ú–ï–†–ê –û–ö–ù–ê ==========
    function resizeWindowForTab(tabName) {
        const panel = document.getElementById('kaai-panel');
        if (!panel) return;

        const sizes = WINDOW_SIZES[tabName === 'code' ? 'code' : 'normal'];

        panel.style.transition = 'all 0.3s ease';
        panel.style.width = `${sizes.width}px`;
        panel.style.maxWidth = sizes.maxWidth;
        panel.style.height = `${sizes.height}px`;
        panel.style.maxHeight = sizes.maxHeight;

        if (tabName === 'code') {
            panel.style.right = '50px';
            panel.style.bottom = '50px';
        } else {
            panel.style.right = '20px';
            panel.style.bottom = '90px';
        }

        console.log(`üîÑ –†–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω: ${sizes.width}x${sizes.height} –¥–ª—è –≤–∫–ª–∞–¥–∫–∏ "${tabName}"`);
    }

    // ========== –§–£–ù–ö–¶–ò–ò –†–ï–°–ê–ô–ó–ò–ù–ì–ê ==========
    function initResizer() {
        const resizer = document.getElementById('code-resizer');
        const leftPanel = document.getElementById('code-editor-container');
        const rightPanel = document.getElementById('code-right-panel');

        if (!resizer || !leftPanel || !rightPanel) return;

        updateWidthDisplay();

        resizer.addEventListener('mousedown', function(e) {
            e.preventDefault();
            resizerActive = true;
            initialX = e.clientX;

            const leftStyle = window.getComputedStyle(leftPanel);
            const rightStyle = window.getComputedStyle(rightPanel);

            const leftFlex = parseFloat(leftStyle.flex);
            const rightFlex = parseFloat(rightStyle.flex);
            const totalFlex = leftFlex + rightFlex;

            document.addEventListener('mousemove', handleMouseMove);
            document.addEventListener('mouseup', handleMouseUp);

            function handleMouseMove(e) {
                if (!resizerActive) return;

                const dx = e.clientX - initialX;
                const containerWidth = resizer.parentElement.clientWidth;
                const deltaFlex = (dx / containerWidth) * totalFlex;

                const newLeftFlex = Math.max(0.3, Math.min(0.7, leftFlex + deltaFlex));
                const newRightFlex = totalFlex - newLeftFlex;

                leftPanel.style.flex = newLeftFlex;
                rightPanel.style.flex = newRightFlex;

                initialLeftWidth = Math.round(newLeftFlex * 100);
                updateWidthDisplay();
            }

            function handleMouseUp() {
                resizerActive = false;
                document.removeEventListener('mousemove', handleMouseMove);
                document.removeEventListener('mouseup', handleMouseUp);
                saveData();
            }
        });

        resizer.addEventListener('mouseenter', function() {
            this.style.backgroundColor = THEMES[currentTheme].resizerHover;
        });

        resizer.addEventListener('mouseleave', function() {
            if (!resizerActive) {
                this.style.backgroundColor = THEMES[currentTheme].resizerBg;
            }
        });
    }

    function updateWidthDisplay() {
        const display = document.getElementById('code-size-info');
        if (display) {
            display.textContent = `${WINDOW_SIZES.code.width}√ó${WINDOW_SIZES.code.height} (${initialLeftWidth}%/${100 - initialLeftWidth}%)`;
        }
    }

    // ========== –°–¢–ò–õ–ò ==========
    function applyThemeStyles() {
        const theme = getCurrentTheme();

        GM_addStyle(`
            #kaai-btn:hover {
                transform: scale(1.1);
            }

            .kaai-header {
                position: sticky !important;
                top: 0 !important;
                z-index: 100 !important;
            }

            .chat-scroll-container {
                overflow-y: auto !important;
                display: flex !important;
                flex-direction: column !important;
                flex: 1 !important;
                min-height: 0 !important;
            }

            .chat-message {
                margin-bottom: 12px !important;
                padding: 12px 16px !important;
                border-radius: 12px !important;
                max-width: 85% !important;
                word-wrap: break-word !important;
                font-size: 14px !important;
                line-height: 1.5 !important;
                display: block !important;
                visibility: visible !important;
                opacity: 1 !important;
                animation: none !important;
                flex-shrink: 0 !important;
            }

            .user-message {
                margin-left: auto !important;
                background: ${theme.messageUserBg} !important;
                color: ${theme.messageUserText} !important;
                border-bottom-right-radius: 4px !important;
            }

            .ai-message {
                background: ${theme.messageAiBg} !important;
                color: ${theme.messageAiText} !important;
                border: 1px solid ${theme.messageAiBorder} !important;
                border-bottom-left-radius: 4px !important;
            }

            .system-message {
                margin: 12px auto !important;
                background: ${theme.messageSystemBg} !important;
                color: ${theme.messageSystemText} !important;
                border: 1px solid ${theme.messageSystemBorder} !important;
                border-radius: 8px !important;
                text-align: center !important;
                padding: 10px 14px !important;
                font-size: 13px !important;
                max-width: 90% !important;
            }

            .code-resizer {
                transition: background-color 0.2s !important;
            }

            .code-resizer:hover {
                background-color: ${theme.resizerHover} !important;
            }

            .code-resizer.active {
                background-color: ${theme.resizerHover} !important;
            }

            .code-tab {
                transition: background-color 0.2s;
            }

            .code-tab:hover {
                background-color: ${theme.tabHover};
            }

            .chat-scroll-container::-webkit-scrollbar {
                width: 12px !important;
                height: 12px !important;
            }

            .chat-scroll-container::-webkit-scrollbar-track {
                background: ${theme.scrollbarTrack} !important;
                border-radius: 6px !important;
                margin: 4px !important;
            }

            .chat-scroll-container::-webkit-scrollbar-thumb {
                background: ${theme.scrollbarThumb} !important;
                border-radius: 6px !important;
                border: 2px solid ${theme.scrollbarTrack} !important;
                min-height: 40px !important;
            }

            .chat-scroll-container::-webkit-scrollbar-thumb:hover {
                background: ${theme.scrollbarThumbHover} !important;
                cursor: pointer !important;
            }

            .chat-scroll-container {
                scrollbar-width: auto !important;
                scrollbar-color: ${theme.scrollbarThumb} ${theme.scrollbarTrack} !important;
            }

            button {
                transition: opacity 0.2s;
            }

            button:hover:not(:disabled) {
                opacity: 0.9;
            }

            textarea:focus, input:focus, select:focus {
                outline: none;
                border-color: ${theme.tabActive} !important;
            }

            ::placeholder {
                color: ${theme.inputPlaceholder} !important;
                opacity: 0.8;
            }
        `);
    }

    // ========== –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò –°–û–ë–´–¢–ò–ô ==========
    function setupEventListeners() {
        console.log('üîó –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤...');

        const btn = document.getElementById('kaai-btn');
        const panel = document.getElementById('kaai-panel');
        const closeBtn = document.getElementById('kaai-close');

        // 1. –û—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ
        btn.addEventListener('click', togglePanel);
        closeBtn.addEventListener('click', closePanel);

        // 2. –û—Å–Ω–æ–≤–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏
        document.querySelectorAll('.kaai-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const tabName = this.dataset.tab;
                switchTab(tabName);
                resizeWindowForTab(tabName);
            });
        });

        // 3. –í–∫–ª–∞–¥–∫–∏ –∫–æ–¥–∞
        document.querySelectorAll('.code-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const tabName = this.dataset.codeTab;
                switchCodeTab(tabName);
            });
        });

        // 4. AI –ß–ê–¢
        document.getElementById('ai-send')?.addEventListener('click', () => sendMessage('ai'));
        document.getElementById('ai-clear')?.addEventListener('click', () => clearChat('ai'));

        const aiInput = document.getElementById('ai-input');
        aiInput?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey && !isProcessing) {
                e.preventDefault();
                sendMessage('ai');
            }
        });

        // 5. –ü–°–ò–•–û–õ–û–ì
        document.getElementById('psych-send')?.addEventListener('click', () => sendMessage('psych'));

        const psychInput = document.getElementById('psych-input');
        psychInput?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey && !isProcessing) {
                e.preventDefault();
                sendMessage('psych');
            }
        });

        document.querySelectorAll('.psych-quick').forEach(button => {
            button.addEventListener('click', function() {
                document.getElementById('psych-input').value = this.getAttribute('data-text');
                document.getElementById('psych-input').focus();
            });
        });

        // 6. –ö–û–î-–ü–ï–°–û–ß–ù–ò–¶–ê
        document.getElementById('code-run')?.addEventListener('click', runCode);
        document.getElementById('code-debug')?.addEventListener('click', debugCode);
        document.getElementById('code-clear')?.addEventListener('click', clearCode);

        // 7. AI –ü–û–ú–û–©–ù–ò–ö –î–õ–Ø –ö–û–î–ê
        document.getElementById('code-assistant-toggle')?.addEventListener('click', toggleCodeAssistant);
        document.getElementById('code-assistant-send')?.addEventListener('click', sendCodeAssistantMessage);

        const assistantInput = document.getElementById('code-assistant-input');
        assistantInput?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey && !isProcessing) {
                e.preventDefault();
                sendCodeAssistantMessage();
            }
        });

        document.querySelectorAll('.assistant-quick').forEach(button => {
            button.addEventListener('click', function() {
                const action = this.getAttribute('data-action');
                handleAssistantQuickAction(action);
            });
        });

        // 8. –ü–†–û–ú–ü–¢–´
        document.getElementById('save-prompt')?.addEventListener('click', savePrompt);
        document.getElementById('use-prompt')?.addEventListener('click', usePrompt);

        // 9. –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
        document.addEventListener('keydown', function(e) {
            if (e.altKey && e.key === 'a') {
                e.preventDefault();
                togglePanel();
            }
            if (e.key === 'Escape' && isOpen) {
                closePanel();
            }
        });

        // 10. –ö–ª–∏–∫ –≤–Ω–µ –ø–∞–Ω–µ–ª–∏
        document.addEventListener('click', function(e) {
            if (isOpen && !panel.contains(e.target) && e.target !== btn) {
                closePanel();
            }
        });

        // 11. –ü–†–û–ö–†–£–¢–ö–ê –ß–ê–¢–ê
        const chatObserver = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {
                    const container = mutation.target;
                    setTimeout(() => {
                        container.scrollTop = container.scrollHeight;
                    }, 10);
                }
            });
        });

        setTimeout(() => {
            const aiChat = document.getElementById('ai-chat');
            const psychChat = document.getElementById('psych-chat');
            const codeOutput = document.getElementById('code-output');
            const assistantChat = document.getElementById('code-assistant-chat');

            if (aiChat) chatObserver.observe(aiChat, { childList: true, subtree: false });
            if (psychChat) chatObserver.observe(psychChat, { childList: true, subtree: false });
            if (codeOutput) chatObserver.observe(codeOutput, { childList: true, subtree: false });
            if (assistantChat) chatObserver.observe(assistantChat, { childList: true, subtree: false });

            initResizer();
        }, 1000);
    }

    // ========== –§–£–ù–ö–¶–ò–ò –í–ö–õ–ê–î–û–ö –ö–û–î–ê ==========
    function switchCodeTab(tabName) {
        const theme = getCurrentTheme();

        document.querySelectorAll('.code-tab').forEach(tab => {
            const isActive = tab.dataset.codeTab === tabName;
            tab.style.color = isActive ? theme.tabActive : theme.tabInactive;
            tab.style.borderBottom = isActive ? `3px solid ${theme.tabActive}` : 'none';
        });

        document.querySelectorAll('.code-content').forEach(content => {
            content.style.display = content.dataset.codeTab === tabName ? 'flex' : 'none';
        });
    }

    function toggleCodeAssistant() {
        const assistantTab = document.querySelector('.code-tab[data-code-tab="assistant"]');
        if (assistantTab) {
            switchCodeTab('assistant');

            const assistantChat = document.getElementById('code-assistant-chat');
            if (assistantChat && assistantChat.children.length === 0) {
                addMessage('code-assistant-chat', 'system',
                    'ü§ñ <b>AI –ü–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –∫–æ–¥–∞</b><br><br>' +
                    '–Ø –ø–æ–º–æ–≥—É –≤–∞–º —Å –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ–º:<br>' +
                    '‚Ä¢ üìñ –û–±—ä—è—Å–Ω—é –ª—é–±–æ–π –∫–æ–¥<br>' +
                    '‚Ä¢ üêõ –ù–∞–π–¥—É –∏ –∏—Å–ø—Ä–∞–≤–ª—é –æ—à–∏–±–∫–∏<br>' +
                    '‚Ä¢ ‚ö° –ü—Ä–µ–¥–ª–æ–∂—É –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏<br>' +
                    '‚Ä¢ üí° –î–∞–º —Å–æ–≤–µ—Ç—ã –ø–æ —É–ª—É—á—à–µ–Ω–∏—é<br>' +
                    '‚Ä¢ üìö –û–±—ä—è—Å–Ω—é –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏<br><br>' +
                    '–ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏!'
                );
            }

            setTimeout(() => {
                document.getElementById('code-assistant-input')?.focus();
            }, 100);
        }
    }

    // ========== AI –ü–û–ú–û–©–ù–ò–ö –î–õ–Ø –ö–û–î–ê ==========
    async function sendCodeAssistantMessage() {
        if (isProcessing) return;

        const input = document.getElementById('code-assistant-input');
        const message = input.value.trim();

        if (!message) return;

        isProcessing = true;
        input.value = '';

        addMessage('code-assistant-chat', 'user', message);
        const indicator = showTyping('code-assistant-chat');

        try {
            const code = document.getElementById('code-editor').value;
            const language = document.getElementById('code-language').value;

            const prompt = `${CODE_ASSISTANT_PROMPT}\n\n–¢–µ–∫—É—â–∏–π –∫–æ–¥ –Ω–∞ ${language}:\n\`\`\`${language}\n${code}\n\`\`\`\n\n–í–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: ${message}`;

            const response = await callAIWithPrompt(prompt, CODE_ASSISTANT_PROMPT);
            if (indicator && indicator.parentNode) {
                indicator.remove();
            }
            addMessage('code-assistant-chat', 'ai', response);
        } catch (error) {
            if (indicator && indicator.parentNode) {
                indicator.remove();
            }
            addMessage('code-assistant-chat', 'system', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`);
        } finally {
            isProcessing = false;
        }
    }

    function handleAssistantQuickAction(action) {
        const code = document.getElementById('code-editor').value;
        const language = document.getElementById('code-language').value;

        if (!code.trim()) {
            addMessage('code-assistant-chat', 'system', '‚ùå –°–Ω–∞—á–∞–ª–∞ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä');
            return;
        }

        let question = '';

        switch(action) {
            case 'explain':
                question = `–û–±—ä—è—Å–Ω–∏ —ç—Ç–æ—Ç –∫–æ–¥ –Ω–∞ ${language} –ø–æ—Å—Ç—Ä–æ—á–Ω–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–∞–∂–¥–∞—è —á–∞—Å—Ç—å?`;
                break;
            case 'optimize':
                question = `–ö–∞–∫ –º–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –∫–æ–¥ –Ω–∞ ${language}? –ü—Ä–µ–¥–ª–æ–∂–∏ —É–ª—É—á—à–µ–Ω–∏—è.`;
                break;
        }

        if (question) {
            document.getElementById('code-assistant-input').value = question;
            sendCodeAssistantMessage();
        }
    }

    async function callAIWithPrompt(message, customPrompt) {
        const messages = [
            { role: "system", content: customPrompt || currentPrompt },
            { role: "user", content: message }
        ];

        return new Promise((resolve, reject) => {
            GM_xmlhttpRequest({
                method: 'POST',
                url: CONFIG.API_URL,
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${CONFIG.API_KEY}`
                },
                data: JSON.stringify({
                    model: CONFIG.MODEL,
                    messages: messages,
                    temperature: 0.7,
                    max_tokens: CONFIG.MAX_TOKENS
                }),
                timeout: 30000,
                onload: function(response) {
                    if (response.status === 200) {
                        try {
                            const data = JSON.parse(response.responseText);
                            const result = data.choices?.[0]?.message?.content;
                            if (result) {
                                resolve(result);
                            } else {
                                reject(new Error('–ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç'));
                            }
                        } catch (e) {
                            reject(new Error('–û—à–∏–±–∫–∞ —Ä–∞–∑–±–æ—Ä–∞'));
                        }
                    } else {
                        reject(new Error(`–û—à–∏–±–∫–∞: ${response.status}`));
                    }
                },
                onerror: reject,
                ontimeout: () => reject(new Error('–¢–∞–π–º–∞—É—Ç'))
            });
        });
    }

    // ========== –û–°–ù–û–í–ù–´–ï –§–£–ù–ö–¶–ò–ò ==========
    function togglePanel() {
        const panel = document.getElementById('kaai-panel');
        const btn = document.getElementById('kaai-btn');

        if (isOpen) {
            panel.style.display = 'none';
            btn.innerHTML = 'ü§ñ';
            isOpen = false;
        } else {
            panel.style.display = 'flex';
            btn.innerHTML = '‚úï';
            isOpen = true;

            setTimeout(() => {
                resizeWindowForTab(activeTab);

                if (activeTab === 'ai') {
                    document.getElementById('ai-input')?.focus();
                } else if (activeTab === 'psych') {
                    document.getElementById('psych-input')?.focus();
                } else if (activeTab === 'code') {
                    document.getElementById('code-editor')?.focus();
                }
            }, 100);
        }
    }

    function closePanel() {
        const panel = document.getElementById('kaai-panel');
        const btn = document.getElementById('kaai-btn');
        panel.style.display = 'none';
        isOpen = false;
        btn.innerHTML = 'ü§ñ';
    }

    function switchTab(tabName) {
        activeTab = tabName;
        const theme = getCurrentTheme();

        document.querySelectorAll('.kaai-tab').forEach(tab => {
            const isActive = tab.dataset.tab === tabName;
            tab.style.color = isActive ? theme.tabActive : theme.tabInactive;
            tab.style.borderBottom = isActive ? `3px solid ${theme.tabActive}` : 'none';
        });

        document.querySelectorAll('.kaai-content').forEach(content => {
            content.style.display = content.dataset.tab === tabName ? 'flex' : 'none';
        });

        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –∫–∞–∂–¥–æ–π –≤–∫–ª–∞–¥–∫–∏
        if (tabName === 'psych') {
            currentPrompt = PSYCH_PROMPT;
        } else if (tabName === 'code') {
            // –î–ª—è –≤–∫–ª–∞–¥–∫–∏ "–ö–æ–¥" –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç CODE_ASSISTANT_PROMPT
            // –ù–æ currentPrompt –æ—Å—Ç–∞–≤–ª—è–µ–º –∫–∞–∫ GENERAL_PROMPT –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ AI —á–∞—Ç–∞
            if (activeTab === 'ai') {
                currentPrompt = GENERAL_PROMPT;
            }
        } else if (tabName === 'ai') {
            currentPrompt = GENERAL_PROMPT;
        }
    }

    // ========== –§–£–ù–ö–¶–ò–ò –ß–ê–¢–ê ==========
    function addMessage(containerId, role, text) {
        const container = document.getElementById(containerId);
        if (!container) return;

        const messageDiv = document.createElement('div');
        messageDiv.className = `chat-message ${role}-message`;

        let formattedText = text
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;')
            .replace(/`([^`]+)`/g, '<code>$1</code>')
            .replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>')
            .replace(/\n/g, '<br>');

        messageDiv.innerHTML = formattedText;
        container.appendChild(messageDiv);

        setTimeout(() => {
            container.scrollTop = container.scrollHeight;
        }, 10);
    }

    function showTyping(containerId) {
        const container = document.getElementById(containerId);
        if (!container) return null;

        const indicator = document.createElement('div');
        indicator.className = 'chat-message ai-message';
        indicator.innerHTML = 'ü§ñ –ü–µ—á–∞—Ç–∞–µ—Ç...';

        container.appendChild(indicator);

        setTimeout(() => {
            container.scrollTop = container.scrollHeight;
        }, 10);

        return indicator;
    }

    async function callAI(message) {
        return callAIWithPrompt(message, currentPrompt);
    }

    async function sendMessage(type) {
        if (isProcessing) return;

        const inputId = type === 'ai' ? 'ai-input' : 'psych-input';
        const chatId = type === 'ai' ? 'ai-chat' : 'psych-chat';
        const input = document.getElementById(inputId);
        const message = input.value.trim();

        if (!message) return;

        isProcessing = true;
        input.value = '';

        addMessage(chatId, 'user', message);
        const indicator = showTyping(chatId);

        try {
            const response = await callAI(message);
            if (indicator && indicator.parentNode) {
                indicator.remove();
            }
            addMessage(chatId, 'ai', response);
        } catch (error) {
            if (indicator && indicator.parentNode) {
                indicator.remove();
            }
            addMessage(chatId, 'system', `‚ùå –û—à–∏–±–∫–∞: ${error.message}`);
        } finally {
            isProcessing = false;
        }
    }

    function clearChat(type) {
        const chatId = type === 'ai' ? 'ai-chat' : 'psych-chat';
        const container = document.getElementById(chatId);
        if (container) {
            container.innerHTML = '';
            addMessage(chatId, 'system', 'üßπ –ß–∞—Ç –æ—á–∏—â–µ–Ω. –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?');
        }
    }

    // ========== –ö–û–î-–ü–ï–°–û–ß–ù–ò–¶–ê ==========
    async function runCode() {
        const code = document.getElementById('code-editor').value;
        const language = document.getElementById('code-language').value;
        const output = document.getElementById('code-output');

        if (!code.trim()) {
            output.innerHTML = '<div style="color: #ff7675;">‚ùå –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥</div>';
            return;
        }

        output.innerHTML = '<div style="color: #fdcb6e;">‚è≥ –ó–∞–ø—É—Å–∫...</div>';

        try {
            let result;
            if (language === 'javascript') {
                result = await executeJavaScript(code);
            } else {
                result = await executeWithAI(code, language);
            }

            output.innerHTML = `<div style="color: #00b894;">‚úÖ –£—Å–ø–µ—à–Ω–æ:</div><pre style="margin: 5px 0;">${escapeHtml(result)}</pre>`;
        } catch (error) {
            output.innerHTML = `<div style="color: #ff7675;">‚ùå –û—à–∏–±–∫–∞:</div><pre style="margin: 5px 0; color: #ff9999;">${escapeHtml(error.message)}</pre>`;
        }
    }

    async function executeJavaScript(code) {
        return new Promise((resolve, reject) => {
            try {
                const iframe = document.createElement('iframe');
                iframe.style.display = 'none';
                document.body.appendChild(iframe);

                const originalLog = console.log;
                const logs = [];

                console.log = function(...args) {
                    logs.push(args.join(' '));
                    originalLog.apply(console, args);
                };

                const result = iframe.contentWindow.eval(code);

                console.log = originalLog;
                document.body.removeChild(iframe);

                const output = logs.length > 0 ? logs.join('\n') : String(result || '–ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω');
                resolve(output);
            } catch (error) {
                reject(error);
            }
        });
    }

    async function executeWithAI(code, language) {
        const prompt = `–í—ã–ø–æ–ª–Ω–∏ —ç—Ç–æ—Ç –∫–æ–¥ –Ω–∞ ${language} –∏ –ø–æ–∫–∞–∂–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:\n\`\`\`${language}\n${code}\n\`\`\``;
        return await callAIWithPrompt(prompt, CODE_ASSISTANT_PROMPT);
    }

    async function debugCode() {
        const code = document.getElementById('code-editor').value;
        const language = document.getElementById('code-language').value;
        const output = document.getElementById('code-output');

        if (!code.trim()) {
            output.innerHTML = '<div style="color: #ff7675;">‚ùå –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥</div>';
            return;
        }

        output.innerHTML = '<div style="color: #fdcb6e;">üîç –ê–Ω–∞–ª–∏–∑...</div>';

        try {
            const prompt = `–ù–∞–π–¥–∏ –æ—à–∏–±–∫–∏ –≤ –∫–æ–¥–µ –Ω–∞ ${language}:\n\`\`\`${language}\n${code}\n\`\`\``;
            const response = await callAIWithPrompt(prompt, CODE_ASSISTANT_PROMPT);
            output.innerHTML = `<div style="color: #6c5ce7;">üîß –†–µ–∑—É–ª—å—Ç–∞—Ç:</div><pre style="margin: 5px 0;">${escapeHtml(response)}</pre>`;
        } catch (error) {
            output.innerHTML = `<div style="color: #ff7675;">‚ùå –û—à–∏–±–∫–∞: ${error.message}</div>`;
        }
    }

    function clearCode() {
        document.getElementById('code-editor').value = '';
        document.getElementById('code-output').innerHTML = '';
        const assistantChat = document.getElementById('code-assistant-chat');
        if (assistantChat) {
            assistantChat.innerHTML = '';
        }
    }

    // ========== –ü–†–û–ú–ü–¢–´ ==========
    function updatePromptsList() {
        const list = document.getElementById('prompts-list');
        if (!list) return;

        const theme = getCurrentTheme();
        list.innerHTML = '';

        // –¢–†–ò –û–°–ù–û–í–ù–´–• –ü–†–û–ú–ü–¢–ê
        const mainPrompts = [
            {
                name: "ü§ñ –û–±—â–∏–π AI –ß–∞—Ç",
                prompt: GENERAL_PROMPT,
                type: "ai"
            },
            {
                name: "üß† –ü—Å–∏—Ö–æ–ª–æ–≥",
                prompt: PSYCH_PROMPT,
                type: "psych"
            },
            {
                name: "üíª –ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç",
                prompt: CODE_ASSISTANT_PROMPT,
                type: "code"
            }
        ];

        // –î–æ–±–∞–≤–ª—è–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
        mainPrompts.forEach(item => {
            const promptItem = document.createElement('div');
            promptItem.style.cssText = `
                padding: 12px;
                background: ${theme.messageAiBg};
                border: 1px solid ${theme.messageAiBorder};
                border-radius: 8px;
            `;
            promptItem.innerHTML = `
                <div style="font-weight: 600; color: ${theme.tabActive}; margin-bottom: 5px;">${item.name}</div>
                <div style="font-size: 12px; color: ${theme.tabInactive}; margin-bottom: 8px;">
                    ${item.prompt.substring(0, 80)}...
                </div>
                <button class="load-main-prompt" data-prompt="${encodeURIComponent(item.prompt)}" data-type="${item.type}" style="
                    width: 100%;
                    padding: 8px 12px;
                    background: ${theme.buttonPrimary};
                    color: ${theme.buttonPrimaryText};
                    border: none;
                    border-radius: 6px;
                    cursor: pointer;
                    font-size: 12px;
                ">
                    üìã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
                </button>
            `;
            list.appendChild(promptItem);
        });

        // –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
        const separator = document.createElement('div');
        separator.style.cssText = `
            text-align: center;
            padding: 10px;
            color: ${theme.tabInactive};
            font-size: 12px;
            border-top: 1px solid ${theme.panelBorder};
            margin-top: 10px;
        `;
        separator.innerHTML = '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–æ–º–ø—Ç—ã ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ';
        list.appendChild(separator);

        // –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
        Object.entries(customPrompts).forEach(([name, prompt]) => {
            const item = document.createElement('div');
            item.style.cssText = `
                padding: 12px;
                background: ${theme.messageAiBg};
                border: 1px solid ${theme.messageAiBorder};
                border-radius: 8px;
            `;
            item.innerHTML = `
                <div style="font-weight: 600; color: ${theme.inputText}; margin-bottom: 5px;">${name}</div>
                <div style="font-size: 12px; color: ${theme.tabInactive}; margin-bottom: 8px;">
                    ${prompt.substring(0, 60)}...
                </div>
                <div style="display: flex; gap: 8px;">
                    <button class="load-prompt" data-prompt="${encodeURIComponent(prompt)}" style="
                        flex: 1;
                        padding: 8px;
                        background: ${theme.buttonPrimary};
                        color: ${theme.buttonPrimaryText};
                        border: none;
                        border-radius: 6px;
                        cursor: pointer;
                        font-size: 12px;
                    ">
                        üìã –ó–∞–≥—Ä—É–∑–∏—Ç—å
                    </button>
                    <button class="delete-prompt" data-name="${name}" style="
                        padding: 8px 12px;
                        background: ${theme.buttonDanger};
                        color: white;
                        border: none;
                        border-radius: 6px;
                        cursor: pointer;
                        font-size: 12px;
                    ">
                        üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
                    </button>
                </div>
            `;
            list.appendChild(item);
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
        setTimeout(() => {
            // –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
            document.querySelectorAll('.load-main-prompt').forEach(btn => {
                btn.addEventListener('click', function() {
                    const prompt = decodeURIComponent(this.getAttribute('data-prompt'));
                    const type = this.getAttribute('data-type');

                    document.getElementById('prompt-editor').value = prompt;

                    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –Ω—É–∂–Ω—É—é –≤–∫–ª–∞–¥–∫—É
                    if (type === 'ai') {
                        switchTab('ai');
                        currentPrompt = prompt;
                        alert('‚úÖ –ü—Ä–æ–º–ø—Ç "–û–±—â–∏–π AI –ß–∞—Ç" —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!');
                    } else if (type === 'psych') {
                        switchTab('psych');
                        currentPrompt = prompt;
                        alert('‚úÖ –ü—Ä–æ–º–ø—Ç "–ü—Å–∏—Ö–æ–ª–æ–≥" —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!');
                    } else if (type === 'code') {
                        // –î–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º CODE_ASSISTANT_PROMPT
                        alert('‚úÖ –ü—Ä–æ–º–ø—Ç "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç" –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ AI –ø–æ–º–æ—â–Ω–∏–∫–µ –¥–ª—è –∫–æ–¥–∞!');
                    }
                });
            });

            // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—Ä–æ–º–ø—Ç—ã
            document.querySelectorAll('.load-prompt').forEach(btn => {
                btn.addEventListener('click', function() {
                    const prompt = decodeURIComponent(this.getAttribute('data-prompt'));
                    document.getElementById('prompt-editor').value = prompt;
                });
            });

            document.querySelectorAll('.delete-prompt').forEach(btn => {
                btn.addEventListener('click', function() {
                    const name = this.getAttribute('data-name');
                    if (confirm(`–£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–º–ø—Ç "${name}"?`)) {
                        delete customPrompts[name];
                        saveData();
                        updatePromptsList();
                    }
                });
            });
        }, 100);
    }

    function savePrompt() {
        const nameInput = document.getElementById('prompt-name');
        const editor = document.getElementById('prompt-editor');

        const name = nameInput.value.trim();
        const content = editor.value.trim();

        if (!name) {
            alert('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞');
            return;
        }

        if (!content) {
            alert('–í–≤–µ–¥–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–∞');
            return;
        }

        customPrompts[name] = content;
        saveData();
        updatePromptsList();

        nameInput.value = '';
        alert('‚úÖ –ü—Ä–æ–º–ø—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω!');
    }

    function usePrompt() {
        const editor = document.getElementById('prompt-editor');
        currentPrompt = editor.value.trim();

        switchTab('ai');
        alert('‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ–º–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!');
    }

    // ========== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï ==========
    function escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }

    // ========== –ó–ê–ü–£–°–ö ==========
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
    } else {
        setTimeout(init, 1000);
    }

})();
